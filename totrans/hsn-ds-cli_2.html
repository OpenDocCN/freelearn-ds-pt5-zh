<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Essential Commands</h1>
                </header>
            
            <article>
                
<p>Now that we have the command line set up and installed, we will go over a list of everyday commands that are considered the basics. Having a fundamental understanding of the basic commands will be the building block on which we'll learn the advanced commands found later in this book.</p>
<p>In this chapter, we will cover the following topics:</p>
<ul>
<li style="font-weight: 400">Basic command-line navigation</li>
<li style="font-weight: 400">Redirecting input and output</li>
<li style="font-weight: 400">Where to get help if you're stuck</li>
<li style="font-weight: 400">How to customize the shell to your liking</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Essential commands</h1>
                </header>
            
            <article>
                
<p>Woah... hold your horses, we need to cover some basics about commands. A command is a process run by a <strong>POSIX</strong> (<strong>Portable Operating System Interface</strong>) compliant <strong>OS</strong> (<strong>Operating System</strong>). OpenGroup maintains the standard in addition to it being ratified as an IEEE standard (<a href="http://pubs.opengroup.org/onlinepubs/9699919799/" target="_blank">http://pubs.opengroup.org/onlinepubs/9699919799/</a>). In a POSIX environment, the process being run will have an environment, a current working directory, the command line (the path name that invoked the command and any arguments), and a series of file descriptors with <kbd>stdin</kbd>, <kbd>stdout</kbd>, and <kbd>stderr</kbd> (referred to by integer numbers 0, 1, and 2, respectively) being connected prior to handoff to your command.</p>
<p>Now with a little background and an installed command line, you are ready to go and we can actually start running commands. We will be going over some basic everyday commands. For those that are ready to delve in, let's discuss how we locate the commands we can run.</p>
<p>Locating commands is akin to searching through a filing cabinet, what we call a filesystem. Commands are just files stored in the filing cabinet, and folders or directories are used to organize the files into a hierarchy. Each directory may contain many files or other directories, and has a single parent directory. To open our filing cabinet, we need to start at the top of the hierarchy, the root directory, <kbd>/</kbd>. The first set of commands you need to know involve commands to traverse the filesystem and get your bearings.</p>
<p>When you log into the command line, it's likely that you will be in your home directory. What this directory is varies by system. To see where you are, try the <kbd>pwd</kbd> (present working directory) command:</p>
<pre><strong>pwd</strong></pre>
<p>The followin<span>g is what you should see on running the</span><span> preceding</span><span> </span><span>command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-624 image-border" src="assets/2f33dea1-e0c3-4ae7-9680-00b9b0ead183.png" style="width:15.33em;height:3.50em;"/></p>
<p>Here, <kbd>ubuntu</kbd> is your username. This means you are currently in the <kbd>ubuntu</kbd> directory, which is in the home directory, <kbd>/</kbd>. From here, if you try to open a file with a relative path name, that is, one that doesn't start with a <kbd>/</kbd>, the command line will look for that file in your current directory (you can do things with files in other directories without changing your current one, we will talk about that in a bit).</p>
<p>You might want to create your own directories. To do this, we can try the following command:</p>
<pre><strong>mkdir foo</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-625 image-border" src="assets/5dd2763b-779b-4eff-a67f-bd08c9bb32cf.png" style="width:19.00em;height:2.67em;"/></p>
<p>Which makes the directory <kbd>foo</kbd> inside your current directory. If this command completes successfully, it won't print anything. To see the directory we just made, we use the list command:</p>
<pre><strong> ls</strong></pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-626 image-border" src="assets/f55b0162-993c-4cec-9ee0-de129743abed.png" style="width:17.67em;height:4.25em;"/></p>
<p>It should be on a line by itself. We might want to print a little bit more information about the directory. In this case, we can pass some flags to the <kbd>ls</kbd> command to alter what it's doing. For example, type the following:</p>
<pre><strong>ls -l</strong></pre>
<p><span>This is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-627 image-border" src="assets/acb0bf33-bd87-424d-b380-da9cbea5d0f7.png" style="width:27.67em;height:4.92em;"/></p>
<p>It’s not too important right now to understand everything printed here, but we can see that foo is a directory, not a data file (from the <kbd>d</kbd> code in the front), and the date and time it was created. This is a common pattern among UNIX commands. The default version of the command does one thing, and passing in flags like <kbd>-l</kbd>.</p>
<p>Sometimes, commands have arguments, and sometimes flags of commands will have arguments, too. A general form of a command might appear as follows:</p>
<pre>&lt;command&gt; -a &lt;argument&gt; -b -c -d &lt;argument&gt; &lt;command arguments&gt;</pre>
<p>Here, <kbd>a</kbd>, <kbd>b</kbd>, <kbd>c</kbd>, and <kbd>d</kbd> are flags of the command. What exactly these commands are, and what they do, are dependent on the command.</p>
<p>Let’s go into our newly-created directory and mess around with some data files:</p>
<pre><strong>cd foo</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-628 image-border" src="assets/4797dc7f-fc03-4279-be7c-81edbee31431.png" style="width:20.50em;height:2.58em;"/></p>
<p class="mce-root"/>
<p>The <kbd>cd</kbd> (or change directory) command changes your current working directory. Let's now string together two commands to create a data file. We will talk about this a bit later, but for now we just need a file to mess around with:</p>
<pre><strong>echo “Hello world...” &gt; hello.txt</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-629 image-border" src="assets/d5e34f5a-8c74-4d61-8496-e9cbe7649e86.png" style="width:38.92em;height:3.42em;"/></p>
<p>This won't produce any output, but it will create a file called <kbd>hello.txt</kbd> (as we told the shell to redirect <kbd>stdout</kbd> with<span> </span><kbd>&gt;</kbd> to a file) that contains the single line of <span class="packt_screen">Hello world…</span> text. To see this, we can use the concatenate command:</p>
<pre><strong>cat hello.txt</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-630 image-border" src="assets/cc03dbf8-b6c2-4020-95d7-72194f79e3d6.png" style="width:24.75em;height:3.83em;"/></p>
<p>This will print the contents of any file. If we only want to see the first, or last, few lines of a file, we could use<span> </span><kbd>head</kbd><span> </span>and<span> </span><kbd>tail</kbd><span> </span>instead of<span> </span><kbd>cat</kbd>.</p>
<p>If this all sounds pretty simple, there’s a good reason: each command in UNIX is intended to do one thing and do it well. Often options can be used to tailor a command’s behavior. The really neat stuff you can do starts to happen when we start tying commands together using pipes and redirection.</p>
<p>You see, almost every command in UNIX has some way to input data into it. The command then takes the input, and, depending on its parameters and flags, transforms that input into something else and outputs it. We can use the pipe,<span> </span><kbd>|</kbd><span>, </span>to take the output from one command, and feed it into the input of another command. This simple but extremely powerful idea will let us do a lot with a few commands.</p>
<p>Let's try a simple example: let's use<span> </span><kbd>echo</kbd>, with the <kbd>-e</kbd> flag, to tell it to pay attention to control characters, to make a multi-line file (by using the <kbd>\n</kbd>) with some numbers on each line. </p>
<pre><strong>echo -e "1\n3\n19\n1\n25\n5" &gt; numbers.txt</strong><br/><strong>cat numbers.txt</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-631 image-border" src="assets/ecd6cb48-de78-4bd1-807a-47c3c4d08881.png" style="width:39.50em;height:9.83em;"/></p>
<p>Now, say we wanted to see those numbers sorted. The<span> </span><kbd>sort</kbd><span> </span>command does just this. Using a flag to sort to consider the lines to be numbers and not strings, we can pipe the output of<span> </span><kbd>cat</kbd><span> </span>into the <kbd>sort</kbd> function:</p>
<pre><strong>cat numbers.txt | sort -n</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-632 image-border" src="assets/2632f067-bec9-408b-a97c-6674feb21a0b.png" style="width:31.83em;height:10.00em;"/></p>
<p>If we then want to see just the unique numbers in sorted order, we can re-pipe this output to the <kbd>uniq</kbd><span> command, which returns unique lines from the given input</span>:</p>
<pre><strong>cat numbers.txt | sort -n | uniq</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-633 image-border" src="assets/a7bd98ed-de4f-4639-affb-27a8a36aeae3.png" style="width:36.42em;height:9.00em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p>And so on, and so on. We can build up the pipeline we want a bit at a time, debugging along the way. You will see this technique throughout this book.</p>
<p>One last thing: in some of these commands, we have seen the<span> </span><kbd>&gt;</kbd>, or redirect. Redirection can be used for a number of things, but most of the time it's used to redirect the output of a command to a file:</p>
<pre>&lt;some pipeline of commands&gt;  &gt; &lt;filename&gt;</pre>
<p>This will replace the contents of the file named filename with the output of the pipeline.</p>
<p>With these simple tools, you have enough to get started hacking data with bash.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Navigating the command line</h1>
                </header>
            
            <article>
                
<p>There's a couple of useful tricks for navigating the command line that, while optional, will improve your quality of life. This section has a selection of those tricks.</p>
<p>Bash, by default, saves the history of your commands. It will even save the history across sessions. This can be extremely useful because sometimes we make a small mistake and don't want to retype an entire command, or we want to repeat the same commands over and over. To see your history, type this command:</p>
<pre><strong>history</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-634 image-border" src="assets/c16fcaa2-ab35-4343-ae76-a796592aa0f2.png" style="width:29.08em;height:16.33em;"/></p>
<p>You can see that there is a numbered list of output commands. To repeat a numbered command, you can use the bang character,<span> </span><kbd>!</kbd>.<span> </span><kbd>!&lt;number&gt;</kbd><span> </span>will repeat the number command verbatim:</p>
<pre><strong>!10</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-635 image-border" src="assets/753eb9cb-7534-4e98-b784-d808e9d4fc63.png" style="width:19.92em;height:10.67em;"/></p>
<p>A double bang,<span> </span><kbd>!!</kbd><span>, </span>will repeat the last command.</p>
<p>You can also cycle through the list of commands with the up and down arrow keys on the keyboard.</p>
<p>You can perform a reverse command search by typing<span> <em>Ctrl</em> + <em>R</em></span><span> </span>at an empty command line. Then begin typing some substring of a command you’d like to search for. Bash will attempt to find a matching command somewhere in your history. If multiple commands match, the last one will be picked, but you can cycle through the others by pressing <em>Ctrl</em> + <em>R</em> repeatedly.</p>
<p><kbd>cd -</kbd><span> </span>will take you back to the last directory you came from, even if it's halfway across the system.</p>
<p>A thing that confuses some people is hitting <em>Ctrl</em> + <em>S</em>. This will stop all output to a terminal session, and it will appear as if your session is frozen. To unfreeze the session, simply press  <em>Ctrl</em> + Q.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Getting help</h1>
                </header>
            
            <article>
                
<p>There are a number of resources available, both built into the command line and also externally. One command that you will always find yourself using is the <kbd>man</kbd> command (short for manual page). For example, type in<span> </span><kbd>man man</kbd><span> </span>to read what the man command can do. You should see something similar to this:</p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-636 image-border" src="assets/ba0123f8-2792-4254-9395-d6e7ed0c431e.png" style="width:34.50em;height:45.50em;"/></p>
<p class="mce-root"/>
<p>Let's take a look at two options we use just about every day,<span> </span><kbd>man -a</kbd><span> </span>and<span> </span><kbd>man -k</kbd><span>, </span>as you will use them a lot for finding man pages at the command line. Go ahead and type<span> </span><kbd>man -k .</kbd> in the command line to view all of the man pages that are installed on the system. If you are using the same Linux distribution as us, about 2,000 manuals just scrolled down your screen, that's a lot to read! We don't expect you to start from the top and read every one (feel free to do so if you're having trouble sleeping), so let’s figure out some smarter ways to navigate all of these manuals.</p>
<p>If you wanted to slowly scroll through the entire list of manuals, you could run <kbd>man -k . | more</kbd> and just keep tapping the space bar to view the entire list. However, this is inefficient. Notice in the previous examples we were searching using a dot (.) instead of a string. Let's try this again, but this time remove the dot and enter a word:</p>
<pre><strong>man -k column</strong></pre>
<p><span>The following is what you should see on running the preceding command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-637 image-border" src="assets/d81110fa-d489-4260-a3d5-3bea17f8d450.png" style="width:44.17em;height:16.58em;"/></p>
<p>Much better! Now I can quickly see whether there's a man page for the column command instead of parsing through thousands of pages.</p>
<p>The manual is terrific, but sometimes it's not quite enough. Enter the Internet. Sites such as Stack Overflow and Stack Exchange can be invaluable when trying to figure out esoteric issues with commands, or give nice examples. The Internet is a big place: someone will be trying to do what you are doing and it's likely they had the same issues you're having. Answered questions might already exist with your exact issue, or you could submit a new question.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Customizing the shell</h1>
                </header>
            
            <article>
                
<p>You might have noticed the prompt every time you enter a command to the left. Depending on your system, it might look a little different from mine. Let's fix that! For example, wouldn't it be great if you didn't have to type<span> </span><kbd>pwd</kbd><span> </span>all the time just to see where you are? Go ahead and enter the following:</p>
<pre>export PS1="\u@\h:\w&gt;"</pre>
<p>You should see something like this:</p>
<p class="CDPAlignCenter CDPAlign"><img class="aligncenter size-full wp-image-638 image-border" src="assets/4d68f828-548c-4719-8482-7f0d4a80d7f8.png" style="width:25.42em;height:11.25em;"/></p>
<p>Pretty nifty, right? You can add that command inside your <kbd>~/.bash_profile</kbd> file to keep it permanent. You can use any editor that you like (<kbd>vim</kbd>, <kbd>nano</kbd>, <kbd>emacs</kbd>) to open the file. For example, we used <kbd>vim</kbd>:</p>
<pre><strong>vim ~/.bash_profile</strong></pre>
<p>There's also an easy generator located at<span> </span><a href="http://ezprompt.net/">http://ezprompt.net/</a>, which you can use<span> </span>to customize your bash prompt even further. Take a look!</p>
<p>Now that you understand the basics and totally tricked out your bash prompt, let’s go ahead and work on an actual dataset!</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>As you can see, the command line is very powerful for everyday tasks. We learned how to do basic things, such as create files and directories, and navigate a system via the command line. We learned about manual pages, where to find help, and how to customize the shell.</p>
<p>In the next chapter, we'll take what you learned here and apply it against a real dataset. Feel free to come back to this chapter as it will be helpful throughout the rest of this book.</p>


            </article>

            
        </section>
    </body></html>