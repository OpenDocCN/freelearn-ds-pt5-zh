<html><head></head><body><div><div><div><div><div><h1 class="title"><a id="pref06" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Preface</h1></div></div></div><div><table border="0" width="100%" cellspacing="0" cellpadding="0" class="blockquote1" summary="Block quote"><tr class="calibre17"><td class="calibre18"> </td><td class="calibre18"><p class="calibre19"><em class="calibre13">"Statistical thinking will one day be as necessary for efficient citizenship as the ability to read and write."</em></p></td><td class="calibre18"> </td></tr><tr class="calibre17"><td class="calibre18"> </td><td colspan="2" class="calibre20">--<em class="calibre13">H. G. Wells</em></td></tr></table></div><div><table border="0" width="100%" cellspacing="0" cellpadding="0" class="blockquote1" summary="Block quote"><tr class="calibre17"><td class="calibre18"> </td><td class="calibre18"><p class="calibre19"><em class="calibre13">"I have a great subject [statistics] to write upon, but feel keenly my literary incapacity to make it easily intelligible without sacrificing accuracy and thoroughness."</em></p></td><td class="calibre18"> </td></tr><tr class="calibre17"><td class="calibre18"> </td><td colspan="2" class="calibre20">--<em class="calibre13">Sir Francis Galton</em></td></tr></table></div><p class="calibre11">A web search for "data science Venn diagram" returns numerous interpretations of the skills required to be an effective data scientist (it appears that data science commentators love Venn diagrams). Author and data scientist Drew Conway produced the prototypical diagram back in 2010, putting data science at the intersection of hacking skills, substantive expertise (that is, subject domain understanding), and mathematics and statistics knowledge. Between hacking skills and substantive expertise—those practicing without strong mathematics and statistics knowledge—lies the "danger zone."</p><p class="calibre11">Five years on, as a growing number of developers seek to plug the data science skills' shortage, there's more need than ever for statistical and mathematical education to help developers out of this danger zone. So, when Packt Publishing invited me to write a book on data science suitable for Clojure programmers, I gladly agreed. In addition to appreciating the need for such a book, I saw it as an opportunity to consolidate much of what I had learned as CTO of my own Clojure-based data analytics company. The result is the book I wish I had been able to read before starting out.</p><p class="calibre11">
<em class="calibre13">Clojure for Data Science</em> aims to be much more than just a book of statistics for Clojure programmers. A large reason for the spread of data science into so many diverse areas is the enormous power of machine learning. Throughout the book, I'll show how to use pure Clojure functions and third-party libraries to construct machine learning models for the primary tasks of regression, classification, clustering, and recommendation.</p><p class="calibre11">Approaches that scale to very large datasets, so-called "big data," are of particular interest to data scientists, because they can reveal subtleties that are lost in smaller samples. This book shows how Clojure can be used to concisely express jobs to run on the Hadoop and Spark distributed computation frameworks, and how to incorporate machine learning through the use of both dedicated external libraries and general optimization techniques.</p><p class="calibre11">Above all, this book aims to foster an understanding not just on how to perform particular types of analysis, but why such techniques work. In addition to providing practical knowledge (almost every concept in this book is expressed as a runnable example), I aim to explain the theory that will allow you to take a principle and apply it to related problems. I hope that this approach will enable you to effectively apply statistical thinking in diverse situations well into the future, whether or not you decide to pursue a career in data science.</p><div><div><div><div><div></div></div></div></div></div></div>



  

<div><div><div><div><div><div><h1 class="title2"><a id="ch00lvl1sec02" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>What this book covers</h1></div></div></div><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch01.xhtml" title="Chapter 1. Statistics">Chapter 1</a>, <em class="calibre13">Statistics</em>, introduces Incanter, Clojure's primary statistical computing library used throughout the book. With reference to the data from the elections in the United Kingdom and Russia, we demonstrate the use of summary statistics and the value of statistical distributions while showing a variety of comparative visualizations.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch02.xhtml" title="Chapter 2. Inference">Chapter 2</a>, <em class="calibre13">Inference</em>, covers the difference between samples and populations, and statistics and parameters. We introduce hypothesis testing as a formal means of determining whether the differences are significant in the context of A / B testing website designs. We also cover sample bias, effect size, and solutions to the problem of multiple testing.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch03.xhtml" title="Chapter 3. Correlation">Chapter 3</a>, <em class="calibre13">Correlation</em>, shows how we can discover linear relationships between variables and use the relationship to make predictions about some variables given others. We implement linear regression—a machine learning algorithm—to predict the weights of Olympic swimmers given their heights, using only core Clojure functions. We then make our model more sophisticated using matrices and more data to improve its accuracy.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch04.xhtml" title="Chapter 4. Classification">Chapter 4</a>, <em class="calibre13">Classification</em>, describes how to implement several different types of machine learning algorithm (logistic regression, naive Bayes, C4.5, and random forests) to make predictions about the survival rates of passengers on the Titanic. We learn about another test for statistical significance that works for categories instead of continuous values, explain various issues you're likely to encounter while training machine learning models such as bias and overfitting, and demonstrate how to use the clj-ml machine learning library.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch05.xhtml" title="Chapter 5. Big Data">Chapter 5</a>, <em class="calibre13">Big Data</em>, shows how Clojure can leverage the parallel capabilities in computers of all sizes using the reducers library, and how to scale up these techniques to clusters of machines on Hadoop with Tesser and Parkour. Using ZIP code level tax data from the IRS, we demonstrate how to perform statistical analysis and machine learning in a scalable way.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch06.xhtml" title="Chapter 6. Clustering">Chapter 6</a>, <em class="calibre13">Clustering</em>, shows how to identify text documents that share similar subject matter using Hadoop and the Java machine learning library, Mahout. We describe a variety of techniques particular to text processing as well as more general concepts related to clustering. We also introduce some more advanced features of Parkour that can help get the best performance from your Hadoop jobs.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch07.xhtml" title="Chapter 7. Recommender Systems">Chapter 7</a>, <em class="calibre13">Recommender Systems</em>, covers a variety of different approaches to the challenge of recommendation. In addition to implementing a recommender with core Clojure functions, we tackle the ancillary challenge of dimensionality reduction by using principle component analysis and singular value decomposition, as well as probabilistic set compression using Bloom filters and the MinHash algorithm. Finally, we introduce the Sparkling and MLlib libraries for machine learning on the Spark distributed computation framework and use them to produce movie recommendations with alternating least squares.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch08.xhtml" title="Chapter 8. Network Analysis">Chapter 8</a>, <em class="calibre13">Network Analysis</em>, shows a variety of ways of analyzing graph-structured data. We demonstrate the methods of traversal using the Loom library and then show how to use the Glittering and GraphX libraries with Spark to discover communities and influencers in social networks.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch09.xhtml" title="Chapter 9. Time Series">Chapter 9</a>, <em class="calibre13">Time Series</em>, demonstrates how to fit curves to simple time series data. Using data on the monthly airline passenger counts, we show how to forecast future values for more complex series by training an autoregressive moving-average model. We do this by implementing a method of parameter optimization called maximum likelihood estimation with help from the Apache Commons Math library.</p><p class="calibre11">
<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch10.xhtml" title="Chapter 10. Visualization">Chapter 10</a>, <em class="calibre13">Visualization</em>, shows how the Clojure library Quil can be used to create custom visualizations for charts not provided by Incanter, and attractive graphics that can communicate findings clearly to your audience, whatever their background.</p></div></div></div>



  
<div><div><div><div><div><h1 class="title2"><a id="ch00lvl1sec03" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>What you need for this book</h1></div></div></div><p class="calibre11">The code for each chapter has been made available as a project on GitHub at <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="https://github.com/clojuredatascience">https://github.com/clojuredatascience</a>. The example code can be downloaded as a zip file from there, or cloned with the Git command-line tool. All of the book's examples can be compiled and run with the Leiningen build tool as described in <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="ch01.xhtml" title="Chapter 1. Statistics">Chapter 1</a>, <em class="calibre13">Statistics</em>.</p><p class="calibre11">This book assumes that you're already able to compile and run Clojure code using Leiningen (<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="http://leiningen.org/">http://leiningen.org/</a>). Refer to Leiningen's website if you're not yet set up to do this.</p><p class="calibre11">In addition, the code for many of the sample chapters makes use of external datasets. Where possible, these have been included together with the sample code. Where this has not been possible, instructions for downloading the data have been provided in the sample code's README file. Bash scripts have also been provided with the relevant sample code to automate this process. These can be run directly by Linux and OS X users, as described in the relevant chapter, provided the curl, wget, tar, gzip, and unzip utilities are installed. Windows users may have to install a Linux emulator such as Cygwin (<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="https://www.cygwin.com/">https://www.cygwin.com/</a>) to run the scripts.</p></div></div>



  
<div><div><div><div><div><h1 class="title2"><a id="ch00lvl1sec04" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Who this book is for</h1></div></div></div><p class="calibre11">This book is intended for intermediate and advanced Clojure programmers who want to build their statistical knowledge, apply machine learning algorithms, or process large amounts of data with Hadoop and Spark. Many aspiring data scientists will benefit from learning all of these skills, and <em class="calibre13">Clojure for Data Science</em> is intended to be read in order from the beginning to the end. Readers who approach the book in this way will find that each chapter builds on concepts introduced in the prior chapters.</p><p class="calibre11">If you're not already comfortable reading Clojure code, you're likely to find this book particularly challenging. Fortunately, there are now many excellent resources for learning Clojure and I do not attempt to replicate their work here. At the time of writing, <em class="calibre13">Clojure for the Brave and True</em> (<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="http://www.braveclojure.com/">http://www.braveclojure.com/</a>) is a fantastic free resource for learning the language. Consult <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="http://clojure.org/getting_started">http://clojure.org/getting_started</a> for links to many other books and online tutorials suitable for newcomers.</p></div></div>



  
<div><div><div><div><div><h1 class="title2"><a id="ch00lvl1sec05" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Conventions</h1></div></div></div><p class="calibre11">In this book, you will find a number of text styles that distinguish between different kinds of information. Here are some examples of these styles and an explanation of their meaning.</p><p class="calibre11">Code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "Each example is a function in the <code class="literal">cljds.ch1.examples</code> namespace that can be run."</p><p class="calibre11">A block of code is set as follows:</p><div><pre class="programlisting">(defmulti load-data identity)

(defmethod load-data :uk [_]
  (-&gt; (io/resource "UK2010.xls")
      (str)
      (xls/read-xls)))</pre></div><p class="calibre11">When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p><div><pre class="programlisting">    (q/fill (fill-fn x y))
    (q/rect x-pos y-pos x-scale y-scale))
<strong class="calibre12">    (q/save "heatmap.png"))]</strong>
    (q/sketch :setup setup :size size))</pre></div><p class="calibre11">Any command-line input or output is written as follows:</p><div><pre class="programlisting">
<strong class="calibre12">lein run –e 1.1</strong>
</pre></div><p class="calibre11">
<strong class="calibre12">New terms</strong> and <strong class="calibre12">important words</strong> are shown in bold. Words that you see on the screen, for example, in menus or dialog boxes, appear in the text like this: "Each time the <strong class="calibre12">New Sample</strong> button is pressed, a pair of new samples from an exponential distribution with population means taken from the sliders are generated."</p><div><div><h3 class="title4"><a id="note01" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Note</h3><p class="calibre22">Warnings or important notes appear in a box like this.</p></div></div><div><div><h3 class="title4"><a id="tip01" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Tip</h3><p class="calibre22">Tips and tricks appear like this.</p></div></div></div></div>



  
<div><div><div><div><div><h1 class="title2"><a id="ch00lvl1sec06" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Reader feedback</h1></div></div></div><p class="calibre11">Feedback from our readers is always welcome. Let us know what you think about this book—what you liked or disliked. Reader feedback is important for us as it helps us develop titles that you will really get the most out of.</p><p class="calibre11">To send us general feedback, simply e-mail <code class="email">&lt;<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="mailto:feedback@packtpub.com">feedback@packtpub.com</a>&gt;</code>, and mention the book's title in the subject of your message.</p><p class="calibre11">If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, see our author guide at <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="http://www.packtpub.com/authors">www.packtpub.com/authors</a>.</p></div></div>



  
<div><div><div><div><div><h1 class="title2"><a id="ch00lvl1sec07" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Customer support</h1></div></div></div><p class="calibre11">Now that you are the proud owner of a Packt book, we have a number of things to help you to get the most from your purchase.</p><div><div><div><div><h2 class="title5"><a id="ch00lvl2sec03" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Downloading the example code</h2></div></div></div><p class="calibre11">You can download the example code files from your account at <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="http://www.packtpub.com">http://www.packtpub.com</a> for all the Packt Publishing books you have purchased. If you purchased this book elsewhere, you can visit <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div><div><div><div><div><h2 class="title5"><a id="ch00lvl2sec04" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Downloading the color images of this book</h2></div></div></div><p class="calibre11">We also provide you with a PDF file that has color images of the screenshots/diagrams used in this book. The color images will help you better understand the changes in the output. You can download this file from <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="https://www.packtpub.com/sites/default/files/downloads/Clojure_for_Data_Science_ColorImages.pdf">https://www.packtpub.com/sites/default/files/downloads/Clojure_for_Data_Science_ColorImages.pdf</a>.</p></div><div><div><div><div><h2 class="title5"><a id="ch00lvl2sec05" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Errata</h2></div></div></div><p class="calibre11">Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you find a mistake in one of our books—maybe a mistake in the text or the code—we would be grateful if you could report this to us. By doing so, you can save other readers from frustration and help us improve subsequent versions of this book. If you find any errata, please report them by visiting <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="http://www.packtpub.com/submit-errata">http://www.packtpub.com/submit-errata</a>, selecting your book, clicking on the <strong class="calibre12">Errata Submission Form</strong> link, and entering the details of your errata. Once your errata are verified, your submission will be accepted and the errata will be uploaded to our website or added to any list of existing errata under the Errata section of that title.</p><p class="calibre11">To view the previously submitted errata, go to <a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="https://www.packtpub.com/books/content/support">https://www.packtpub.com/books/content/support</a> and enter the name of the book in the search field. The required information will appear under the <strong class="calibre12">Errata</strong> section.</p></div><div><div><div><div><h2 class="title5"><a id="ch00lvl2sec06" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Piracy</h2></div></div></div><p class="calibre11">Piracy of copyrighted material on the Internet is an ongoing problem across all media. At Packt, we take the protection of our copyright and licenses very seriously. If you come across any illegal copies of our works in any form on the Internet, please provide us with the location address or website name immediately so that we can pursue a remedy.</p><p class="calibre11">Please contact us at <code class="email">&lt;<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="mailto:copyright@packtpub.com">copyright@packtpub.com</a>&gt;</code> with a link to the suspected pirated material.</p><p class="calibre11">We appreciate your help in protecting our authors and our ability to bring you valuable content.</p></div><div><div><div><div><h2 class="title5"><a id="ch00lvl2sec07" class="pcalibre pcalibre3 pcalibre1 calibre8 pcalibre2"/>Questions</h2></div></div></div><p class="calibre11">If you have a problem with any aspect of this book, you can contact us at <code class="email">&lt;<a class="calibre4 pcalibre3 pcalibre pcalibre1 pcalibre2" href="mailto:questions@packtpub.com">questions@packtpub.com</a>&gt;</code>, and we will do our best to address the problem.</p></div></div></div>



  </body></html>