<html><head></head><body>
        

                            
                    <h1 class="header-title">Key Performance Indicators and Visualizations</h1>
                
            
            
                
<p>When you run marketing campaigns or any other marketing efforts, you would most likely want to know how well each of them performs and understand the weaknesses and strengths of each of your marketing efforts. In this chapter, we are going to discuss commonly used <strong>key performance indicators</strong> (<strong>KPIs</strong>) that help you track the performances of your marketing efforts. More specifically, we will cover such KPIs as sales revenue, <strong>cost per acquisition</strong> (<strong>CPA</strong>), digital marketing KPIs, and site traffic. We will learn how these KPIs can help you stay on track toward your marketing goals.</p>
<p>After discussing some of the commonly used KPIs, we will then learn how we can use Python and/or R to compute such KPIs and build visualizations of those KPIs. In this chapter, we will use a bank marketing dataset that showcases a real-world case of marketing campaigns for finance organizations. For the Python project, we will learn how we can use the <kbd>pandas</kbd> and <kbd>matplotlib</kbd> libraries to analyze data and build visualizations. For the R project, we will introduce the <kbd>dplyr</kbd> and <kbd>ggplot2</kbd> libraries to analyze and manipulate data and build visualizations.</p>
<p>In particular, we will cover the following topics in this chapter:</p>
<ul>
<li>KPIs to measure performances of different marketing efforts</li>
<li>Computing and visualizing KPIs using Python</li>
<li>Computing and visualizing KPIs using R</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">KPIs to measure performances of different marketing efforts</h1>
                
            
            
                
<p>Every marketing effort costs money to the company. When you run marketing campaigns through emails, sending each email costs some money. When you are running marketing efforts on social network services or broadcast media, it also requires some capital. As every marketing effort is associated with some costs, it is critical to look at the performances of marketing campaigns and track the <strong>return on investments</strong> (<strong>ROI</strong>) of your marketing campaigns. We will mainly discuss how to track sales revenue, CPA, and digital marketing KPIs in this section.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Sales revenue</h1>
                
            
            
                
<p>It is clear that the goal of every marketing effort is to generate and grow more revenue for the company. No company wants to spend more money on marketing than it generates. In order to correctly report the sales revenue, you will need to clearly define how you want to attribute sales to each of your marketing efforts. Some sales might come from email marketing campaigns, while some others might come from advertisements placed on TV or public transportation. Some sales could even come naturally, without any attributions to any of your marketing campaigns. </p>
<p>In order to correctly report how much sales revenue each of your marketing efforts drives, you will have to clearly define the rules to attribute your sales to each of your marketing efforts. For example, if you are an ecommerce company and promoting special offers through email and TV marketing campaigns, you might want to put a different URL in the emails than the URL in your TV commercials. This way, you can identify and differentiate those sales from email marketing campaigns from those sales from marketing efforts through TV.</p>
<p>Depending on your needs, you might also want to report time-series sales revenue data. You can report it in a spreadsheet format, such as the following:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-958 image-border" src="img/b625535c-0106-4f31-929a-f002fefc79eb.png" style="width:14.83em;height:23.92em;"/></p>
<p>You can also report time-series sales revenue data in a line chart, such as the following:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-951 image-border" src="img/747bf180-1b19-4247-8601-dbcf45c6d315.png" style="width:53.33em;height:28.67em;"/></p>
<p>We will discuss more about the different types of plots and data visualizations you can use for reporting KPIs when we work through the Python and R exercises toward the end of this chapter.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Cost per acquisition (CPA)</h1>
                
            
            
                
<p>Another way to look at the effectiveness of your marketing efforts is CPA. This KPI metric tells you how much it costs you to acquire a customer through your marketing efforts. A high CPA means it costs more to acquire a new customer, while a low CPA clearly means it costs less to acquire a new customer. Depending on the type of business, you can still have a very profitable marketing campaign with high CPA. For example, if you are selling a very luxurious and high-end product, where the pool of targeted customers is small and it costs more to acquire such customers, your CPA might be high, but the value of each customer you acquired might be even higher and result in a profitable marketing campaign.</p>
<p>We will take a look at the following hypothetical case:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-968 image-border" src="img/a5badd7a-3ac4-4829-9ea4-eddf96d26b2a.png" style="width:152.92em;height:19.83em;"/></p>
<p>If you look at this spreadsheet, <strong>Happy Hour Event</strong> was the most expensive marketing event, in terms of both the total cost and CPA. However, it generated the most <strong>Sales</strong> and <strong>Sales per Customer</strong>; thus, it was the most valuable campaign. On the other hand, <strong>Radio Commercial</strong> was the lowest CPA marketing campaign, even though the total cost is the second highest, because it helped the business to acquire the most number of customers. However, the total sales from these customers did not exceed the total cost of this campaign and introduced a net loss to the company.</p>
<p>Even though this is a hypothetical situation, a similar case can happen in real life. Marketing efforts, such as <strong>Happy Hour Event</strong> and <strong>Webinar</strong> have better-targeted customers than <strong>Radio Commercial</strong>. The quality of customers acquired through highly-targeted marketing campaigns is many times better compared to non-targeted marketing campaigns.</p>
<p>Now that we have seen how we can break down the marketing campaign results to analyze the cost-effectiveness in more depth, we will look at some of the commonly used KPIs for digital marketing.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Digital marketing KPIs</h1>
                
            
            
                
<p>As the choices of marketing channels grow into online space, such as on social network services, blogs, and search engines, reporting the performances of digital marketing efforts has become more and more important. Previously discussed KPIs, sales revenue, and cost per acquisition, apply in the digital marketing space as well.</p>
<p>As an example, based on individual attribution logic, you can analyze how much sales are generated through different social network services, such as Facebook, LinkedIn, and Instagram. You can also analyze how many customers are acquired through such marketing channels and see what individual digital marketing campaigns' CPAs and generated values are. Let's discuss some more digital marketing KPIs:</p>
<ul>
<li><strong>Click-through rate</strong> (<strong>CTR</strong>) is another KPI that is commonly looked at for digital marketing efforts. CTR is the percentage of people who viewed your advertisement and then went on to click the advertisement. The formula looks as follows:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="fm-editor-equation" src="img/3475a6d1-f101-400a-b723-31b7ac1aed70.png" style="width:12.08em;height:2.50em;"/></p>
<p style="padding-left: 60px">CTR is an important measure in digital marketing channels, as it measures how effective your online marketing is in bringing traffic to your website.</p>
<ul>
<li>Then, you can use <strong>lead ratio</strong> to measure how much of the website traffic can be converted into leads. Typically, only a subset of website traffic is a good fit to become your customers. These <strong>marketing qualified leads</strong> (<strong>MQL</strong>) are the leads that are ready to be marketed to and meet business-specific criteria to become customers who are likely to make purchases, based on their characteristics. As you start marketing to these qualified leads, you should also look at conversion rates. </li>
<li>The<strong> conversion rate</strong> is the percentage of leads that are converted into active customers. You can define what should be considered as conversions, based on your marketing goals. If your goal is to see what percentage of leads became paying customers, then you can compute the conversion rate somewhat similar to the following formula:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="fm-editor-equation" src="img/8f945f3a-851b-460b-9b69-ab2086f7b8b6.png" style="width:21.92em;height:2.50em;"/></p>
<p style="padding-left: 60px">If your goal is to see what percentage of leads signed up on your website, then you can compute the conversion rate as in the following formula:</p>
<p class="CDPAlignCenter CDPAlign"><img class="fm-editor-equation" src="img/257bbf18-22d1-4498-9855-90865d946ee9.png" style="width:21.58em;height:2.75em;"/></p>
<p>We have looked at various KPIs so far and discussed how these KPIs can help you track the progress and performances of your marketing efforts. We will now look at how to use Python and/or R to compute such KPIs and build visualizations. If you plan on using one of the two programming languages, Python and R, used in this book, you can skip to the section that you'd like to work on.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Computing and visualizing KPIs using Python</h1>
                
            
            
                
<p>In this section, we are going to discuss how we can use Python to compute and visualize the KPIs we have discussed in the previous sections. We will primarily focus on analyzing conversion rates using bank marketing data. For those readers who would like to use R for this exercise, you can skip to the next section. We will be using the <kbd>pandas</kbd> and <kbd>matplotlib</kbd> libraries in Python to manipulate and analyze data and build various charts to accurately report the progress and performances of marketing efforts.</p>
<p>For the exercise in this section, we are going to use the <em>UCI's Bank Marketing Data Set</em>, which can be found at this link:<a href="https://archive.ics.uci.edu/ml/datasets/bank+marketing" target="_blank"> https://archive.ics.uci.edu/ml/datasets/bank+marketing</a>. You can follow this link and download the data by clicking the <kbd>Data Folder</kbd> link in the top-left corner. For this exercise, we downloaded the <kbd>bank-additional.zip</kbd> data and we will use the <kbd>bank-additional-full.csv</kbd> file in that zipped file.<a href="https://archive.ics.uci.edu/ml/datasets/bank+marketing"/></p>
<p>When you open this <kbd>bank-additional-full.csv</kbd> file, you will notice that a semi-colon (<kbd>;</kbd>) is used as a separator, instead of a comma (<kbd>,</kbd>). In order to load this data, you can use the following code to read in this data into a <kbd>pandas</kbd> <kbd>DataFrame</kbd>:</p>
<pre>import pandas as pd<br/><br/>df = pd.read_csv('../data/bank-additional-full.csv', sep=';')</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p>As you can see from this code, we are importing the <kbd>pandas</kbd> library with the alias, <kbd>pd</kbd>, and we are using the <kbd>read_csv</kbd> function to load the data. For separators other than commas, you can define a custom separator with the <kbd>sep</kbd> argument within the <kbd>read_csv</kbd> function.</p>
<p>If you look at the field description in the data download page (<a href="https://archive.ics.uci.edu/ml/datasets/bank+marketing">https://archive.ics.uci.edu/ml/datasets/bank+marketing</a>), the output variable, <kbd>y</kbd>, which has information on whether a client has subscribed to a term deposit, is encoded as <kbd>'yes'</kbd> or <kbd>'no'</kbd>. In order to simplify our conversion rate computations, we will encode this variable as <kbd>1</kbd> for <kbd>'yes'</kbd> and <kbd>0</kbd> for <kbd>'no'</kbd>. You can use the following code for this encoding:</p>
<pre>df['conversion'] = df['y'].apply(lambda x: 1 if x == 'yes' else 0)</pre>
<p>As you can see from this code snippet, we are using the <kbd>apply</kbd> function to encode <kbd>'yes'</kbd> as <kbd>1</kbd> and <kbd>'no'</kbd> as <kbd>0</kbd> for the variable, <kbd>y</kbd>, and then adding this encoded data as a new column, <kbd>conversion</kbd>. The code and the loaded data in our Jupyter Notebook will look like the following:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-963 image-border" src="img/b122168c-72eb-431e-91af-644d51aad7e6.png" style="width:162.50em;height:59.00em;"/></p>
<p>Now that we have successfully read the data into a <kbd>pandas</kbd> <kbd>DataFrame</kbd>, we will start looking at how to analyze and visualize conversion rates, using various methods and plots.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Aggregate conversion rate</h1>
                
            
            
                
<p>First, we are going to look at the aggregate conversion rate. We can calculate this metric by dividing the total number of clients subscribed to a term deposit by the total number of clients in the data. Since we have already encoded the output variable as <kbd>1</kbd> for those who have converted and <kbd>0</kbd> for those who have not, in a column named <kbd>conversion</kbd>, we can simply sum over this column to get the total number of conversions.</p>
<p>The following code snippet shows how we can sum over the <kbd>conversion</kbd> column and get the total number of clients in the data:</p>
<pre># total number of conversions<br/>df.conversion.sum()<br/># total number of clients in the data (= number of rows in the data)<br/>df.shape[0]</pre>
<p>The following is what our code for conversion rate calculations in the Jupyter Notebook look like:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-967 image-border" src="img/5b8cd4a4-f2ef-42d8-b18c-a3596a1d6930.png" style="width:41.50em;height:9.08em;"/></p>
<p>As you can see from this code output in the Jupyter Notebook, we have <kbd>4640</kbd> converted clients out of a total of <kbd>41188</kbd> bank clients, which suggests the aggregate conversion rate is <kbd>11.27%</kbd>. In the following section, we are going to analyze how these conversion rates vary by different age groups.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Conversion rates by age</h1>
                
            
            
                
<p>Aggregate conversion rate tells us the overall performance of our marketing campaign. However, it does not give us that much insight. When we are reporting and tracking the progress of marketing efforts, we typically would want to dive deeper into the data and break down the customer base into multiple segments and compute KPIs for individual segments. We will first break our data into smaller segments by <kbd>age</kbd> and see how the conversion rates differ by different age groups.</p>
<p>We will look at the following code first:</p>
<pre>conversions_by_age = df.groupby(<br/>    by='age'<br/>)['conversion'].sum() / df.groupby(<br/>    by='age'<br/>)['conversion'].count() * 100.0</pre>
<p>As you can see from this code, we are using the <kbd>groupby</kbd> function to calculate conversion rates by each age.</p>
<p>We first group by a variable name, <kbd>age</kbd>, and sum over the <kbd>conversion</kbd> column, using the <kbd>sum</kbd> function, to get the total number of conversions by each age. Then, we group by <kbd>age</kbd> again and count the number of records in each <kbd>age</kbd> group by using the <kbd>count</kbd> function.</p>
<p>Using these two computations, we can calculate the conversion rates for each <kbd>age</kbd>, as shown in the code. A part of the calculated conversion rates for each <kbd>age</kbd> looks as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/3101f3f1-1c3d-4036-bb46-3c3719a4122a.png" style="width:9.50em;height:23.25em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Another way to look at conversion rates across client ages is by plotting a line chart, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-950 image-border" src="img/fd275a9a-750e-40d7-a624-3e0b95d3a0dd.png" style="width:40.50em;height:29.08em;"/></p>
<p>The code to visualize conversion rates across different ages looks as follows:</p>
<pre>ax = conversions_by_age.plot(<br/>    grid=True,<br/>    figsize=(10, 7),<br/>    title='Conversion Rates by Age'<br/>)<br/><br/>ax.set_xlabel('age')<br/>ax.set_ylabel('conversion rate (%)')<br/><br/>plt.show()</pre>
<p>As this code shows, we are using the <kbd>conversions_by_age</kbd> variable that we built previously and the <kbd>plot</kbd> function for a line chart. As you can see from this code, you can change the size of a figure by an argument, named <kbd>figsize</kbd>, and the title of the chart with an argument, named <kbd>title</kbd>. In order to change the labels of the <em>x</em>-axis and <em>y</em>-axis, you can use the <kbd>set_xlabel</kbd> and <kbd>set_ylabel</kbd> functions.</p>
<p>One thing that is noticeable in the previous line chart is the fact that there seems to be lots of noise in old age groups. Conversion rates for those who are <kbd>70</kbd> or older vary a lot and if you look at the data, this is mostly because the number of clients in this age group is relatively small, compared to other age groups. </p>
<p>In order to reduce this unwanted noise, we can group multiple ages together. In this exercise, we group bank clients into six different groups, based on their age—between <kbd>18</kbd> and <kbd>30</kbd>, between <kbd>30</kbd> and <kbd>40</kbd>, between <kbd>40</kbd> and <kbd>50</kbd>, between <kbd>50</kbd> and <kbd>60</kbd>, between <kbd>60</kbd> and <kbd>70</kbd>, and <kbd>70</kbd> and older. The following code can be used to group the clients into their corresponding groups:</p>
<pre>df['age_group'] = df['age'].apply(<br/>    lambda x: '[18, 30)' if x &lt; 30 else '[30, 40)' if x &lt; 40 \<br/>        else '[40, 50)' if x &lt; 50 else '[50, 60)' if x &lt; 60 \<br/>        else '[60, 70)' if x &lt; 70 else '70+'<br/>)</pre>
<p>If you look at this code, we are using the <kbd>apply</kbd> function on the column, <kbd>age</kbd>, to group clients into six different age groups and add this data to a new column, named <kbd>age_group</kbd>. In order to calculate the conversion rates for these newly created age groups, we can use the following code:</p>
<pre>conversions_by_age_group = df.groupby(<br/>    by='age_group'<br/>)['conversion'].sum() / df.groupby(<br/>    by='age_group'<br/>)['conversion'].count() * 100.0</pre>
<p>Similar to the previous case, we are using the <kbd>groupby</kbd>, <kbd>sum</kbd>, and <kbd>count</kbd> functions to calculate conversion rates for these six different age groups. The resulting data looks like the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-946 image-border" src="img/c87019e0-eeb8-4d7b-ae77-3e2cf41f8573.png" style="width:9.83em;height:14.25em;"/></p>
<p>As you can see from this, the variations by each age group are much smaller than before, especially in old age groups. We can visualize this data using a bar plot, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-965 image-border" src="img/6400ebaa-c9a5-430f-9512-3e4c1f509fe0.png" style="width:38.92em;height:30.08em;"/></p>
<p>The code to build this bar plot looks like the following:</p>
<pre>ax = conversions_by_age_group.loc[<br/>    ['[18, 30)', '[30, 40)', '[40, 50)', '[50, 60)', '[60, 70)', '70+']<br/>].plot(<br/>    kind='bar',<br/>    color='skyblue',<br/>    grid=True,<br/>    figsize=(10, 7),<br/>    title='Conversion Rates by Age Groups'<br/>)<br/><br/>ax.set_xlabel('age')<br/>ax.set_ylabel('conversion rate (%)')<br/><br/>plt.show()</pre>
<p>As you can see from this code, we are using the same <kbd>plot</kbd> function that we used before to build a line plot. The only difference is the <kbd>kind</kbd> argument, with which we can define different types of plots we would like to build. Here, we are giving a value of <kbd>bar</kbd> to this <kbd>kind</kbd> argument to build a bar plot.</p>
<p>You can find the full code in the following repository: <a href="https://github.com/yoonhwang/hands-on-data-science-for-marketing/blob/master/ch.2/python/ConversionRate.ipynb">https://github.com/yoonhwang/hands-on-data-science-for-marketing/blob/master/ch.2/python/ConversionRate.ipynb</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Conversions versus non-conversions</h1>
                
            
            
                
<p>One other thing we can look at is the demographic differences between the converted clients and non-converted clients. This type of analysis can help us identify what differentiates converted groups from non-converted groups in our marketing campaigns and help us understand our target clients better and what types of customers respond better to our marketing efforts. In this exercise, we will compare the distributions of the marital status among the conversions and non-conversions groups.</p>
<p>We will first count the number of conversions and non-conversions for each marital status. The following code shows how we can compute this using <kbd>pandas</kbd> functions:</p>
<pre>pd.pivot_table(df, values='y', index='marital', columns='conversion', aggfunc=len)</pre>
<p>As you can see from this code, we are using the <kbd>pivot_table</kbd> function in the <kbd>pandas</kbd> library. We are grouping by the columns, <kbd>marital</kbd> and <kbd>conversion</kbd>, where <kbd>marital</kbd> will become the index and <kbd>conversion</kbd> will become the column of the new <kbd>DataFrame</kbd>. With the <kbd>aggfunc</kbd> argument, we can supply the type of aggregation we want to perform. Here, we are using the <kbd>len</kbd> function to simply count the number of clients for each group. The resulting data looks like the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/5a85b170-769b-4e0b-af04-85822cbe4e16.png" style="width:17.33em;height:11.50em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>Another way to represent this data is by using pie charts, as follows:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-957 image-border" src="img/0b8ac645-7b7f-403a-8b37-8d4132cfe650.png" style="width:72.42em;height:30.75em;"/></p>
<p>The following code shows how we can build these pie charts:</p>
<pre>conversions_by_marital_status_df.plot(<br/>    kind='pie',<br/>    figsize=(15, 7),<br/>    startangle=90,<br/>    subplots=True,<br/>    autopct=lambda x: '%0.1f%%' % x<br/>)<br/><br/>plt.show()</pre>
<p>As you can see from this code, we are using the same <kbd>plot</kbd> function as before, but using <kbd>pie</kbd> as the kind of plot that we would like to build. You can use the <kbd>autopct</kbd> argument to format the label for each group in the pie charts.</p>
<p>Compared to the tabular format of the data output, pie charts make it much easier to understand the overall distributions of the data. With pie charts, we can easily see that the <kbd>married</kbd> group takes up the largest proportions in both conversions and non-conversions groups, while the <kbd>single</kbd> group comes as the second. Using pie charts, we can easily visualize the similarities and differences between two groups.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Conversions by age and marital status</h1>
                
            
            
                
<p>So far, we have aggregated our data by one criterion. However, there are cases where you want to group the data by more than one column. In this section, we will discuss how we can analyze and report conversion rates by more than one criterion. As an exercise, we will use age groups that we have built in the previous section and the marital status as the two columns to group by.</p>
<p>Let's first look at the code:</p>
<pre>age_marital_df = df.groupby(['age_group', 'marital'])['conversion'].sum().unstack('marital').fillna(0)<br/><br/>age_marital_df = age_marital_df.divide(<br/>    df.groupby(<br/>        by='age_group'<br/>    )['conversion'].count(), <br/>    axis=0<br/>)</pre>
<p>As you can see from this code, we are grouping our data by the two columns, <kbd>age_group</kbd> and <kbd>marital</kbd>, and summing the number of conversions. Then, we divide this by the total number of clients in each group. The resulting data looks like the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-961 image-border" src="img/a834d935-1164-4371-abb1-533264c4e68b.png" style="width:22.92em;height:15.00em;"/></p>
<p>As you can see from this data, we can now see the distribution of conversion rates based on two criteria, age group and martial status. For example, the conversion rate of clients who are single and between <strong>18</strong> and <strong>30</strong> years old is 13.25%, while the conversion rate of clients who are married and between <strong>60</strong> and <strong>70</strong> years old is 30.11%. Another way to visualize this data is to use a bar plot that looks like the following:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-960 image-border" src="img/a7a55ab6-0b06-46af-a335-3b8770e229a3.png" style="width:46.58em;height:35.50em;"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>In this bar chart, we can easily see the distributions of conversion rates for each of the age and marital status groups. The code we used to build this bar plot looks is shown here:</p>
<pre>ax = age_marital_df.loc[<br/>    ['[18, 30)', '[30, 40)', '[40, 50)', '[50, 60)', '[60, 70)', '70+']<br/>].plot(<br/>    kind='bar', <br/>    grid=True,<br/>    figsize=(10,7)<br/>)<br/><br/>ax.set_title('Conversion rates by Age &amp; Marital Status')<br/>ax.set_xlabel('age group')<br/>ax.set_ylabel('conversion rate (%)')<br/><br/>plt.show()</pre>
<p>Similar to previous cases, we are using the <kbd>plot</kbd> function of the <kbd>pandas</kbd> library and passing <kbd>bar</kbd> to the <kbd>kind</kbd> argument of the function. Since the <kbd>DataFrame</kbd>, <kbd>age_marital_df</kbd>, has four columns for each of the marital statuses and is indexed by age groups, the <kbd>plot</kbd> function builds a bar plot with four bars for each of the marital statuses for each of the age groups. </p>
<p>If you would like to stack those four bars for each age group, then you can use the following code for a stacked bar plot:</p>
<pre>ax = age_marital_df.loc[<br/>    ['[18, 30)', '[30, 40)', '[40, 50)', '[50, 60)', '[60, 70)', '70+']<br/>].plot(<br/>    kind='bar', <br/>    stacked=True,<br/>    grid=True,<br/>    figsize=(10,7)<br/>)<br/><br/>ax.set_title('Conversion rates by Age &amp; Marital Status')<br/>ax.set_xlabel('age group')<br/>ax.set_ylabel('conversion rate (%)')<br/><br/>plt.show()</pre>
<p class="mce-root"/>
<p>As you can see from this code, the only difference is the argument, <kbd>stacked</kbd>, that we used in this code. When this argument is set to <kbd>True</kbd>, it will build a stacked bar plot, which looks like the following:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-955 image-border" src="img/2634f436-965d-41af-bfd5-d27600fcc768.png" style="width:51.00em;height:39.25em;"/></p>
<p>As you can see from this stacked bar plot, different marital statuses are stacked on top of each other for each of the age groups. This way, we can not only easily see the overall trends in conversion rates across different age groups, but also the proportions of converted clients with different marital statuses for each age group. </p>
<p>The full code and Jupyter Notebook that we used for this Python exercise can be found in the following repository: <a href="https://github.com/yoonhwang/hands-on-data-science-for-marketing/blob/master/ch.2/python/ConversionRate.ipynb">https://github.com/yoonhwang/hands-on-data-science-for-marketing/blob/master/ch.2/python/ConversionRate.ipynb</a>.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            

            
        
    

        

                            
                    <h1 class="header-title">Computing and visualizing KPIs using R</h1>
                
            
            
                
<p>In this section, we are going to discuss how we can use R to compute and visualize the KPIs we have discussed in the previous sections. We will primarily focus on analyzing conversion rates using bank marketing data. For those readers, who would like to use Python for this exercise, you can find the Python exercise in the previous section. We will be using the <kbd>dplyr</kbd> and <kbd>ggplot2</kbd> libraries in R to manipulate and analyze data and build various charts to accurately report the progress and performances of marketing efforts. The <kbd>dplyr</kbd> library provides various functionalities for data manipulation for data science and machine learning tasks.</p>
<p>For the exercise in this section, we are going to use the <strong>UCI</strong>'s <strong>Bank Marketing Data Set</strong>, which can be found at this link: <a href="https://archive.ics.uci.edu/ml/datasets/bank+marketing">https://archive.ics.uci.edu/ml/datasets/bank+marketing</a>. You can follow this link and download the data by clicking the <kbd>Data Folder</kbd> link in the top-left corner. For this exercise, we downloaded the <kbd>bank-additional.zip</kbd> data and we will use the <kbd>bank-additional-full.csv</kbd> file in that zipped file.</p>
<p>When you open this <kbd>bank-additional-full.csv</kbd> file, you will notice that a semi-colon (<kbd>;</kbd>) is used as a separator, instead of a comma (<kbd>,</kbd>). In order to load this data, you can use the following code to read in this data into a <kbd>DataFrame</kbd>:</p>
<pre>conversionsDF &lt;- read.csv(<br/>  file="~/Documents/data-science-for-marketing/ch.2/data/bank-additional-full.csv", <br/>  header=TRUE, <br/>  sep=";"<br/>)</pre>
<p>As you can see from this code, we are using the <kbd>read.csv</kbd> function to load the data. For separators other than commas, you can define a custom separator with the <kbd>sep</kbd> argument within the <kbd>read.csv</kbd> function. If your data file contains a row for the header, you can set the argument, <kbd>header</kbd>, to <kbd>TRUE</kbd>. On the other hand, if your data file does not contain a row for the header and the data starts from the first row, you can set it to <kbd>FALSE</kbd>.</p>
<p>If you look at the field description in the data download page (<a href="https://archive.ics.uci.edu/ml/datasets/bank+marketing">https://archive.ics.uci.edu/ml/datasets/bank+marketing</a>), the output variable, <kbd>y</kbd>, which has information on whether a client has subscribed to a term deposit, is encoded as <kbd>'yes'</kbd> or <kbd>'no'</kbd>. In order to simplify our conversion rate computations, we will encode this variable as <kbd>1</kbd> for <kbd>'yes'</kbd> and <kbd>0</kbd> for <kbd>'no'</kbd>. You can use the following code for this encoding:</p>
<pre># Encode conversions as 0s and 1s<br/>conversionsDF$conversion &lt;- as.integer(conversionsDF$y) - 1</pre>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mceNonEditable"/>
<p>As you can see from this code snippet, we are using the <kbd>as.integer</kbd> function to encode <kbd>'yes'</kbd> as <kbd>1</kbd> and <kbd>'no'</kbd> as <kbd>0</kbd> for the variable, <kbd>y</kbd>, and then adding this encoded data as a new column, <kbd>conversion</kbd>. Since the <kbd>as.integer</kbd> function will use <kbd>1</kbd> and <kbd>2</kbd> for <kbd>'no'</kbd> and <kbd>'yes'</kbd> encodings by default, we are subtracting the values by <kbd>1</kbd>. The data now looks like the following in our RStudio:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-948 image-border" src="img/d9e71c7f-eaba-4b63-8567-0aecc6b1a58b.png" style="width:162.50em;height:31.83em;"/></p>
<p>Now that we have successfully read the data into an <kbd>R</kbd> <kbd>DataFrame</kbd>, we will start looking at how to analyze and visualize conversion rates, using various methods and plots.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Aggregate conversion rate</h1>
                
            
            
                
<p>First, we are going to look at is the aggregate conversion rate. We can calculate this metric by dividing the total number of clients subscribed to a term deposit by the total number of clients in the data. Since we have already encoded the output variable as 1 for those who have converted and 0 for those who have not in a column, named <kbd>conversion</kbd>, we can simply sum over this column to get the total number of conversions. The following code snippet shows how we can sum over the <kbd>conversion</kbd> column and get the total number of clients in the data:</p>
<pre># total number of conversions<br/>sum(conversionsDF$conversion)<br/><br/># total number of clients in the data (= number of records in the data)<br/>nrow(conversionsDF)</pre>
<p>As you can see from this code snippet, we are using the <kbd>sum</kbd> function in R to calculate the total number of conversions and the <kbd>nrow</kbd> function to count the number of rows in our dataset. On a side note, as with <kbd>nrow</kbd>, you can use the <kbd>ncol</kbd> function to count the number of columns of a <kbd>DataFrame</kbd>.</p>
<p class="mce-root"/>
<p>The following screenshot shows what the code looks like on our RStudio:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-953 image-border" src="img/5b064e7d-c589-41fa-9129-bac465e2a0d6.png" style="width:45.25em;height:5.67em;"/></p>
<p>As you can see from this code output in the RStudio, we have <kbd>4640</kbd> converted clients out of a total of <kbd>41188</kbd> bank clients, which suggests the aggregate conversion rate is <kbd>11.27%</kbd>. In the following section, we are going to analyze how these conversion rates vary by different age groups. We are using the <kbd>sprintf</kbd> function to format a string with integers and floating point numbers.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Conversion rates by age</h1>
                
            
            
                
<p>Aggregate conversion rate tells us the overall performance of our marketing campaign. However, it does not give us that much insight. When we are reporting and tracking the progress of marketing efforts, we typically would want to dive deeper into the data and break down the customer base into multiple segments and compute KPIs for individual segments. We will first break our data into smaller segments by age and see how the conversion rates differ by different age groups.</p>
<p>We will look at the following code first:</p>
<pre>conversionsByAge &lt;- conversionsDF %&gt;% <br/>  group_by(Age=age) %&gt;% <br/>  summarise(TotalCount=n(), NumConversions=sum(conversion)) %&gt;%<br/>  mutate(ConversionRate=NumConversions/TotalCount*100.0)</pre>
<p>The pipe operator, <kbd>%&gt;%</kbd>, in this code, is the way you can apply different functions sequentially. In this code snippet, we are passing <kbd>conversionDF</kbd> to a <kbd>group_by</kbd> function, then passing the results of this <kbd>group_by</kbd> function to the <kbd>summarise</kbd> function, and lastly to the <kbd>mutate</kbd> function. </p>
<p>In the <kbd>group_by</kbd> function, we are grouping the <kbd>DataFrame</kbd> by the column <kbd>age</kbd>. Then, for each age group, we are counting the number of records in each group, by using a function, <kbd>n()</kbd>, and naming it <kbd>TotalCount</kbd>. Also, we are summing over the column, <kbd>conversion</kbd>, for each age group, by using the <kbd>sum</kbd> function, and naming it <kbd>NumConversions</kbd>. </p>
<p class="mce-root"/>
<p>Lastly, we are using the <kbd>mutate</kbd> function, which adds new variables, while preserving the original <kbd>DataFrame</kbd>, to compute conversion rates for each age group. As you can see, we are simply dividing <kbd>NumConversion</kbd> by <kbd>TotalCount</kbd> and multiplying it by <kbd>100.0</kbd> to get the conversion rates.</p>
<p>The resulting data is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-966 image-border" src="img/ebdf5a19-e660-43bb-8d27-d35b2e8e86da.png" style="width:30.50em;height:30.83em;"/></p>
<p>Another way to look at conversion rates across client ages is by plotting a line chart, as shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/b44831d7-3be8-48fe-b526-910b16b7ee62.png" style="width:32.92em;height:24.00em;"/></p>
<p>The code to visualize conversion rates across different ages is shown here:</p>
<pre># line chart<br/>ggplot(data=conversionsByAge, aes(x=Age, y=ConversionRate)) +<br/>  geom_line() +<br/>  ggtitle('Conversion Rates by Age') +<br/>  xlab("Age") +<br/>  ylab("Conversion Rate (%)") +<br/>  theme(plot.title = element_text(hjust = 0.5))</pre>
<p>As you can see from this code, we are using the <kbd>ggplot</kbd> function to initialize a <kbd>ggplot</kbd> object with <kbd>conversionsByAge</kbd> as the data and the column, <kbd>Age</kbd>, as the <em>x</em>-axis and the column, <kbd>ConversionRate</kbd>, as the <em>y</em>-axis. </p>
<p>Then, we use <kbd>geom_line</kbd> function to connect the observations and create a line chart. You can change the title of a plot, by using <kbd>ggtitle</kbd> function. Also, you can use <kbd>xlab</kbd> and <kbd>ylab</kbd> functions to rename the x-axis label and y-axis label respectively.</p>
<p>One thing that is noticeable in the previous line chart is the fact that there seems to be lots of noise in older age groups. Conversion rates for those who are 70 or older vary a lot and if you look at the data, this is mostly because the number of clients in this age group is relatively small, compared to other age groups. </p>
<p>In order to reduce this unwanted noise, we can group multiple ages together. In this exercise, we group bank clients into six different groups, based on their age—between <kbd>18</kbd> and <kbd>30</kbd>, between <kbd>30</kbd> and <kbd>40</kbd>, between <kbd>40</kbd> and <kbd>50</kbd>, between <kbd>50</kbd> and <kbd>60</kbd>, between <kbd>60</kbd> and <kbd>70</kbd>, and <kbd>70</kbd> and older. The following code can be used to group the clients into their corresponding groups:</p>
<pre># b. by age groups<br/>conversionsByAgeGroup &lt;- conversionsDF %&gt;% <br/>  group_by(AgeGroup=cut(age, breaks=seq(20, 70, by = 10)) ) %&gt;% <br/>  summarise(TotalCount=n(), NumConversions=sum(conversion)) %&gt;%<br/>  mutate(ConversionRate=NumConversions/TotalCount*100.0)<br/><br/>conversionsByAgeGroup$AgeGroup &lt;- as.character(conversionsByAgeGroup$AgeGroup)<br/>conversionsByAgeGroup$AgeGroup[6] &lt;- "70+"</pre>
<p>As with the previous case, we are using the <kbd>group_by</kbd> function to group the <kbd>conversionsDF</kbd> data by the <kbd>age</kbd> column. The difference here is how we used the <kbd>cut</kbd> function to create the age range for each age group. </p>
<p>The <kbd>breaks</kbd> argument defines the points at which the <kbd>cut</kbd> function is going to divide the <kbd>DataFrame</kbd>. The argument, <kbd>seq(20, 70, by = 10)</kbd>, means we are going to create a sequence from <kbd>20</kbd> to <kbd>70</kbd> in increments of <kbd>10</kbd>. Once the data is grouped by these age groups, the rest are the same as before. We are using the <kbd>summarise</kbd> and <kbd>mutate</kbd> functions to compute for the <kbd>TotalCount</kbd>, <kbd>NumConversions</kbd>, and <kbd>ConversionRate</kbd> columns. </p>
<p>The resulting <kbd>DataFrame</kbd> is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-959 image-border" src="img/cb4e8d9d-88b5-47ef-ad3e-995d207e832e.png" style="width:33.17em;height:11.67em;"/></p>
<p>As you can see from this, the variations by each age group are much smaller than before, especially in old age groups. We can visualize this data using a bar plot, as shown here:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/2de62aed-8ebd-4451-9130-c038d4fc8794.png" style="width:40.25em;height:29.33em;"/></p>
<p>The code to build this bar plot is shown here:</p>
<pre># bar chart<br/>ggplot(conversionsByAgeGroup, aes(x=AgeGroup, y=ConversionRate)) +<br/>  geom_bar(width=0.5, stat="identity") +<br/>  ggtitle('Conversion Rates by Age Groups') +<br/>  xlab("Age") +<br/>  ylab("Conversion Rate (%)") +<br/>  theme(plot.title = element_text(hjust = 0.5)) </pre>
<p>As you can see from this code, we are passing the <kbd>conversionsByAgeGroup</kbd> data to the <kbd>ggplot</kbd> object with the <kbd>AgeGroup</kbd> column as the <em>x</em>-axis and the <kbd>ConversionRate</kbd> column as the <em>y</em>-axis. We are using the <kbd>geom_bar</kbd> function to build a bar plot. </p>
<p>The <kbd>width</kbd> argument defines the width of each bar in the bar plot. Similar to the previous line chart, you can use <kbd>ggtitle</kbd> to rename the title of the plot and the <kbd>xlab</kbd> and <kbd>ylab</kbd> functions to rename the labels of the <em>x</em>-axis and <em>y</em>-axis.</p>
<p class="mce-root"/>
<p>You can find the full code in the following repository: <a href="https://github.com/yoonhwang/hands-on-data-science-for-marketing/blob/master/ch.2/R/ConversionRate.R">https://github.com/yoonhwang/hands-on-data-science-for-marketing/blob/master/ch.2/R/ConversionRate.R</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Conversions versus non-conversions</h1>
                
            
            
                
<p>One other thing we can look at is the demographic differences between the converted clients and non-converted clients. This type of analysis can help us identify what differentiates converted groups from non-converted groups in our marketing campaigns and helps us understand our target clients better and what types of customers respond better to our marketing efforts. In this exercise, we will compare the distributions of the marital status among the conversions and non-conversions groups.</p>
<p>We will first count the number of conversions and non-conversions for each marital status. The following code shows how we can compute this using <kbd>R</kbd> functions:</p>
<pre>conversionsByMaritalStatus &lt;- conversionsDF %&gt;% <br/> group_by(Marital=marital, Conversion=conversion) %&gt;% <br/> summarise(Count=n())</pre>
<p>As you can see from this code, we are using the pipe operator, <kbd>%&gt;%</kbd>, in the <kbd>dplyr</kbd> package to pass the <kbd>DataFrame</kbd>, <kbd>conversionsDF</kbd> to the <kbd>group_by</kbd> function and then to the <kbd>summarise</kbd> function. In the <kbd>group_by</kbd> function, we are grouping by two columns, <kbd>marital</kbd> and <kbd>conversion</kbd>. In the <kbd>summarise</kbd> function, we are simply counting the number of records in each group, by using the <kbd>n</kbd> function.</p>
<p>The resulting data is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-962 image-border" src="img/75f9ff53-7e1f-4509-b02c-e51634534181.png" style="width:20.67em;height:16.42em;"/></p>
<p>Another way to represent this data is by using pie charts:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/5ecad4e9-16f5-49c0-9297-a45a28411cdd.png" style="width:42.67em;height:29.83em;"/></p>
<p>The following code shows how we can build these pie charts in R:</p>
<pre># pie chart<br/>ggplot(conversionsByMaritalStatus, aes(x="", y=Count, fill=Marital)) + <br/>  geom_bar(width=1, stat = "identity", position=position_fill()) +<br/>  geom_text(aes(x=1.25, label=Count), position=position_fill(vjust = 0.5)) +<br/>  coord_polar("y") +<br/>  facet_wrap(~Conversion) +<br/>  ggtitle('Marital Status (0: Non Conversions, 1: Conversions)') +<br/>  theme(<br/>    axis.title.x=element_blank(),<br/>    axis.title.y=element_blank(),<br/>    plot.title=element_text(hjust=0.5),<br/>    legend.position='bottom'<br/>  )</pre>
<p class="mce-root"/>
<p>For building a pie chart in R, we are using the same <kbd>geom_bar</kbd> function, just as if we are building a bar chart. The difference here is <kbd>coord_polar("y")</kbd>, which transforms a bar chart into a pie chart. Then, we are using the <kbd>facet_wrap</kbd> function to create two columns of pie charts by the column, <kbd>Conversion</kbd>. This builds two pie charts, one for the conversions group and another for the non-conversions group.</p>
<p>Compared to the tabular format of the data output, pie charts make it much easier to understand the overall distributions of the data. With pie charts, we can easily see that the <kbd>married</kbd> group takes up the largest proportions in both conversions and non-conversions groups, while the <kbd>single</kbd> group comes second. Using pie charts, we can easily visualize the similarities and differences between two groups.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Conversions by age and marital status</h1>
                
            
            
                
<p>So far, we have aggregated our data by one criterion. However, there are cases where you want to group the data by more than one column. In this section, we will discuss how we can analyze and report conversion rates by more than one criterion. As an exercise, we will use the age groups that we have built in the previous section and the marital status as the two columns to group by.</p>
<p>Let's first look at the code:</p>
<pre>#### 5. Conversions by Age Groups &amp; Marital Status ####<br/>conversionsByAgeMarital &lt;- conversionsDF %&gt;% <br/>  group_by(AgeGroup=cut(age, breaks= seq(20, 70, by = 10)), Marital=marital) %&gt;% <br/>  summarise(Count=n(), NumConversions=sum(conversion)) %&gt;%<br/>  mutate(TotalCount=sum(Count)) %&gt;%<br/>  mutate(ConversionRate=NumConversions/TotalCount)<br/><br/>conversionsByAgeMarital$AgeGroup &lt;- as.character(conversionsByAgeMarital$AgeGroup)<br/>conversionsByAgeMarital$AgeGroup[is.na(conversionsByAgeMarital$AgeGroup)] &lt;- "70+"</pre>
<p>Similar to when we built custom age groups, we are using the <kbd>cut</kbd> function in <kbd>group_by</kbd> to create age groups from <kbd>20</kbd> to <kbd>70</kbd> in increments of <kbd>10</kbd>. However, we are grouping by the column, <kbd>marital</kbd>, as well this time. </p>
<p>Then, we are using the <kbd>summarise</kbd> function to compute the number of records in each group <kbd>Count</kbd>, and the number of conversions in each group, <kbd>NumConversions</kbd>. Then, using the <kbd>mutate</kbd> function, we calculate the total counts in each age group, named <kbd>TotalCount</kbd>, and the conversion rates in each group, named <kbd>ConversionRate</kbd>.</p>
<p>The resulting data is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-964 image-border" src="img/94774145-f1a9-4d75-8967-a246e7766c99.png" style="width:45.17em;height:22.67em;"/></p>
<p>As you can see from this data, we can now see the distribution of conversion rates based on two criteria, age group and martial status. For example, the conversion rate of clients who are single and between <strong>20</strong> and <strong>30</strong> years old is 11.10%, while the conversion rate of clients who are married and between <strong>40</strong> and <strong>50</strong> years old is 5.74%. </p>
<p>Another way to visualize this data is to use a bar plot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/617745e6-5fcc-44dc-a6b9-5b8cac7eed42.png" style="width:40.17em;height:29.25em;"/></p>
<p>In this bar chart, we can easily see the distributions of conversion rates for each of the age and marital status groups. The code we used to build this bar plot is shown here:</p>
<pre># bar chart<br/>ggplot(conversionsByAgeMarital, aes(x=AgeGroup, y=ConversionRate, fill=Marital)) + <br/>  geom_bar(width=0.5, stat="identity", position="dodge") +<br/>  ylab("Conversion Rate (%)") +<br/>  xlab("Age") +<br/>  ggtitle("Conversion Rates by Age and Marital Status") +<br/>  theme(plot.title=element_text(hjust=0.5))</pre>
<p>Here, we are creating a <kbd>ggplot</kbd> object with the <kbd>conversionsByAgeMarital</kbd> data. We are using <kbd>AgeGroup</kbd> for the <em>x</em>-axis and <kbd>ConversionRate</kbd> for the <em>y</em>-axis, while we are using <kbd>Marital</kbd> column to use different colors for different types of marital status. Then, we are building a bar plot by using the <kbd>geom_bar</kbd> function. With this configuration, <kbd>ggplot</kbd> builds a bar plot of conversion rates against age groups with breakdowns by marital status, which we saw in the previous bar chart.</p>
<p class="mce-root"/>
<p>If you would like to stack those four bars for each age group, then you can use the following code for a stacked bar plot:</p>
<pre># stacked bar chart<br/>ggplot(conversionsByAgeMarital, aes(x=AgeGroup, y=ConversionRate, fill=Marital)) + <br/>  geom_bar(width=0.5, stat="identity", position="stack") +<br/>  ylab("Conversion Rate (%)") +<br/>  xlab("Age") +<br/>  ggtitle("Conversion Rates by Age and Marital Status") +<br/>  theme(plot.title=element_text(hjust=0.5))</pre>
<p>As you can see from this code, the only difference is the code, <kbd>position="stack"</kbd>, in the <kbd>geom_bar</kbd> function. If you pass the value, <kbd>"dodge"</kbd>, to this <kbd>position</kbd> argument of the <kbd>geom_bar</kbd> function, it will create an unstacked bar plot. Whereas, if you pass the value, <kbd>"stack"</kbd>, to this <kbd>position</kbd> argument of the <kbd>geom_bar</kbd> function, it will build a stacked bar plot, which looks like the following:</p>
<p class="CDPAlignCenter CDPAlign"><img src="img/2c6297ad-bd1e-4726-87f2-44ddd21d5fcf.png" style="width:40.42em;height:29.42em;"/></p>
<p class="mce-root"/>
<p>As you can see from this stacked bar plot, different marital statuses are stacked on top of each other for each of the age groups. This way, we can not only easily see the overall trends in conversion rates across different age groups, but also the proportions of converted clients with different marital statuses for each age group. </p>
<p>The full code that we used for this R exercise can be found in the following repository: <a href="https://github.com/yoonhwang/hands-on-data-science-for-marketing/blob/master/ch.2/R/ConversionRate.R">https://github.com/yoonhwang/hands-on-data-science-for-marketing/blob/master/ch.2/R/ConversionRate.R</a>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<p>In this chapter, we have discussed how to use descriptive analysis for reporting and analytics on the progress and performances of marketing efforts. We have discussed various KPIs that are often used in marketing to track the progress of marketing campaigns. We have learned how important it is to look at how much sales revenue each marketing strategy generates. When analyzing the sales revenue metrics, we have seen that it is important to approach it from different angles. You might want to look at not only the aggregate sales revenue, but also time-series (monthly, quarterly, or yearly) sales revenue. You might also want to look at sales attributed to each individual marketing campaigns and how much revenue each campaign generated for your company. We have also discussed CPA<strong> </strong>metrics, with which you can tell the cost-effectiveness of your marketing strategies. We have learned various metrics to analyze for digital marketing channels as well, such as CTR, lead ratio, and conversion rates. As we have seen and experimented in the Python and R exercises, we can go multiple levels deeper into these KPI metrics.</p>
<p>In the next chapter, we are going to learn how we can apply data science and machine learning techniques for explanatory analysis. More specifically, we will discuss how we can use regression analysis and models to understand the drivers behind marketing engagement. We will also cover how we can interpret the regression analysis results in the following chapter.</p>


            

            
        
    </body></html>