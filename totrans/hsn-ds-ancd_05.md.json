["```py\n> x<--10:10\n> y<-2+1.5*x\n> title<-\"A straight line\"\n> plot(x,y,type='l',main=title)\n```", "```py\n> set.seed(12345)\n> x<-1:100\n> a<-4\n> beta<-5\n> errorTerm<-rnorm(100)\n> y<-a+beta*x+errorTerm\n> lm(y~x)\n```", "```py\nCall: lm(formula = y ~ x)\nCoefficients: \n(Intercept) x \n4.114 5.003\n```", "```py\n> summary(lm(y~x))\nCall:\nlm(formula = y ~ x)\n\nResiduals:\n Min 1Q Median 3Q Max \n-2.6168 -0.8699 0.2071 0.6326 2.1451 \nCoefficients:\n Estimate Std. Error t value Pr(>|t|) \n(Intercept) 4.114297 0.225258 18.27 <2e-16 ***\nx 5.002592 0.003873 1291.81 <2e-16 ***\n---\nSignif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1\n\nResidual standard error: 1.118 on 98 degrees of freedom\nMultiple R-squared: 0.9999, Adjusted R-squared: 0.9999 \nF-statistic: 1.669e+06 on 1 and 98 DF, p-value: < 2.2e-16\n```", "```py\nfrom scipy import stats \nimport scipy as sp\nsp.random.seed(31233)\nalpha=2.0\nbeta=3.8\nn=1000\nx=sp.arange(n)\ny=alpha+beta*x+sp.random.rand(n)\n(beta, alpha, r_value, p_value, std_err) = stats.linregress(y,x) \nprint(\"Alpha , Beta\")\nprint(alpha,beta) \nprint(\"R-squared=\", r_value**2)\nprint(\"p-value =\", p_value)\n```", "```py\nusing GLM, DataFrames\ndata = DataFrame(X=[1,2,3], Y=[2,4,7])\nOLS = glm(@formula(Y ~ X), data, Normal(), IdentityLink())\n```", "```py\nrand('seed',123) \nn = 50; \nx = sort(rand(n,1)*5-1); \ny = 2+1.5*x + randn(size(x)); \nfigure % open a new figure window \nplot(x, y, 'o');\n```", "```py\nn = length(y);  \nx2= [ones(n, 1), x];  % Add a column of ones to x \nb = inv(x2'*x2)*x2'*y; \nR = y - (x2 * b);        # residuals \nv = (R'*R)/(4 - 3);      # residual variance \nsigma = v * inv(x2'*x2); # variance covariance matrix \nse = sqrt(diag(sigma));  # std errors of parameters  \nThe related estimated parameters are shown below.  \n>> b \nb = \n\n   2.5259 \n   1.3585 \n\n>> sigma \nsigma = \n\n   1.01374  -0.37919 \n  -0.37919   0.29591 \n\n>> se \nse = \n\n   1.00685 \n   0.54398 \n\n>> \n```", "```py\n> qt(0.05/2,50)\n[1] -2.008559\n> qt(1-0.05/2,50)\n[1] 2.008559\n```", "```py\n> alpha<-0.01\n> degreeFreedom<-50\n> qt(1-alpha/2,degreeFreedom)\n[1] 2.677793\n```", "```py\n> from scipy import stats\n> alpha=0.05\n> print(stats.t.ppf(1-alpha/2, 100))\n1.98397151845\n```", "```py\n> d1<-4 \n> d2<-2 \n> n<-100 \n> x = seq(0, 5, length = n) \n> plot(x, df(x = x, df1 = d1, df2 = d2),type='l') \n```", "```py\n> alpha<-0.1\n> d1<-1\n> d2<-1\n> qf(1-alpha,df1=d1,df2=d2)\n[1] 39.86346\n```", "```py\nimport scipy as sp\nalpha=0.10\nd1=1\nd2=1\ncritical=sp.stats.f.ppf(q=1-alpha, dfn=d1, dfd=d2)\nprob=sp.stats.f.cdf(critical, dfn=d1, dfd=d2)\nprint(\"alpha, d1, d2, critical value, prob\")\nprint(alpha, d1, d2, critical, prob)\nalpha, d1, d2, critical value, prob\n(0.1, 1, 1, 39.86345818906144, 0.90000000000000002)\n```", "```py\nret_f<-function(data){\n   ddate<-as.Date(data[,1])\n   n<-nrow(data)\n   p<-data[,6]\n   ret<-p[2:n]/p[1:(n-1)]-1\n   final<-data.frame(ddate[2:n],ret,stringsAsFactors=F)\n   colnames(final)<-c(\"DATE\",\"RET\")\n   return(final)\n}\n#\nx<-read.csv(\"http://canisius.edu/~yany/data/ibmMonthly.csv\")\nstock<-ret_f(x)\ny<-read.csv(\"http://canisius.edu/~yany/data/^gspcMonthly.csv\")\nmkt<-ret_f(y)\ncolnames(mkt)<-c(\"DATE\",\"MKTRET\")\nfinal<-merge(stock,mkt)\n```", "```py\n> head(final)\n DATE RET MKTRET\n1 1962-02-01 -0.009225374 0.016269655\n2 1962-03-01 -0.007779475 -0.005860435\n3 1962-04-01 -0.147816831 -0.061969875\n4 1962-05-01 -0.135463769 -0.085990147\n5 1962-06-01 -0.135531661 -0.081838016\n6 1962-07-01 0.140751225 0.063561644\n```", "```py\nimport quandl as qd\nx=qd.get(\"WIKI/ibm\")\nprint(x.head(2))\nprint(x.tail(2))\n```", "```py\nimport quandl as qd\nx=qd.get(\"WIKI/ibm\",collapse='monthly')\n```", "```py\nimport quandl as qd\nimport pandas as pd\nfrom scipy import stats\nx=qd.get(\"WIKI/ibm\",collapse='monthly')\n#\np=x[['Adj. Close']]\nret=p.diff()/p.shift(1)\nstockRet=ret.dropna()\nstockRet.columns=['stockRet']\n#stockRet.assign(yyyymm=stockRet.index.strftime(\"%Y%m\"))\n#\ninFile=\"http://canisius.edu/~yany/data/sp500monthlyEndOfMonthDate.csv\"\ny=pd.read_csv(inFile,index_col=0)\nd=y[['Adj.Close']]\nret2=d.diff()/d.shift(1)\nmktRet=ret2.dropna()\nmktRet.columns=['mktRet']\ndf= stockRet.merge(mktRet, how='inner', left_index=True, right_index=True)\n(beta,alpha,r_value,p_value,std_err)=stats.linregress(df.stockRet,df.mktRet)\nalpha=round(alpha,8)\nbeta=round(beta,3)\nr_value=round(r_value,3)\np_vaue=round(p_value,3)\nprint(\"alpha, beta, R2 and P-value\")\nprint(alpha,beta,r_value,p_value)\n```", "```py\nalpha, beta, R2 and P-value\n(0.00408539, 0.322, 0.561, 3.8213963635856179e-38)\n```", "```py\nimport scipy as sp\nimport pandas as pd\nimport quandl as qd\nfrom scipy import stats\n#\nticker=\"wmt\"\nx=qd.get(\"WIKI/\"+ticker)\np=x[['Adj. Close']]\nret=p.diff()/p.shift(1)\nstockRet=ret.dropna()\nstockRet.columns=['stockRet']\n#\ninFile=\"http://canisius.edu/~yany/data/^gspcDaily.csv\"\ny=pd.read_csv(inFile,index_col=0)\nd=y[['Adj Close']]\nret2=d.diff()/d.shift(1)\nmktRet=ret2.dropna()\nmktRet.columns=['mktRet']\n\nfinal= stockRet.merge(mktRet, how='inner', left_index=True, right_index=True)\nyears=pd.unique(final.index.strftime(\"%Y\"))\nprint(\" year, alpha, beta,R_value, P_value\")\nfor i in sp.arange(0,5):\n#for i in sp.arange(1,len(years)):\n    #print(years[i])\n    d=final[final.index.strftime(\"%Y\")==years[i]]                        (beta,alpha,r_value,p_value,std_err)=stats.linregress(d.stockRet,d.mktRet)\n    alpha=round(alpha,8)\n    beta=round(beta,3)\n    r_value=round(r_value,3)\n    p_vaue=round(p_value,3)\n    print(years[i],alpha,beta,r_value,p_value)\n```", "```py\nusing DataFrames,StatsBase,StatsModels,GLM\nx = readtable(\"c:/temp/ibmMonthly5years.txt\")\n#x = CSV.read(\"c:/temp/ibmMonthly5years.csv\")\np=x[:Adj_Close]\nn=length(p)\nstockRet=p[2:n]./p[1:(n-1)]-1\ny = readtable(\"c:/temp/sp500Monthly5years.txt\")\n#y = CSV.read(\"c:/temp/sp500Monthly5years.csv\")\np2=y[:Adj_Close]\nn2=length(p2)\nmktRet=p2[2:n2]./p2[1:(n2-1)]-1\nn3=min(length(stockRet),length(mktRet))\ndata = DataFrame(X=mktRet[1:n3], Y=stockRet[1:n3])\nOLS = glm(@formula(Y ~ X), data, Normal(), IdentityLink())\n```", "```py\n> x<-c(NA,1,2,50,NA) \n> y<-na.omit(x) \n> mean(x) \n[1] NA \n> mean(y) \n[1] 17.66667 \n```", "```py\nimport scipy as sp \nx={2,4,3,sp.nan,6,sp.nan,7} \nprint(x) \nx.remove(sp.nan) \nprint(x)\n```", "```py\n> x<-c(NA,2,3,4,NA) \n> y<-na.omit(x) \n> m<-mean(y) \n> m \n[1] 3 \n> x[is.na(x)]<-m \n> x \n[1] 3 2 3 4 3 \n> \n```", "```py\nimport scipy as sp \nimport pandas as pd \ndf = pd.DataFrame({'A' : [2,sp.nan,3,4]}) \nprint(df) \ndf.fillna(df.mean(), inplace=True) \nprint(df) \n```", "```py\n A \n0  2.0 \n1  NaN \n2  3.0 \n3  4.0 \n     A \n0  2.0 \n1  3.0 \n2  3.0 \n3  4.0\n```", "```py\n>  distance<-3 \n>  x<-read.csv(\"c:/temp/^GSPCweekly.csv\") \n>  p<-x$Adj.Close \n>  ret<-p[2:n]/p[1:(n-1)]-1 \n>  m<-mean(ret) \n>  std<-sd(ret) \n>  ret2<-subset(ret,((ret-m)/std)>distance) \n>  n2<-length(ret2)\n```", "```py\n> head(x,2)\n Date Open High Low Close Adj.Close Volume\n1 1950-01-02 16.66 17.09 16.66 17.09 17.09 9040000\n2 1950-01-09 17.08 17.09 16.65 16.65 16.65 14790000\n> m\n[1] 0.001628357\n> std\n[1] 0.02051384\n> length(ret)\n[1] 3554\n> n2\n[1] 15\n```", "```py\nThis file was created by CMPT_ME_BEME_RETS using the 201712 CRSP database.\nThe 1-month TBill return is from Ibbotson and Associates, Inc.\n\n,Mkt-RF,SMB,HML,RF\n192607, 2.96, -2.30, -2.87, 0.22\n192608, 2.64, -1.40, 4.19, 0.25\n192609, 0.36, -1.32, 0.01, 0.23\n192610, -3.24, 0.04, 0.51, 0.32\n192611, 2.53, -0.20, -0.35, 0.31\n192612, 2.62, -0.04, -0.02, 0.28\n192701, -0.06, -0.56, 4.83, 0.25\n192702, 4.18, -0.10, 3.17, 0.26\n192703, 0.13, -1.60, -2.67, 0.30\n192704, 0.46, 0.43, 0.60, 0.25\n```", "```py\nThe 1-month TBill return is from Ibbotson and Associates, Inc.\n\n,Mkt-RF,SMB,HML,RF\n192607, 2.96, -2.30, -2.87, 0.22\n192608, 2.64, -1.40, 4.19, 0.25\n192609, 0.36, -1.32, 0.01, 0.23\n192610, -3.24, 0.04, 0.51, 0.32\n192611, 2.53, -0.20, -0.35, 0.31\n192612, 2.62, -0.04, -0.02, 0.28\n192701, -0.06, -0.56, 4.83, 0.25\n192702, 4.18, -0.10, 3.17, 0.26\n192703, 0.13, -1.60, -2.67, 0.30\n192704, 0.46, 0.43, 0.60, 0.25\n```", "```py\n> con<-url(\"http://canisius.edu/~yany/RData/ff3monthly.RData\")\n> load(con)\n> head(.ff3monthly)\n DATE MKT_RF SMB HML RF\n1 1926-07-01 0.0296 -0.0230 -0.0287 0.0022\n2 1926-08-01 0.0264 -0.0140 0.0419 0.0025\n3 1926-09-01 0.0036 -0.0132 0.0001 0.0023\n4 1926-10-01 -0.0324 0.0004 0.0051 0.0032\n5 1926-11-01 0.0253 -0.0020 -0.0035 0.0031\n6 1926-12-01 0.0262 -0.0004 -0.0002 0.0028\n```", "```py\ncon<-url(\"http://canisius.edu/~yany/RData/ff3monthly.RData\")\nload(con)\nhead(.ff3monthly)\nx<-read.csv(\"http://canisius.edu/~yany/data/ibmMonthly.csv\")\nstock<-ret_f(x)\nfinal<-merge(stock,.ff3monthly)\ny<-final$RET\nx<-as.matrix(data.frame(final[,3:5]))\nsummary(lm(y~x))\n```", "```py\ncon<-url(\"http://canisius.edu/~yany/RData/ffc4monthly.RData\") \nload(con) \nhead(.ffc4monthly) \n```", "```py\n DATE       MKT_RF  SMB      HML     MOM    RF \n1 1927-01-31 -0.0006 -0.0056  0.0483  0.0044 0.0025 \n2 1927-02-28  0.0418 -0.0010  0.0317 -0.0201 0.0026 \n3 1927-03-31  0.0013 -0.0160 -0.0267  0.0359 0.0030 \n4 1927-04-30  0.0046  0.0043  0.0060  0.0419 0.0025 \n5 1927-05-31  0.0544  0.0141  0.0493  0.0301 0.0030 \n6 1927-06-30 -0.0234  0.0047 -0.0153  0.0051 0.0026\n```", "```py\n> con<-url(\"http://canisius.edu/~yany/RData/ff5Monthly.RData\") \n> load(con) \n> head(.ff5Monthly) \n```", "```py\n DATE MKT_RF SMB HML RMW CMA                     RF\n1 1963-07-01 -0.0039 -0.0046 -0.0082 0.0072 -0.0116 0.0027\n2 1963-08-01 0.0507 -0.0081 0.0163 0.0042 -0.0040   0.0025\n3 1963-09-01 -0.0157 -0.0048 0.0019 -0.0080 0.0023  0.0027\n4 1963-10-01 0.0253 -0.0129 -0.0011 0.0275 -0.0226  0.0029\n5 1963-11-01 -0.0085 -0.0084 0.0166 -0.0034 0.0222  0.0027\n6 1963-12-01 0.0183 -0.0187 -0.0011 0.0018 -0.0031  0.0029\n```", "```py\n>con<-url(\"http://canisius.edu/~yany/RData/ff3monthly.RData\") \n>load(con) \n> head(.ff3monthly) \n DATE  MKT_RF     SMB     HML     RF \n1 1926-07-01  0.0296 -0.0230 -0.0287 0.0022 \n2 1926-08-01  0.0264 -0.0140  0.0419 0.0025 \n3 1926-09-01  0.0036 -0.0132  0.0001 0.0023 \n4 1926-10-01 -0.0324  0.0004  0.0051 0.0032 \n5 1926-11-01  0.0253 -0.0020 -0.0035 0.0031 \n6 1926-12-01  0.0262 -0.0004 -0.0002 0.0028 \n```", "```py\n> cor(.ff3monthly[,2:5]) \n MKT_RF         SMB        HML          RF \nMKT_RF  1.00000000  0.31850074 0.23995229 -0.06543067 \nSMB     0.31850074  1.00000000 0.12240744 -0.05063652 \nHML     0.23995229  0.12240744 1.00000000  0.02117111 \nRF     -0.06543067 -0.05063652 0.02117111  1.00000000 \n```", "```py\nimport quandl as qd \nx=qd.get(\"WIKI/ibm\",collapse='monthly')  \n```", "```py\nimport pandas as pd \nimport quandl as qd \nx=qd.get(\"WIKI/ibm\",collapse='monthly') \ninFile=\"http://canisius.edu/~yany/data/^gspcMonthly.csv.csv\" \ny=pd.read_csv(inFile,index_col=0) \n```", "```py\n>con<-url(\"http://canisius.edu/~yany/RData/ff3monthly.RData\") \n>load(con) \n> head(.ff3monthly) \n DATE  MKT_RF     SMB     HML     RF \n1 1926-07-01  0.0296 -0.0230 -0.0287 0.0022 \n2 1926-08-01  0.0264 -0.0140  0.0419 0.0025 \n3 1926-09-01  0.0036 -0.0132  0.0001 0.0023 \n4 1926-10-01 -0.0324  0.0004  0.0051 0.0032 \n5 1926-11-01  0.0253 -0.0020 -0.0035 0.0031 \n6 1926-12-01  0.0262 -0.0004 -0.0002 0.0028 \n```", "```py\nusing DataFrames; \nusing GLM, StatsModels \n# \nx = readtable(\"c:/temp/ibmMonthly5years.csv\") \np=x[:Adj_Close] \nn=length(p) \nstockRet=p[2:n]./p[1:(n-1)]-1 \n# \ny = readtable(\"c:/temp/sp500Monthly5years.csv\") \np2=y[:Adj_Close] \nn2=length(p2) \nmktRet=p2[2:n2]./p2[1:(n2-1)]-1 \n# \nn3=min(length(stockRet),length(mktRet)) \ndata = DataFrame(X=mktRet[1:n3], Y=stockRet[1:n3]) \nOLS = glm(@formula(Y ~ X), data, Normal(), IdentityLink()) \n```"]