- en: Database Progression to Database Regression
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we get started by offering a definition for (data) statistical
    regression, then move on to discussing regression concepts, and outlining how
    a developer might use the most common regression techniques for forecasting and
    prediction within a typical data development project.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we''ve organized information into the following areas:'
  prefs: []
  type: TYPE_NORMAL
- en: An introduction to statistical regression
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Methods for identification of opportunities for using regression (in data projects)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: R and statistical regression
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A working example
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introducing statistical regression
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As promised, let's get going in this chapter with a section that provides a
    clear explanation of what statistical regression is.
  prefs: []
  type: TYPE_NORMAL
- en: For starters, statistical regression is also routinely referred to as regression
    analysis and is a process for estimating the relationships among variables**.**
    This process encompasses numerous techniques for modeling and analyzing variables,
    focusing on the relationship between a dependent variable and one (or more) independent
    variables (or **predictors****).**
  prefs: []
  type: TYPE_NORMAL
- en: So specifically, regression analysis is the work done to identify and understand
    how the (best representative) value of a dependent variable (a variable that **depends**
    on other factors) changes when any one of the independent variables (a variable
    that **stands alone** and isn't changed by the other variables) is changed while
    the other independent variables stay the same.
  prefs: []
  type: TYPE_NORMAL
- en: A simple example might be how the total dollars spent on marketing (an independent
    variable example) impacts the total sales dollars (a dependent variable example)
    over a period of time (is it really as simple as more marketing equates to higher
    sales?), or perhaps there is a correlation between the total marketing dollars
    spent (independent variable), discounting a products price (another independent
    variable), and the amount of sales (a dependent variable)?
  prefs: []
  type: TYPE_NORMAL
- en: Keep in mind this key point that regression analysis is used to understand which
    among the independent variables are related to the dependent variable(s), not
    just the relationship of these variables. Also, the inference of causal relationships
    (between the independent and dependent variables) is an important objective. However,
    this can lead to illusions or false relationships, so caution is recommended!
  prefs: []
  type: TYPE_NORMAL
- en: Overall, regression analysis can be thought of as estimating the conditional
    expectations of the value of the dependent variable, given the independent variables
    being observed, that is, endeavoring to predict the average value of the dependent
    variable when the independent variables are set to certain values. I call this
    the lever affectâ€”meaning when one increases or decreases a value of one component,
    it directly affects the value at least one other (variable).
  prefs: []
  type: TYPE_NORMAL
- en: An alternate objective of the process of regression analysis is the establishment
    of location parameters or the quantile of a distribution. In other words, this
    idea is to determine values that may be a cutoff, dividing a range of a probability
    distribution values.
  prefs: []
  type: TYPE_NORMAL
- en: You'll find that regression analysis can be a great tool for prediction and
    forecasting (not just complex machine learning applications). We'll explore some
    real-world examples later, but for now, let's us look at some techniques for the
    process.
  prefs: []
  type: TYPE_NORMAL
- en: Techniques and approaches for regression
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You'll find that various techniques for carrying out regression analysis have
    been developed and accepted.
  prefs: []
  type: TYPE_NORMAL
- en: 'Some research may show the top techniques as the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Linear
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Logistic
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Polynomial
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Stepwise
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ridge
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lasso
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Here are a quick few words on each:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Linear regression**: Linear regression is the most basic type of regression
    and is commonly used for predictive analysis projects. In fact, when you are working
    with a single predictor (variable), we call it simple linear regression, and if
    there are multiple predictor variables, we call it multiple linear regression.
    Simply put, linear regression uses linear predictor functions whose values are
    estimated from the data in the model.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Logistic regression**: Logistic regression is a regression model where the
    dependent variable is a categorical variable. This means that the variable only
    has two possible values, for example, pass/fail, win/lose, alive/dead, or healthy/sick.
    If the dependent variable has more than two possible values, one can use various
    modified logistic regression techniques, such as multinomial logistic regression,
    ordinal logistic regression, and so on.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Polynomial regression**: When we speak of polynomial regression, the focus
    of this technique is on modeling the relationship between the independent variable
    and the dependent variable as an n^(th) degree polynomial.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Polynomial regression is considered to be a special case of multiple linear
    regressions. The predictors resulting from the polynomial expansion of the baseline
    predictors are known as **interactive features**.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Stepwise regression**: Stepwise regression is a technique that uses some
    kind of automated procedure to continually execute a step of logic, that is, during
    each step, a variable is considered for addition to or subtraction from the set
    of independent variables based on some prespecified criterion.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Ridge regression**: Often predictor variables are identified as being interrelated.
    When this occurs, the regression coefficient of any one variable depends on which
    other predictor variables are included in the model and which ones are left out.
    Ridge regression is a technique where a small bias factor is added to the selected
    variables in order to improve this situation. Therefore, ridge regression is actually
    considered a remedial measure to alleviate multicollinearity amongst predictor
    variables.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Lasso regression**: **Lasso** (**least absolute shrinkage selector operator**)
    regression is a technique where both predictor variable selection and regularization
    are performed in order to improve the prediction accuracy and interpretability
    of the result it produces.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Choosing your technique
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In addition to the aforementioned regression techniques, there are numerous
    others to consider with, most likely, more to come. With so many options, it's
    important to choose the technique that is right for your data and your project.
  prefs: []
  type: TYPE_NORMAL
- en: Rather than selecting the right regression approach, it is more about selecting
    the most effective regression approach.
  prefs: []
  type: TYPE_NORMAL
- en: Typically, you use the data to identify the regression approach you'll use.
    You start by establishing statistics or a profile for your data. With this effort,
    you need to identify and understand the importance of the different variables,
    their relationships, coefficient signs**,** and their effect.
  prefs: []
  type: TYPE_NORMAL
- en: 'Overall, here''s some generally good advice for choosing the right regression
    approach from your project:'
  prefs: []
  type: TYPE_NORMAL
- en: Copy what others have done and had success with. Do the research. Incorporate
    the results of other projects into yours. Don't reinvent the wheel. Also, even
    if an observed approach doesn't quite fit as it was used, perhaps some simple
    adjustments would make it a good choice.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Keep your approach as simple as possible. Many studies show that simpler models
    generally produce better predictions. Start simple, and only make the model more
    complex as needed. The more complex you make your model, the more likely it is
    that you are tailoring the model to your dataset specifically, and generalizability
    suffers.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Check your work. As you evaluate methods, check the residual plots (more on
    this in the next section of this chapter) because they can help you avoid inadequate
    models and adjust your model for better results.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Use your subject matter expertise. No statistical method can understand the
    underlying process or subject area the way you do. Your knowledge is a crucial
    part and, most likely, the most reliable way of determining the best regression
    approach for your project.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Does it fit?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: After selecting a model that you feel is appropriate for use with your data
    (also known as determining that the approach is the best fit), you need to validate
    your selection, that is, determine its fit.
  prefs: []
  type: TYPE_NORMAL
- en: A well-fitting regression model results in predicted values close to the observed
    data values.
  prefs: []
  type: TYPE_NORMAL
- en: The mean model (which uses the mean for every predicted value) would generally
    be used if there were no informative predictor variables. The fit of a proposed
    regression model should, therefore, be better than the fit of the mean model.
  prefs: []
  type: TYPE_NORMAL
- en: As a data scientist, you will need to scrutinize the coefficients of determination,
    measure the standard error of estimate, analyze the significance of regression
    parameters and confidence intervals (will talk more about these later in this
    chapter).
  prefs: []
  type: TYPE_NORMAL
- en: Remember that the better the fit of a regression model, most likely the better
    the precision in, or just better, the results.
  prefs: []
  type: TYPE_NORMAL
- en: It has been proven that simple models produce more accurate results! Keep this
    always in mind when selecting an approach or technique, and even when the problem
    might be complex, it is not always obligatory to adopt a complex regression approach.
  prefs: []
  type: TYPE_NORMAL
- en: Identifying opportunities for statistical regression
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Typical statistical analysis efforts which often become official statistical
    projects, start out with determining an objective and then, ultimately, determining
    the right approach to meet that objective.
  prefs: []
  type: TYPE_NORMAL
- en: 'Popular data science opinion declares determining an objective as establishing
    the purpose of a statistical analysis effort, then splits the purpose into three
    areas:'
  prefs: []
  type: TYPE_NORMAL
- en: Summarizing data (also called building a data profile)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Exposing and exploring relationships between variables in the data
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Testing the significance of differences (between variables or groups within
    the data)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Summarizing data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If your statistical objective is to summarize data, you generate descriptive
    statistics, such as mean, standard deviation, variances, and so on.
  prefs: []
  type: TYPE_NORMAL
- en: Exploring relationships
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If your statistical objective is to look for and learn about relationships
    in your data, you first examine your data for a form or, in other words, ask the
    question: does your data revolve around frequencies or measurements? From there,
    the number of predictor variables will dictate to you what regression (or other)
    approach you should use in your project.'
  prefs: []
  type: TYPE_NORMAL
- en: Testing significance of differences
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If your statistical objective involves testing the differences (between groups)
    found in the data, then you start out by identifying both the groups as well as
    the number of those groups. Data analysis involve data with a single group (of
    interest) leverages (compares values to) a mean, while data with more than one
    group can use the number of groups to determine which predictive approach one
    should consider.
  prefs: []
  type: TYPE_NORMAL
- en: Project profitability
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As a real-world example, let's consider a consulting services organization that
    has data collected describing its project work over time. This organization may
    be contracted to lead technology and/or business-related projects of all sizes
    and effort levels. Each project has expenses and revenues. Some projects are profitable,
    and some are not. The firm is interested in identifying which variables (if any)
    are candidates for predicting how profitable a project will be, in other words,
    which variables (in particular) are significant predictors of the dependent variable
    (in this case profitability)?
  prefs: []
  type: TYPE_NORMAL
- en: 'Examining the data, we see a good list of both variables and measurements;
    some of which are listed as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Number of consultants assigned to the project **full time** (**FT**)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Number of consultants assigned to the project **part-time** (**PT**)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Number of sub-contractors assigned to the project (FT or PT)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Number of customer resources assigned to the project full time
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Number of customer resources assigned to the project part-time
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Years of experience with the projects core technology
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Total project management hours
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Total development hours
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hourly bill rate
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Total hours invoiced
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Number of technologies used in the project
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Project style (Time and materials, not to exceed or staff augment) and so on
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Generally while speaking, when the data scientist uses regression analysis,
    he or she is hoping to answer the following three questions:'
  prefs: []
  type: TYPE_NORMAL
- en: Does a set of predictor variables do a good job in predicting an outcome variable?
    In our project profitability example, would the number of full-time consultants
    assigned to a project do a good job of predicting profitability?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Which variables (in particular) are significant predictors of the dependent
    variable? Again, in our project profitability example, can we identify a significant
    predictor as the number of full-time consultants assigned to the project or perhaps
    the total project management hours?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: What is the regression equation (the estimated relationship or effect of some
    variables on others) that shows how the set of predictor variables can be used
    to predict the outcome? In our project profitability example, would the regression
    equation be this?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7b090962-687b-4437-b80c-0fa1298c4b01.png)'
  prefs: []
  type: TYPE_IMG
- en: Our project profitability example looks like it could be a reasonable candidate
    for regression analysis.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter**'**s next sections**,** we'll attempt to establish a profile
    for the project data and then use an appropriate regression technique to establish
    it. Then, examine variable relationships and, hopefully, predict project profitability
    based upon selected predictor variables.
  prefs: []
  type: TYPE_NORMAL
- en: R and statistical regression
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before we jump right into our modeling, let's take a moment to validate the
    use of R as our statistical modeling tool.
  prefs: []
  type: TYPE_NORMAL
- en: R is an open-source statistical environment and a powerful programming language
    that continues to be one of the most popular choices for statistical modeling.
    Modeled after S and S-Plus, R has an ever-growing, widespread audience as is well
    maintained by the R core-development team (an international team of volunteer
    developers).
  prefs: []
  type: TYPE_NORMAL
- en: R and many related resources can easily be found online along with detailed
    directions for downloading the software, accompanying packages and other sources
    of documentation. In addition, there are a ton of specialized routines that have
    been written for R by people all over the world and made freely available as R
    packages.
  prefs: []
  type: TYPE_NORMAL
- en: Since R is a programming language, it brings the power of programming to your
    project, but it does require some expertise with the tool. Thankfully, it offers
    a **graphical user interface** (**GUI**) to make things easier and allow you to
    copy and paste from other sources and projects.
  prefs: []
  type: TYPE_NORMAL
- en: A working example
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let's now get back to our real-world example of project profitability!
  prefs: []
  type: TYPE_NORMAL
- en: 'We know that our consulting service organizations project results data describes
    the results of all its project work over time. There are 100 projects (or observations)
    in our data and consists of two variables hours billed and profit. The first variable
    is self-explanatory: it''s the total number of hours billed to the client for
    that project. The second is a US dollar amount that equates to the revenues collected
    from the client after subtracting all expenses (for the project).'
  prefs: []
  type: TYPE_NORMAL
- en: We know that each project has both expenses and revenue, and some projects are
    profitable while others are not. In addition, even projects that are profitable
    vary greatly in their level of profitability. Again, the firm is interested in
    identifying which variables (if any) are candidates for predicting how profitable
    a project will be.
  prefs: []
  type: TYPE_NORMAL
- en: Let's get started with our statistical analysis!
  prefs: []
  type: TYPE_NORMAL
- en: Establishing the data profile
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before attempting to use our project results data to build a regression model,
    one usually attempts to analyze the data, identifying the key variables. Most
    often, you would create various visualizations with your data (we walk through
    this next in this section) in an effort to understand the cause-and-effect relationships
    among variables or groups within the data.
  prefs: []
  type: TYPE_NORMAL
- en: In statistics, these tasks are commonly referred to as performing a graphical
    analysis and correlation study.
  prefs: []
  type: TYPE_NORMAL
- en: The graphical analysis
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In our statistical analysis example, we want to build a simple regression model
    that we can use to predict project profitability (profit) by establishing a statistically
    significant linear relationship with hours billed (to a client) (hours billed).
    Therefore, we can begin our graphical analysis by plotting this data in various
    ways.
  prefs: []
  type: TYPE_NORMAL
- en: 'Typically, for each of the independent variables (predictors), the following
    plots should be drawn to visualize the following behavior:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Scatter plot**: This is drawn to visualize the linear relationship between
    the predictor and the response.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Box plot**: This is drawn to spot any outlier observations in the variable.
    Having outliers in a predictor can drastically affect the predictions as they
    can easily affect the direction/slope of the line of best fit.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Density plot**: This is drawn to see the distribution of the predictor variable.
    Ideally, a close to a normal distribution (a bell-shaped curve), without being
    skewed to the left or right is preferred.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scatter plots can help visualize any linear relationships between the dependent
    (response) variable and independent (predictor) variables.
  prefs: []
  type: TYPE_NORMAL
- en: Ideally, if you are observing multiple predictor variables, a scatter plot should
    be drawn for each one of them against the response.
  prefs: []
  type: TYPE_NORMAL
- en: 'Following are the simple R commands that use the variables `HoursBilled` and
    `Profit` from our project results data to create our scatter plot visualization:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'The following graph is our generated scatterplot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3ae6df40-ace7-4d00-b3e8-411078648653.png)'
  prefs: []
  type: TYPE_IMG
- en: The **Hours Billed vs Profit** scatter plot along with the smoothing line shown
    in the preceding diagram suggests an initially linearly increasing then decreasing
    relationship between the total hours billed to a project and the profit variables.
  prefs: []
  type: TYPE_NORMAL
- en: Note that one of the underlying assumptions in linear regression is that the
    relationship between the response and predictor variables is linear and additive,
    so this data initially looks like it fits.
  prefs: []
  type: TYPE_NORMAL
- en: Our next step is to look for any outliers in our data. Data points that land
    outside the 1.5 * interquartile-range (1.5 * IQR) are considered to be outliers,
    where IQR is calculated as the distance between the 25th percentile and 75th percentile
    values for that variable.
  prefs: []
  type: TYPE_NORMAL
- en: In a statistical analysis of data, a boxplot is commonly used for graphically
    depicting groups of numerical data through their quartiles. These visualizations
    may also have lines extending vertically from the boxes (some data scientists
    refer to these lines as whiskers), indicating variability outside the upper and
    lower quartiles. Boxplots are very good for the identification of outliers.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following R commands are used to some generate boxplots:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'The following are the outlier boxplots for the preceding R commands generated
    from our project results data:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/8279ac06-1dc7-4895-bfb2-9baadc7b244f.png)'
  prefs: []
  type: TYPE_IMG
- en: 'You can notice the outlier identified in the variable profit (on the right
    side of the preceding figure). The **Outlier rows: 3648270** corresponds to a
    data point in our file:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/47c233e9-b008-4d6f-b9db-dad210083490.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Finally, a density plot can be created to see how close our response variables
    (`ProjectID`,`HoursBilled`, and `Profit`) may be to normality. To do this, we
    can use the following R commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'Following are the density plots:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c2a2e669-27f7-45ee-a3d8-3264d1920d02.png)'
  prefs: []
  type: TYPE_IMG
- en: So, do we see a relevant relationship between hoursbilled to a project and how
    (if at all) profitable the project is?
  prefs: []
  type: TYPE_NORMAL
- en: One way for us to be sure is to establish a correlation between the variables.
    Correlation suggests the level of linear dependence between two variables that
    occur in pair, just like what we think we have with hoursbilled and (project)
    profit.
  prefs: []
  type: TYPE_NORMAL
- en: If the data scientist found that profit increases along with an increase in
    every project HoursBilled, then there would be a high positive correlation between
    the two variables, and, therefore, the correlation between them will be closer
    to 1\. Conversely, the opposite is true for an inverse relationship, in which
    case, the correlation between the variables will be close to -1.
  prefs: []
  type: TYPE_NORMAL
- en: A value closer to 0 suggests a weak relationship between the variables. A low
    correlation (-0.2 < x < 0.2) probably suggests that much of variation of the response
    variable (Y) is unexplained by the predictor (X), in which case, we should probably
    look for better explanatory variables.
  prefs: []
  type: TYPE_NORMAL
- en: 'The R programming language again provides us with a way to easily accomplish
    this: the `cor` function, which will determine a correlation between our two variables:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3c0d81b4-2fa6-4396-a345-8be8d5ee00da.png)'
  prefs: []
  type: TYPE_IMG
- en: The given preceding output, we may determine that there really isn't any reason
    to believe that as the number of hours billed on a projected increase, so does
    the profitability. Given this information, we should look at some other possible
    predictor variables.
  prefs: []
  type: TYPE_NORMAL
- en: 'For the sake of time, (we want to get on with our regression model building)
    rather than starting over, we''ll make an educated guess that perhaps the variable
    Total project management hours is a good predictor of project profitability. Let''s
    try running the same cor function using this variable:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f62bcd6f-3e4d-4712-9f8a-f7944bca40ae.png)'
  prefs: []
  type: TYPE_IMG
- en: As the preceding calculated correlation indicates (generated again by the use
    of the R function `cor`), the variable `ProjectManagement` seems to have a higher
    positive correlation (than hours billed) to project profitability.
  prefs: []
  type: TYPE_NORMAL
- en: 'Typically, we would take the time to rebuild the visualizations we created
    earlier in this section using this data (such as the following scatterplot), but
    again, for the sake of time, we''ll move ahead:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/1253d970-0708-49e5-903f-7bcd3449255b.png)'
  prefs: []
  type: TYPE_IMG
- en: 'We can see (from our scatterplot: **Profit Management vs. Profit**) that this
    time, we have a smooth, linear regression of our data in that as the amount of
    project management time increases, so does the projects overall profitably!'
  prefs: []
  type: TYPE_NORMAL
- en: Let's move on!
  prefs: []
  type: TYPE_NORMAL
- en: So now that we have established (what appears to be) a fine linear relationship
    with visualizations such as a scatter plot (and other examples in the previous
    section) and then by computing a positive correlation (using the R function `cor`),
    we can try to construct an actual linear regression model.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once again, R provides us with a relevant functionâ€”`lm()`. The `lm()` function
    takes in two main arguments:'
  prefs: []
  type: TYPE_NORMAL
- en: Formula (an object of class formula)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Data (typically a `data.frame`)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Following are the R commands we can use to generate an R regression model:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'Following are the results of building our model:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/e778dae8-1493-43e0-a2ea-24d706665329.png)'
  prefs: []
  type: TYPE_IMG
- en: Using the preceding R commands to build a linear model, we have established
    the relationship between the predictor (Project Management hours) and response
    (the profitability of the project) in the form of a mathematical formula for Project
    Management (ProjectManagement) as a function of `Profit`.
  prefs: []
  type: TYPE_NORMAL
- en: 'We can use the coefficients from the preceding output (`Intercept: 6.180` and
    `Profit: 1.629`) to create the formula:'
  prefs: []
  type: TYPE_NORMAL
- en: '*projectmanagement = âˆ’6.180+ 1.629 * profit*'
  prefs: []
  type: TYPE_NORMAL
- en: With our linear model and formula, we can predict the profit value of a project
    if a corresponding Project Management (total hours) is known. Exciting!
  prefs: []
  type: TYPE_NORMAL
- en: Although we have established a means for prediction (of project profitability),
    keep in mind that before using any regression model, you have to ensure that it
    is statistically significant.
  prefs: []
  type: TYPE_NORMAL
- en: Predicting with our linear model
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We just created a linear regression model using R commands with all of our project
    results data. In the real-world, one would rather chunk the data using what is
    called the **80:20 sample rule**. This means that 80% of the data will be used
    for training the model, while the other 20% can be used for testing and validation.
  prefs: []
  type: TYPE_NORMAL
- en: Let's go through this process now.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 1: Chunking the data'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We can read our project results data in, then use the R sample function to
    create our 2 two chunks of data (as `trainingData` and `testData`), as shown in
    the following R commands as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'Step 2: Creating the model on the training data'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Like we did earlier in this chapter, we can use the R function lm to create
    our regression model with our`trainingData` chunk**:**
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'Step 3: Predicting the projected profit on test data'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Then, we use the R function predict to create our project predictions, as shown
    in the following R commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'Following is the output generated by the preceding R commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/26a88536-6059-40bb-b49c-5145504273df.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Step 4: Reviewing the model'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Perhaps the final step in our process is to create a summation of the model
    and review it for statistical significance.
  prefs: []
  type: TYPE_NORMAL
- en: 'We can use the R function summary:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'This generates the following output:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c0587526-64be-4b31-aa63-186f1581b4f3.png)'
  prefs: []
  type: TYPE_IMG
- en: From the preceding output generated, we are shown that our model predictor's
    `p` values are visually interpreted as significant, shown by the significance
    stars at the end of the row (outlined), so we know we have a statistically significant
    model.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 4: Accuracy and error'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A simple correlation between the actual values (the actual project profit totals)
    and the model's predicted (profit) values can be used to test the accuracy of
    our project profit predictions.
  prefs: []
  type: TYPE_NORMAL
- en: 'This is illustrated in the following R commands, as follows where we again
    utilize the R function `cor`:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b8097495-44fc-43f6-a297-f2a47755a60b.png)'
  prefs: []
  type: TYPE_IMG
- en: A high correlation accuracy implies that the actual and predicted values have
    similar directional movement, that is, when the actual values increase, the predicted
    also increase, and vice versa; or it is to assume that as the total Project Management
    hours on a project increase or decrease, the project's profitability increase
    or decrease in the same manner!
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we introduced a statistical regression, noted the most common
    regression approaches, and provided some advice on selecting the correction approach
    for a particular statistical project. In addition, we mentioned how to identify
    opportunities for using statistical regression and discussed data summarization,
    exploring relationships, and testing for significance of the difference.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we wrapped up with a working example of linear regression modeling
    for r predicting project profitability.
  prefs: []
  type: TYPE_NORMAL
- en: The next chapter will introduce the developer to the idea of statistical regularization
    for improving data models in an effort to help comprehend what statistical regularization
    is and why it is important as well as feel comfortable with various statistical
    regularization methods.
  prefs: []
  type: TYPE_NORMAL
