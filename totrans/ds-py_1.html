<html><head></head><body><div><div><h1 id="_idParaDest-45"><em class="italics"><a id="_idTextAnchor047"/>Chapter 2</em></h1>
		</div>
		<div><h1 id="_idParaDest-46"><a id="_idTextAnchor048"/>Data Visualization</h1>
		</div>
		<div><h2>Learning Objectives</h2>
			<p>By the end of this chapter, you will be able to:</p>
			<ul>
				<li class="bullets">Create and customize line plots, bar plots, histograms, scatterplots, and box-and-whisker plots using a functional approach</li>
				<li class="bullets">Develop a programmatic, descriptive plot title</li>
				<li class="bullets">Describe the advantages of using an object-oriented approach to create Matplotlib plots</li>
				<li class="bullets">Create a callable figure object containing a single axis or multiple axes</li>
				<li class="bullets">Resize and save figure objects with numerous subplots</li>
				<li class="bullets">Create and customize common plot types using Matplotlib</li>
			</ul>
			<p>This chapter will cover various concepts that fall under data visualization.</p>
		</div>
		<div><h2 id="_idParaDest-47"><a id="_idTextAnchor049"/>Introduction</h2>
			<p>Data visualization is a powerful tool that allows users to digest large amounts of data very quickly. There are different types of plots that serve various purposes. In business, line plots and bar graphs are very common to display trends over time and compare metrics across groups, respectively. Statisticians, on the other hand, may be more interested in checking correlations between variables using a scatterplot or correlation matrix. They may also use histograms to check the distribution of a variable or boxplots to check for outliers. In politics, pie charts are widely used for comparing the total data between or among categories. Data visualizations can be very intricate and creative, being limited only by one's imagination.</p>
			<p>The Python library Matplotlib is a well-documented, two-dimensional plotting library that can be used to create a variety of powerful data visualizations and aims to "...make easy things easy and hard things possible" (<a href="">https://matplotlib.org/index.html</a>).</p>
			<p>There are two approaches to creating plots using Matplotlib, the <strong class="keyword">functional</strong> and the <strong class="keyword">object-oriented approach</strong>.</p>
			<p>In the functional approach, one figure is created with a single plot. Plots are created and customized by a collection of sequential functions. However, the functional approach does not allow us to save the plot to our environment as an object; this is possible using the object-oriented approach. In the object-oriented approach, we create a <strong class="bold">figure object</strong> and assign an axis or numerous axes for one plot or multiple subplots, respectively. We can then customize the axis or axes and call that single plot or set of multiple plots by calling the figure object.</p>
			<p>In this chapter, we will use the functional approach to create and customize line plots, bar plots, histograms, scatterplots, and box-and-whisker plots. We will then learn how to create and customize single-axis and multiple-axes plots using the object-oriented approach.</p>
			<h2 id="_idParaDest-48"><a id="_idTextAnchor050"/>Functional Approach</h2>
			<p>The functional approach to plotting in Matplotlib is a way of quickly generating a single-axis plot. Often, this is the approach taught to beginners. The functional approach allows the user to customize and save plots as image files in a chosen directory. In the following exercises and activities, you will learn how to build line plots, bar plots, histograms, box-and-whisker plots, and scatterplots using the functional approach.</p>
			<h3 id="_idParaDest-49"><a id="_idTextAnchor051"/>Exercise 13: Functional Approach – Line Plot</h3>
			<p>To get started with Matplotlib, we will begin by creating a line plot and go on to customize it:</p>
			<ol>
				<li>Generate an array of numbers for the horizontal axis ranging from 0 to 10 in 20 evenly spaced values using the following code:<pre>import numpy as np
x = np.linspace(0, 10, 20)</pre></li>
				<li>Create an array and save it as object <code>y</code>. The snippet of the following code cubes the values of <code>x</code> and saves it to the array, <code>y</code>:<pre>y = x**3</pre></li>
				<li>Create the plot as follows:<pre>import matplotlib.pyplot as plt
plt.plot(x, y)
plt.show()</pre><p>See the resultant output here:</p><div><img src="img/C13322_02_01.jpg" alt="Figure 2.1: Line plot of y and x&#13;&#10;" width="487" height="252"/></div><h6>Figure 2.1: Line plot of y and x</h6></li>
				<li>Add an x-axis label that reads '<code>Linearly Spaced Numbers</code>' using the following:<pre>plt.xlabel('Linearly Spaced Numbers')</pre></li>
				<li>Add a y-axis label that reads '<code>y Value</code>' using the following line of code:<pre>plt.ylabel('y Value')</pre></li>
				<li>Add a title that reads '<code>x by x cubed</code>' using the following line of code:<pre>plt.title('x by x Cubed')</pre></li>
				<li>Change the line color to black by specifying the color argument as <code>k</code> in the <code>plt.plot()</code> function:<pre>plt.plot(x, y, 'k')</pre><p>Print the plot to the console using plt.show().</p><p>Check out the following screenshot for the resultant output:</p><div><img src="img/C13322_02_02.jpg" alt="Figure 2.2: Line plot with labeled axes and a black line&#13;&#10;" width="532" height="271"/></div><h6>Figure 2.2: Line plot with labeled axes and a black line</h6></li>
				<li>Change the line characters into a diamond; use a character argument (that is, D) combined with the color character (that is, k) as follows:<pre>plt.plot(x, y, 'Dk')</pre><p>See the figure below for the resultant output:</p><div><img src="img/C13322_02_03.jpg" alt="Figure 2.3: Line plot with unconnected, black diamond markers&#13;&#10;" width="524" height="274"/></div><h6>Figure 2.3: Line plot with unconnected, black diamond markers</h6></li>
				<li>Connect the diamonds with a solid line by placing '<code>-</code>' between '<code>D</code>' and '<code>k</code>' using the following:<pre>plt.plot(x, y, 'D-k')</pre><p>Refer to the following figure to see the output:</p><div><img src="img/C13322_02_04.jpg" alt="Figure 5.4: Line plot with connected, black diamond markers&#13;&#10;" width="545" height="278"/></div><h6>Figure 2.4: Line plot with connected, black diamond markers</h6></li>
				<li>Increase the font size of the title using the <code>fontsize</code> argument in the <code>plt.title()</code> function as follows:<pre>plt.title('x by x Cubed', fontsize=22)</pre></li>
				<li>Print the plot to the console using the following code:<pre>plt.show()</pre></li>
				<li>The output can be seen in the following figure:</li>
			</ol>
			<div><div><img src="img/C13322_02_05.jpg" alt="Figure 2.5: Line plot with a larger title&#13;&#10;" width="505" height="286"/>
				</div>
			</div>
			<h6>Figure 2.5: Line plot with a larger title</h6>
			<p>Here, we used the functional approach to create a single-line line plot and styled it to make it more aesthetically pleasing. However, it is not uncommon to compare multiple trends in a single plot. Thus, the next exercise will detail plotting multiple lines on a line plot and creating a legend to discern the lines.</p>
			<h3 id="_idParaDest-50"><a id="_idTextAnchor052"/>Exercise 14: Functional Approach – Add a Second Line to the Line Plot</h3>
			<p>Matplotlib makes adding another line to a line plot very easy by simply specifying another <code>plt.plot()</code> instance. In this exercise, we will plot the lines for x-cubed and x-squared using separate lines: </p>
			<ol>
				<li value="1">Create another y object as we did for the first y object, but this time, square x rather than cubing it, as follows:<pre>y2 = x**2</pre></li>
				<li>Now, plot <code>y2</code> on the same plot as y by adding <code>plt.plot(x, y2)</code> to the existing plot.<p>Refer to the output here:</p><div><img src="img/C13322_02_06.jpg" alt="Figure 2.6: Multiple line plot of y and y2 by x&#13;&#10;" width="516" height="285"/></div><h6>Figure 2.6: Multiple line plot of y and y2 by x</h6></li>
				<li>Change the color of <code>y2</code> to a dotted red line using the following code:<pre>plt.plot(x, y2, '--r')</pre><p>The output is shown in the following figure:</p><div><img src="img/C13322_02_07.jpg" alt="Figure 5.7: Multiple line plot with y2 as a red, dotted line&#13;&#10;" width="528" height="283"/></div><h6>Figure 2.7: Multiple line plot with y2 as a red, dotted line</h6></li>
				<li>To create a legend, we must first create labels for our lines using the label argument inside the <code>plt.plot()</code> functions. </li>
				<li>To label y as '<code>x cubed</code>', use the following:<pre>plt.plot(x, y, 'D-k', label='x cubed') </pre></li>
				<li>Label <code>y2</code> as '<code>x squared</code>' using the following code:<pre>plt.plot(x, y2, '--r', label='x squared')</pre></li>
				<li>Use <code>plt.legend(loc='upper left')</code> to specify the location for the legend.<p>Check out the following screenshot for the resultant output:</p><div><img src="img/C13322_02_08.jpg" alt="Figure 2.8: Multiple line plot with a legend&#13;&#10;" width="588" height="285"/></div><h6>Figure 2.8: Multiple line plot with a legend</h6></li>
				<li>To break a line into new lines, we use '<code>\n</code>' at the beginning of a new line within our string. Thus, using the following code, we can create the title displayed here:<pre>plt.title('As x increases, \nx Cubed (black) increases \nat a Greater Rate than \nx Squared (red)', fontsize=22)</pre><p>Check the output in the following screenshot:</p><div><img src="img/C13322_02_09.jpg" alt="Figure 2.9: A multiple line plot with a multi-line title&#13;&#10;" width="666" height="355"/></div><h6>Figure 2.9: A multiple line plot with a multi-line title</h6></li>
				<li>To change the dimensions of our plot, we will need to add <code>plt.figure(figsize=(10,5))</code> to the top of our <code>plt</code> instances. The <code>figsize</code> arguments of 10 and 5 specify the width and height, respectively.<p>To see the output, refer to the following figure:</p></li>
			</ol>
			<div><div><img src="img/C13322_02_10.jpg" alt="Figure 5.10: A multiple line plot with increased figure size&#13;&#10;" width="675" height="404"/>
				</div>
			</div>
			<h6>Figure 2.10: A multiple line plot with increased figure size</h6>
			<p>In this exercise, we learned how to create and style a single- and multi-line plot in Matplotlib using the functional approach. To help solidify our learning, we will plot another single-line plot with slightly different styling.</p>
			<h3 id="_idParaDest-51"><a id="_idTextAnchor053"/>Activity 2: Line Plot</h3>
			<p>In this activity, we will create a line plot to analyze month-to-month trends for items sold in the months January through June. The trend will be positive and linear, and will be represented using a dotted, blue line, with star markers. The x-axis will be labeled '<code>Month</code>' and the y-axis will be labeled '<code>Items Sold</code>'. The title will say 'Items Sold has been Increasing Linearly:'</p>
			<ol>
				<li value="1">Create a list of six strings for x containing the months January through June.</li>
				<li>Create a list of six values for y containing values for '<code>Items Sold</code>' that start at 1000 and increase by 200 in each value, so the final value is 2000.</li>
				<li>Generate the described plot.<p>Check out the following screenshot for the resultant output:</p></li>
			</ol>
			<div><div><img src="img/C13322_02_11.jpg" alt="Figure 2.11: Line plot of items sold by month&#13;&#10;" width="493" height="277"/>
				</div>
			</div>
			<h6>Figure 2.11: Line plot of items sold by month</h6>
			<h4>Note</h4>
			<p class="callout">We can refer to the solution for this activity on page 333.</p>
			<p>So far, we have gained a lot of practice creating and customizing line plots. Line plots are commonly used for displaying trends. However, when comparing values between and/or among groups, bar plots are traditionally the visualization of choice. In the following exercise, we will explore how to create a bar plot. </p>
			<h3 id="_idParaDest-52"><a id="_idTextAnchor054"/>Exercise 15: Creating a Bar Plot</h3>
			<p>In this exercise, we will be displaying sales revenue by item type:</p>
			<ol>
				<li value="1">Create a list of item types and save it as <code>x</code> using the following code:<pre>x = ['Shirts', 'Pants','Shorts','Shoes']</pre></li>
				<li>Create a list of sales revenue and save it as <code>y</code> as follows:<pre>y = [1000, 1200, 800, 1800]</pre></li>
				<li>To create a bar plot and print it to the console, refer to the code here:<pre>import matplotlib.pyplot as plt
plt.bar(x, y)
plt.show()</pre><p>The following screenshot shows the resultant output:</p><div><img src="img/C13322_02_12.jpg" alt="Figure 2.12: Bar plot of sales revenue by item type&#13;&#10;" width="489" height="246"/></div><h6>Figure 2.12: Bar plot of sales revenue by item type</h6></li>
				<li>Add a title reading '<code>Sales Revenue by Item Type</code>' using the following code:<pre>plt.title('Sales Revenue by Item Type')</pre></li>
				<li>Create an x-axis label reading '<code>Item Type</code>' using the following:<pre>plt.xlabel('Item Type')</pre></li>
				<li>Add a y-axis label reading '<code>Sales Revenue ($)</code>', using the following:<pre>plt.ylabel('Sales Revenue ($)')</pre><p>The following screenshot shows the output:</p><div><img src="img/C13322_02_13.jpg" alt="Figure 5.13: Bar plot with customized axes and title&#13;&#10;" width="509" height="273"/></div><h6>Figure 2.13: Bar plot with customized axes and title</h6></li>
				<li>We are going to create a title that will change according to the data that is plotted. For this example, it will read "<code>Shoes Produce the Most Sales Revenue</code>". First, we will find the index of the maximum value in y and save it as the <code>index_of_max_y</code> object using the following code:<pre>index_of_max_y = y.index(max(y))</pre></li>
				<li>Save the item from list <code>x</code> with an index equaling that of <code>index_of_max_y</code> to the <code>most_sold_item</code> object using the following code:<pre>most_sold_item = x[index_of_max_y]</pre></li>
				<li>Make the title programmatic as follows:<pre>plt.title('{} Produce the Most Sales Revenue'.format(most_sold_item))</pre><p>Check the following output:</p><div><img src="img/C13322_02_14.jpg" alt="Figure 2.14: Bar plot with a programmatic title&#13;&#10;" width="508" height="272"/></div><h6>Figure 2.14: Bar plot with a programmatic title</h6></li>
				<li>If we wish to convert the plot into a horizontal bar plot, we can do so by replacing <code>plt.bar(x, y)</code> with <code>plt.barh(x, y)</code>.<p>The output is shown in the following screenshot:</p><div><img src="img/C13322_02_15.jpg" alt="Figure 2.15: Horizontal bar plot with incorrectly labeled axes&#13;&#10;" width="524" height="281"/></div><h6>Figure 2.15: Horizontal bar plot with incorrectly labeled axes</h6><h4>Note</h4><p class="callout">Remember, when a bar plot is transformed from vertical to horizontal, the x and y axes need to be switched.</p></li>
				<li>Switch the x and y labels <code>from plt.xlabel('Item Type')</code> and <code>plt.ylabel('Sales Revenue ($)')</code>, respectively, to <code>plt.xlabel('Sales Revenue ($)')</code> and <code>plt.ylabel('Item Type')</code>.</li>
			</ol>
			<p>Check out the following output for the final bar plot:</p>
			<div><div><img src="img/C13322_02_16.jpg" alt="Figure 5.16: Horizontal bar plot with correctly labeled axes&#13;&#10;" width="517" height="276"/>
				</div>
			</div>
			<h6>Figure 2.16: Horizontal bar plot with correctly labeled axes</h6>
			<p>In the previous exercise, we learned how to create a bar plot. Building bar plots using Matplotlib is straightforward. In the following activity, we will continue to practice building bar plots.</p>
			<h3 id="_idParaDest-53"><a id="_idTextAnchor055"/>Activity 3: Bar Plot</h3>
			<p>In this activity, we will be creating a bar plot comparing the number of NBA championships among the five franchises with the most titles. The plot will be sorted so that the franchise with the greatest number of titles is on the left and the franchise with the least is on the right. The bars will be red, the x-axis will be titled '<code>NBA Franchises</code>', the y-axis will be titled '<code>Number of Championships</code>', and the title will be programmatic, explaining which franchise has the most titles and how many they have. Before working on this activity, make sure to research the required NBA franchise data online. Additionally, we will rotate the x tick labels 45 degrees using <code>plt.xticks(rotation=45)</code> so that they do not overlap, and we will save our plot to the current directory:</p>
			<ol>
				<li value="1">Create a list of five strings for <code>x</code> containing the names of the NBA franchises with the most titles.</li>
				<li>Create a list of five values for <code>y</code> containing values for '<code>Titles Won</code>' that correspond with the strings in <code>x</code>.</li>
				<li>Place x and y into a data frame with the column names '<code>Team</code>' and '<code>Titles</code>', respectively.</li>
				<li>Sort the data frame in descending order by '<code>Titles</code>'.</li>
				<li>Make a programmatic title and save it as <code>title</code>.</li>
				<li>Generate the described plot.<h4>Note</h4><p class="callout">We can refer to the solution for this activity on page 334.</p></li>
			</ol>
			<p>Line plots and bar plots are two very common and effective types of visualizations for reporting trends and comparing groups, respectively. However, for deeper statistical analyses, it is important to generate graphs that uncover characteristics of features not apparent with line plots and bar plots. Thus, in the following exercises, we will run through creating common statistical plots.</p>
			<h3 id="_idParaDest-54"><a id="_idTextAnchor056"/>Exercise 16: Functional Approach – Histogram</h3>
			<p>In statistics, it is essential to be aware of the distribution of continuous variables prior to running any type of analysis. To display the distribution, we will use a histogram. Histograms display the frequency by the bin for a given array:</p>
			<ol>
				<li value="1">To demonstrate the creation of a histogram, we will generate an array of 100 normally distributed values with a mean of 0 and a standard deviation of 0.1, and save it as y using the following code: <pre>import numpy as np
y = np.random.normal(loc=0, scale=0.1, size=100)</pre></li>
				<li>With Matplotlib imported, create the histogram using the following:<pre>plt.hist(y, bins=20)</pre></li>
				<li>Create a label for the x-axis titled '<code>y Value</code>' using the following code:<pre>plt.xlabel('y Value')</pre></li>
				<li>Title the y-axis '<code>Frequency</code>' using the following line of code:<pre>plt.ylabel('Frequency')</pre></li>
				<li>Print it to the console using <code>plt.show()</code>:</li>
				<li>See the output in the following screenshot: <div><img src="img/C13322_02_17.jpg" alt="Figure 2.17: Histogram of y with labeled axes" width="481" height="260"/></div><h6>Figure 2.17: Histogram of y with labeled axes</h6><h4>Note</h4><p class="callout">When we look at a histogram, we often determine whether the distribution is normal. Sometimes, a distribution may appear normal when it is not, and sometimes a distribution may appear not normal when it is normal. There is a test for normality, termed the Shapiro-Wilk test. The null hypothesis for the Shapiro-Wilk test is that data is normally distributed. Thus, a p-value &lt; 0.05 indicates a non-normal distribution while a p-value &gt; 0.05 indicates a normal distribution. We will use the results from the Shapiro-Wilk test to create a programmatic title communicating to the reader whether the distribution is normal or not.</p></li>
				<li>Use tuple unpacking to save the W statistic and the p-value from the Shapiro-Wilk test into the <code>shap_w</code> and <code>shap_p</code> objects, respectively, using the following code:<pre>from scipy.stats import shapiro
shap_w, shap_p = shapiro(y)</pre></li>
				<li>We will use an if-else statement to determine whether the data is normally distributed and store an appropriate string in a <code>normal_YN</code> object.<pre>if shap_p &gt; 0.05:
    normal_YN = 'Fail to reject the null hypothesis. Data is normally distributed.'
else:
    normal_YN = 'Null hypothesis is rejected. Data is not normally distributed.'</pre></li>
				<li>Assign <code>normal_YN</code> to our plot using <code>plt.title(normal_YN)</code> and print it to the console using <code>plt.show()</code>.<p>Check out the final output in this screenshot:</p></li>
			</ol>
			<div><div><img src="img/C13322_02_18.jpg" alt="Figure 2.18: A histogram of y with a programmatic title" width="516" height="275"/>
				</div>
			</div>
			<h6>Figure 2.18: A histogram of y with a programmatic title</h6>
			<p>As mentioned previously, histograms are used for displaying the distribution of an array. Another common statistical plot for exploring a numerical feature is a box-and-whisker plot, also referred to as a boxplot.</p>
			<p>Box-and-whisker plots display the distribution of an array based on the minimum, first quartile, median, third quartile, and maximum, but they are primarily used to indicate the skew of a distribution and to identify outliers.</p>
			<h3 id="_idParaDest-55"><a id="_idTextAnchor057"/>Exercise 17: Functional Approach – Box-and-Whisker plot</h3>
			<p>In this exercise, we will learn how to create a box-and-whisker plot and portray information regarding the shape of the distribution and the number of outliers in our title:</p>
			<ol>
				<li value="1">Generate an array of 100 normally distributed numbers with a mean of 0 and a standard deviation of 0.1, and save it as y using the following code:<pre>import numpy as np
y = np.random.normal(loc=0, scale=0.1, size=100)</pre></li>
				<li>Create and display the plot as follows:<pre>import matplotlib.pyplot as plt
plt.boxplot(y) 
plt.show() </pre><p>For the output, refer to the following figure:</p><div><img src="img/C13322_02_19.jpg" alt="Figure 2.19: Boxplot of y" width="470" height="243"/></div><h6>Figure 2.19: Boxplot of y</h6><h4>Note</h4><p class="callout">The plot displays a box that represents the interquartile range (IQR). The top of the box is the 25th percentile (i.e., Q1) while the bottom of the box is the 75th percentile (that is, Q3). The orange line going through the box is the median. The two lines extending above and below the box are the whiskers. The top of the upper whisker is the "maximum" value, which is calculated using Q1 – 1.5*IQR. The bottom of the lower whisker is the "minimum" value, which is calculated using Q3 + 1.5*IQR. Outliers (or fringe outliers) are displayed as dots above the "maximum" whisker or below the "minimum" whisker. </p></li>
				<li>Save the Shapiro W and p-value from the <code>shapiro</code> function as follows:<pre>from scipy.stats import shapiro
shap_w, shap_p = shapiro(y)</pre></li>
				<li>Refer to the following code to convert <code>y</code> into z-scores:<pre>from scipy.stats import zscore
y_z_scores = zscore(y)</pre><h4>Note</h4><p class="callout">This is a measure of the data which shows how many standard deviations each datapoint is from the mean.</p></li>
				<li>Iterate through the <code>y_z_scores</code> array to find the number of outliers using the following code:<pre>total_outliers = 0 
for i in range(len(y_z_scores)): 
    if abs(y_z_scores[i]) &gt;= 3:
        total_outliers += 1</pre><h4>Note</h4><p class="callout">Because the array, y, was generated to be normally distributed, we can expect there to be no outliers in the data.</p></li>
				<li>Generate a title that communicates whether the data, as well as the number of outliers, is normally distributed. If <code>shap_p</code> is greater than 0.05, our data is normally distributed. If it is not greater than 0.05, then our data is not normally distributed. We can set this up and include the number of outliers with the following logic:<pre>if shap_p &gt; 0.05:
    title = 'Normally distributed with {} outlier(s).'.format(total_outliers)
else:
    title = 'Not normally distributed with {} outlier(s).'.format(total_outliers)</pre></li>
				<li>Set our plot title as the programmatically named title using <code>plt.title</code> (title) and print it to the console using: <pre>plt.show()</pre></li>
				<li>Check the final output in the following screenshot:</li>
			</ol>
			<div><div><img src="img/C13322_02_20.jpg" alt="Figure 2.20: A boxplot of y with a programmatic title" width="499" height="258"/>
				</div>
			</div>
			<h6>Figure 2.20: A boxplot of y with a programmatic title</h6>
			<p>Histograms and box-and-whisker plots are effective in exploring the characteristics of numerical arrays. However, they do not provide information on the relationships between arrays. In the next exercise, we will learn how to create a scatterplot – a common visualization to display the relationship between two continuous arrays.</p>
			<h3 id="_idParaDest-56"><a id="_idTextAnchor058"/>Exercise 18: Scatterplot</h3>
			<p>In this exercise, we will be creating a scatterplot of weight versus height. We will, again, create a title explaining the message of the plot being portrayed:</p>
			<ol>
				<li value="1">Generate a list of numbers representing height and save it as y using the following:<pre>y = [5, 5.5, 5, 5.5, 6, 6.5, 6, 6.5, 7, 5.5, 5.25, 6, 5.25]</pre></li>
				<li>Generate a list of numbers representing weight and save it as x using the following:<pre>x = [100, 150, 110, 140, 140, 170, 168, 165, 180, 125, 115, 155, 135]</pre></li>
				<li>Create a basic scatterplot with weight on the x-axis and height on the y-axis using the following code:<pre>import matplotlib.pyplot as plt
plt.scatter(x, y)</pre></li>
				<li>Label the x-axis '<code>Weight</code>' as follows:<pre>plt.xlabel('Weight')</pre></li>
				<li>Label the y-axis '<code>Height</code>' as follows:<pre>plt.ylabel('Height')</pre></li>
				<li>Print the plot to the console using <code>plt.show()</code>.<p>Our output should be similar to the following:</p><div><img src="img/C13322_02_21.jpg" alt="Figure 2.21: Scatterplot of height by weight&#13;&#10;" width="507" height="262"/></div><h6>Figure 2.21: Scatterplot of height by weight</h6></li>
				<li>We want our plot title to inform the reader about the strength of the relationship and the Pearson correlation coefficient. Thus, we will calculate the Pearson correlation coefficient and interpret the value of the coefficient in the title. To compute the Pearson correlation coefficient, refer to the following code:<pre>from scipy.stats import pearsonr
correlation_coeff, p_value = pearsonr(x, y)</pre></li>
				<li>The Pearson correlation coefficient is an indicator of the strength and direction of the linear relationship between two continuous arrays. Using if-else logic, we will return the interpretation of the correlation coefficient using the following code:<pre>if correlation_coeff == 1.00:
    title = 'There is a perfect positive linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &gt;= 0.8:
    title = 'There is a very strong, positive linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &gt;= 0.6:
    title = 'There is a strong, positive linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &gt;= 0.4:
    title = 'There is a moderate, positive linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &gt;= 0.2:
    title = 'There is a weak, positive linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &gt; 0:
    title = 'There is a very weak, positive linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff == 0:
    title = 'There is no linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &lt;= -0.8:
    title = 'There is a very strong, negative linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &lt;= -0.6:
    title = 'There is a strong, negative linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &lt;= -0.4:
    title = 'There is a moderate, negative linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
elif correlation_coeff &lt;= -0.2:
    title = 'There is a weak, negative linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
else: 
    title = 'There is a very weak, negative linear relationship (r = {0:0.2f}).'.format(correlation_coeff)
print(title)</pre></li>
				<li>Now, we can use the newly created title object as our title using <code>plt.title(title)</code>.<p>Refer to the following figure for the resultant output:</p></li>
			</ol>
			<div><div><img src="img/C13322_02_22.jpg" alt="Figure 2.25: Scatterplot of height by weight with programmatic title&#13;&#10;" width="538" height="278"/>
				</div>
			</div>
			<h6>Figure 2.22: Scatterplot of height by weight with programmatic title</h6>
			<p>Up to this point, we have learned how to create and style an assortment of plots for several different purposes using the functional approach. While this approach of plotting is effective for generating quick visualizations, it does not allow us to create multiple subplots or store the plot as an object in our environment. To save the plot as an object in our environment, we must use the object-oriented approach, which will be covered in the following exercises and activities.</p>
			<h2 id="_idParaDest-57"><a id="_idTextAnchor059"/>Object-Oriented Approach Using Subplots</h2>
			<p>Using the functional approach of plotting in Matplotlib does not allow the user to save the plot as an object in our environment. In the object-oriented approach, we create a figure object that acts as an empty canvas and then we add a set of axes, or subplots, to it. The figure object is callable and, if called, will return the figure to the console. We will demonstrate how this works by plotting the same x and y objects as we did in <em class="italics">Exercise 13</em>.</p>
			<h3 id="_idParaDest-58"><a id="_idTextAnchor060"/>Exercise 19: Single Line Plot using Subplots</h3>
			<p>When we learned about the functional approach of plotting in Matplotlib, we began by creating and customizing a line plot. In this exercise, we will create and style a line plot using the functional plotting approach:</p>
			<ol>
				<li value="1">Save <code>x</code> as an array ranging from 0 to 10 in 20 linearly spaced steps as follows:<pre>import numpy as np
x = np.linspace(0, 10, 20)</pre><p>Save <code>y</code> as x cubed using the following:</p><pre>y = x**3</pre></li>
				<li>Create a figure and a set of axes as follows:<pre>import matplotlib.pyplot as plt 
fig, axes = plt.subplots() 
plt.show() </pre><p>Check out the following screenshot to view the output:</p><div><img src="img/C13322_02_23.jpg" alt="Figure 2.23: Callable figure and set of axes&#13;&#10;" width="468" height="257"/></div><h6>Figure 2.23: Callable figure and set of axes</h6><h4>Note</h4><p class="callout">The <code>fig</code> object is now callable and returns the axis on which we can plot.</p></li>
				<li>Plot y (that is, x squared) by x using the following:<pre>axes.plot(x, y)</pre><p>The following figure displays the output:</p><div><img src="img/C13322_02_24.jpg" alt="Figure 2.24: Callable line plot of y by x&#13;&#10;" width="455" height="250"/></div><h6>Figure 2.24: Callable line plot of y by x</h6></li>
				<li>Style the plot much the same as in <em class="italics">Exercise 13</em>. First, change the line color and markers as follows:<pre>axes.plot(x, y, 'D-k')</pre></li>
				<li>Set the x-axis label to '<code>Linearly Spaced Numbers</code>' using the following:<pre>axes.set_xlabel('Linearly Spaced Numbers')</pre></li>
				<li>To set the y-axis to '<code>y Value</code>' using the following code:<pre>axes.set_ylabel('y Value')</pre></li>
				<li>Set the title to '<code>As x increases, y increases by x cubed</code>' using the following code: <pre>axes.set_title('As x increases, y increases by x cubed')</pre><p>The following figure displays the output:</p></li>
			</ol>
			<div><div><img src="img/C13322_02_25.jpg" alt="Figure 2.25: Styled, callable line plot of y by x&#13;&#10;" width="486" height="284"/>
				</div>
			</div>
			<h6>Figure 2.25: Styled, callable line plot of y by x</h6>
			<p>In this exercise, we created a plot very similar to the first plot in <em class="italics">Exercise 13</em>, but now it is a callable object. Another advantage of using the object-oriented plotting approach is the ability to create multiple subplots on a single figure object.</p>
			<p>In some situations, we want to compare different views of data side by side. We can accomplish this in Matplotlib using subplots.</p>
			<h3 id="_idParaDest-59"><a id="_idTextAnchor061"/>Exercise 20: Multiple Line Plots Using Subplots</h3>
			<p>Thus, in this exercise, we will plot the same lines as in Exercise 14, but we will plot them on two subplots in the same, callable figure object. Subplots are laid out using a grid format and are accessible using [row, column] indexing. For example, if our figure object contains four subplots organized in two rows and two columns, we would index reference the top-left plot using <code>axes[0,0]</code> and the bottom-right plot using <code>axes[1,1]</code>, as shown in the following figure.</p>
			<div><div><img src="img/C13322_02_26.jpg" alt="Figure 2.29: Axes index referencing&#13;&#10;" width="967" height="265"/>
				</div>
			</div>
			<h6>Figure 2.26: Axes index referencing</h6>
			<p>In the remaining exercises and activities, we will get a lot of practice with generating subplots and accessing the various axes. In this exercise, we will be making multiple line plots using sublots:</p>
			<ol>
				<li value="1">First, create <code>x</code>, <code>y</code>, and <code>y2</code> using the following code:<pre>import numpy as np
x = np.linspace(0, 10, 20)
y = x**3
y2 = x**2</pre></li>
				<li>Create a figure with two axes (that is, subplots) that are side by side (that is, 1 row with 2 columns), as follows:<pre>import matplotlib.pyplot as plt
fig, axes = plt.subplots(nrows=1, ncols=2)</pre><p>The resultant output is displayed here:</p><div><img src="img/C13322_02_27.jpg" alt="Figure 2.27: A figure with two subplots&#13;&#10;" width="538" height="252"/></div><h6>Figure 2.27: A figure with two subplots</h6></li>
				<li>To access the subplot on the left, refer to it as <code>axes[0]</code>. To access the plot on the right, refer to it as <code>axes[1]</code>. On the left axis, plot y by x using the following:<pre>axes[0].plot(x, y)</pre></li>
				<li>Add a title using the following:<pre>axes[0].set_title('x by x Cubed')</pre></li>
				<li>Generate an x-axis label using the following line of code:<pre>axes[0].set_xlabel('Linearly Spaced Numbers')</pre></li>
				<li>Create a y-axis label using the following code:<pre>axes[0].set_ylabel('y Value')</pre><p>The resultant output is displayed here:</p><div><img src="img/C13322_02_28.jpg" alt="Figure 2.31: Figure with two subplots, where the left has been created&#13;&#10;" width="571" height="277"/></div><h6>Figure 2.28: Figure with two subplots, where the left has been created</h6></li>
				<li>On the right axis, plot <code>y2</code> by <code>x</code> using the following code:<pre>axes[1].plot(x, y2)</pre></li>
				<li>Add a title using the following code:<pre>axes[1].set_title('x by x Squared')</pre></li>
				<li>Generate an x-axis label using the following code:<pre>axes[1].set_xlabel('Linearly Spaced Numbers')</pre></li>
				<li>Create a y-axis label using the following code:<pre>axes[1].set_ylabel('y Value')</pre><p>The following screenshot displays the output</p><div><img src="img/C13322_02_29.jpg" alt="Figure 2.29: Figure with both subplots created" width="551" height="276"/></div><h6>Figure 2.29: Figure with both subplots created</h6></li>
				<li>We have successfully created two subplots. However, it looks like the y-axis of the plot on the right is overlapping the left-hand plot. To prevent the overlapping of the plots, use <code>plt.tight_layout()</code>.<p>The figure here displays the output:</p></li>
			</ol>
			<div><div><img src="img/C13322_02_30.jpg" alt="Figure 2.30: A figure with two non-overlapping subplots&#13;&#10;" width="531" height="276"/>
				</div>
			</div>
			<h6>Figure 2.30: A figure with two non-overlapping subplots</h6>
			<p>Using the object-oriented approach, we can display both subplots just by calling the <code>fig</code> object. We will practice object-oriented plotting further in Activity 4.</p>
			<h3 id="_idParaDest-60"><a id="_idTextAnchor062"/>Activity 4: Multiple Plot Types Using Subplots</h3>
			<p>We have learned uptil now how to build, customize, and program line plots, bar plots, histograms, scatterplots, and box-and-whisker plots using the functional approach. In exercise 19, we were introduced to the object-oriented approach, and in exercise 20, we learned how to create a figure with multiple plots using subplots. Thus, in this activity, we will be leveraging subplots to create a figure with multiple plots and plot types. We will be creating a figure with six subplots. The subplots will be displayed in three rows and two columns (see Figure 2.31):</p>
			<h6> </h6>
			<div><div><img src="img/C13322_02_31.jpg" alt="Figure 2.31: Layout for subplots&#13;&#10;" width="1053" height="374"/>
				</div>
			</div>
			<h6>Figure 2.31: Layout for subplots</h6>
			<p>Once we have generated our figure of six subplots, we access each subplot using 'row, column' indexing (see Figure 2.32):</p>
			<div><div><img src="img/C13322_02_32.jpg" alt="Figure 2.32: Axes index referencing" width="1074" height="399"/>
				</div>
			</div>
			<h6>Figure 2.32: Axes index ref<a id="_idTextAnchor063"/>erencing</h6>
			<p>Thus, to access the line plot (that is, top-left), use <code>axes[0, 0]</code>. To access the histogram (that is, middle-right), use <code>axes[1, 1]</code>. We will be practicing this in the following activity:</p>
			<ol>
				<li value="1">Import <code>Items_Sold_by_Week.csv</code> and <code>Weight_by_Height.csv</code> from GitHub and generate a normally distributed array of numbers.</li>
				<li>Generate a figure with six empty subplots using three rows and two columns that do not overlap.</li>
				<li>Set the plot titles with six subplots organized in three rows and two columns such that do not overlap.</li>
				<li>On the '<code>Line</code>', '<code>Bar</code>' and '<code>Horizontal Bar</code>' axes, plot '<code>Items_Sold</code>' by '<code>Week</code>' from '<code>Items_Sold_by_Week.csv</code>'.</li>
				<li>In the '<code>Histogram</code>' and '<code>Box-and-Whisker</code>' axes, plot the array of 100 normally distributed numbers.</li>
				<li>In the '<code>Scatter</code>' axis, plot weight by height with '<code>Weight_by_Height.csv</code>'.</li>
				<li>Label the x- and y-axis in each subplot.</li>
				<li>Increase the size of the figure and save it.<h4>Note</h4><p class="callout">The solution for this activity can be found on page 338.</p></li>
			</ol>
			<h2 id="_idParaDest-61"><a id="_idTextAnchor064"/>Summary</h2>
			<p>In this chapter, we used the Python plotting library Matplotlib to create, customize, and save plots using the functional approach. We then covered the importance of a descriptive title and created our own descriptive, programmatic titles. However, the functional approach does not create a callable figure object and it does not return subplots. Thus, to create a callable figure object with the potential of numerous subplots, we created, customized, and saved our plots using the object-oriented approach. Plotting needs can vary analysis to analysis, so covering every possible plot in this chapter is not practical. To create powerful plots that meet the needs of each individual analysis, it is imperative to become familiar with the documentation and examples found on the Matplotlib documentation page. </p>
			<p>In the subsequent chapter, we will apply some of these plotting techniques as we dive into machine learning using scikit-learn.</p>
		</div>
	</div></body></html>