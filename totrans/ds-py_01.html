<html><head></head><body><div><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Programming and Data Science – A New Toolset</h1></div></div></div><div><blockquote class="blockquote"><p>"Data is a precious thing and will last longer than the systems themselves."</p></blockquote></div><p>– <em>Tim Berners-Lee</em>, <em>inventor of the World Wide Web</em>
</p><p>(<a class="ulink" href="https://en.wikipedia.org/wiki/Tim_Berners-Lee">https://en.wikipedia.org/wiki/Tim_Berners-Lee</a>)</p><p>In this introductory chapter, I'll start the conversation by attempting to answer a few fundamental questions that will hopefully provide context and clarity for the rest of this book:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">What is data science and why it's on the rise</li><li class="listitem" style="list-style-type: disc">Why is data science here to stay</li><li class="listitem" style="list-style-type: disc">Why do developers need to get involved in data science</li></ul></div><p>Using my experience as a developer and recent data science practitioner, I'll then discuss a concrete data pipeline project that I worked on and a data science strategy that derived from this work, which is comprised of three pillars: data, services, and tools. I'll end the chapter by introducing Jupyter Notebooks which are at the center of the solution I'm proposing in this book.</p><div><div><div><div><h1 class="title"><a id="ch01lvl1sec11"/>What is data science</h1></div></div></div><p>If you search the web <a id="id0" class="indexterm"/>for a definition of data science, you will certainly find many. This reflects the reality that data science means different things to different people. There is no real consensus on what data scientists exactly do and what training they must have; it all depends on the task they're trying to accomplish, for example, data collection and cleaning, data visualization, and so on.</p><p>For now, I'll try to use a universal and, hopefully, consensual definition: <em>data science refers to the activity of analyzing a large amount of data in order to extract knowledge and insight leading to actionable decisions</em>. It's still pretty vague though; one can ask what kind of knowledge, insight, and actionable decision are we talking about?</p><p>To orient the conversation, let's reduce the scope to three fields of data science:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Descriptive analytics</strong>: Data science is <a id="id1" class="indexterm"/>associated with information retrieval and data collection techniques with the goal of reconstituting past events to identify patterns and find insights that help understand what happened and what caused it to happen. An example of this is looking at sales figures and demographics by region to categorize customer preferences. This part requires being familiar with statistics and data visualization techniques.</li><li class="listitem" style="list-style-type: disc"><strong>Predictive analytics</strong>: Data science is a <a id="id2" class="indexterm"/>way to predict the likelihood that some events are currently happening or will happen in the future. In this scenario, the data scientist looks at past data to find explanatory variables and build statistical models that can be applied to other data points for which we're trying to predict the outcome, for example, predicting the likelihood that a credit card transaction is fraudulent in real-time. This part is usually associated with the field of machine learning.</li><li class="listitem" style="list-style-type: disc"><strong>Prescriptive analytics</strong>: In this scenario, data <a id="id3" class="indexterm"/>science is seen as a way to make better decisions, or perhaps I should say data-driven decisions. The idea is to look at multiple options and using simulation techniques, quantify, and maximize the outcome, for example, optimizing the supply chain by looking at minimizing operating costs.</li></ul></div><p>In essence, descriptive data science answers the question of <em>what</em> (does the data tells me), predictive data science answers the question of <em>why</em> (is the data behaving a certain way), and prescriptive data science answers the questions of <em>how</em> (do we optimize the data toward a specific goal).</p></div></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Is data science here to stay?</h1></div></div></div><p>Let's get straight to the point from the start: I strongly think that the answer is yes.</p><p>However, that was not always the case. A few years back, when I first started hearing about data science as a <a id="id4" class="indexterm"/>concept, I initially thought that it was yet another marketing buzzword to describe an activity that already existed in the industry: <strong>Business Intelligence</strong> (<strong>BI</strong>). As a developer and architect <a id="id5" class="indexterm"/>working mostly on solving complex system integration problems, it was easy to convince myself that I didn't need to get directly involved in data science projects, even though it was obvious that their numbers were on the rise, the reason being that developers traditionally deal with data pipelines as black boxes that are accessible with well-defined APIs. However, in the last decade, we've seen exponential growth in data science interest both in academia and in the industry, to the point it became clear that this model would not be sustainable. </p><p>As data analytics are playing a bigger and bigger role in a company's operational processes, the developer's role was expanded to get closer to the algorithms and build the infrastructure that would run them in production. Another piece of evidence that data science has become the new <em>gold rush</em> is the extraordinary growth of data scientist jobs, which have been ranked number one for 2 years in a row on Glassdoor (<a class="ulink" href="https://www.prnewswire.com/news-releases/glassdoor-reveals-the-50-best-jobs-in-america-for-2017-300395188.html">https://www.prnewswire.com/news-releases/glassdoor-reveals-the-50-best-jobs-in-america-for-2017-300395188.html</a>) and are consistently posted the most by employers on Indeed. Headhunters are also on the prowl on LinkedIn and other social media platforms, sending tons of recruiting messages to whoever has a profile showing any data science skills.</p><p>One of the main reasons behind all the investment being made into these new technologies is the hope that it will yield major improvements and greater efficiencies in the business. However, even though it is a growing field, data science in the enterprise today is still confined to experimentation instead of being a core activity as one would expect given all the hype. This has lead a lot of people to wonder if data science is a passing fad that will eventually subside and yet another technology bubble that will eventually pop, leaving a lot of people behind.</p><p>These are all good points, but I quickly realized that it was more than just a passing fad; more and more of the projects I was leading included the integration of data analytics into the core product features. Finally, it is when the IBM Watson Question Answering system won at a game of <em>Jeopardy!</em> against two experienced champions, that I became convinced that data science, along <a id="id6" class="indexterm"/>with the cloud, big data, and <strong>Artificial Intelligence</strong> (<strong>AI</strong>), was here to stay and would eventually change the way we think about computer science.</p></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Why is data science on the rise?</h1></div></div></div><p>There are multiple factors <a id="id7" class="indexterm"/>involved in the meteoric rise of data science.</p><p>First, the amount of data being collected keeps growing at an exponential rate. According to recent market research from the IBM Marketing Cloud (<a class="ulink" href="https://www-01.ibm.com/common/ssi/cgi-bin/ssialias?htmlfid=WRL12345GBEN">https://www-01.ibm.com/common/ssi/cgi-bin/ssialias?htmlfid=WRL12345GBEN</a>) something like 2.5 quintillion bytes are created every day (to give you an idea of how big that is, that's 2.5 billion of billion bytes), but yet only a tiny fraction of this data is ever analyzed, leaving tons of missed opportunities on the table.</p><p>Second, we're in the midst of a cognitive revolution that started a few years ago; almost every industry is jumping on the AI bandwagon, which includes <strong>natural language processing</strong> (<strong>NLP</strong>) and machine <a id="id8" class="indexterm"/>learning. Even though these fields existed for a long time, they have recently enjoyed the renewed attention to the point that they are now among the most popular courses in colleges as well as getting the lion's share of open source activities. It is clear that, if they are to survive, companies need to become more agile, move faster, and transform into digital businesses, and as the time available for decision-making is shrinking to near real-time, they must become fully data-driven. If you also include the fact that AI algorithms need high-quality data (and a lot of it) to work properly, we can start to understand the critical role played by data scientists.</p><p>Third, with advances in cloud technologies and the <a id="id9" class="indexterm"/>development of <strong>Platform as a Service</strong> (<strong>PaaS</strong>), access to massive compute engines and storage has never been easier or cheaper. Running big data workloads, once the purview of large corporations, is now available to smaller organizations or any individuals with a credit card; this, in turn, is fueling the growth of innovation across the board.</p><p>For these reasons, I have no doubt that, similar to the AI revolution, data science is here to stay and that its growth will <a id="id10" class="indexterm"/>continue for a long time. But we also can't ignore the fact that data science hasn't yet realized its full potential and produced the expected results, in particular helping companies in their transformation into data-driven organizations. Most often, the challenge is achieving that next step, which is to transform data science and analytics into a core business activity that ultimately enables clear-sighted, intelligent, bet-the-business decisions.</p></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec14"/>What does that have to do with developers?</h1></div></div></div><p>This is a very important question that we'll spend a lot of time developing in the coming chapters. Let me start by looking back at my professional journey; I spent most of my career as a developer, dating back over 20 years ago, working on many aspects of computer science.</p><p>I started by building various tools <a id="id11" class="indexterm"/>that helped with software internationalization by automating the process of translating the user interface into multiple languages. I then worked on a LotusScript (scripting language for Lotus Notes) editor for Eclipse that would interface directly with the underlying compiler. This editor provided first-class development features, such as content assist, which provides suggestions, real-time syntax error reporting, and so on. I then spent a few years building middleware components based on Java EE and OSGI (<a class="ulink" href="https://www.osgi.org">https://www.osgi.org</a>) for the Lotus Domino server. During that time, I led a team that modernized the Lotus Domino programming model by bringing it to the latest technologies available at the time. I was comfortable with all aspects of software development, frontend, middleware, backend data layer, tooling, and so on; I was what some would call a full-stack developer.</p><p>That was until I saw a demo of the IBM Watson Question Answering system that beat longtime champions Brad Rutter and Ken Jennings at a game of <em>Jeopardy!</em> in 2011. Wow! This was groundbreaking, a computer program capable of answering natural language questions. I was very intrigued and, after doing some research, meeting with a few researchers involved in the project, and learning about the techniques used to build this system, such as NLP, machine learning, and general data science, I realized how much potential this technology would have if applied to other parts of the business.</p><p>A few months later, I got an opportunity to join the newly formed Watson Division at IBM, leading a tooling team with the mission to build data ingestion and accuracy analysis capabilities for the Watson system. One of our most important requirements was to make sure the tools were easy to use by our customers, which is why, in retrospect, giving this responsibility to a team of developers was the right move. From my perspective, stepping into that job was both challenging and enriching. I was leaving a familiar world where I excelled at designing architectures based on well-known patterns and implementing frontend, middleware, or backend software components to a world focused mostly on working with a large amount of data; acquiring it, cleansing it, analyzing it, visualizing it, and building models. I spent the first six months drinking from the firehose, reading, and learning about NLP, machine learning, information retrieval, and statistical data science, at least enough to be able to work on the capabilities I was building.</p><p>It was at that time, interacting with the research team to bring these algorithms to market, that I realized how important developers and data scientists needed to collaborate better. The traditional approach of <a id="id12" class="indexterm"/>having data scientists solve complex data problems in isolation and then throw the results "over the wall" to developers for them to operationalize them is not sustainable and doesn't scale, considering that the amount of data to process keeps growing exponentially and the required time to market keeps shrinking.</p><p>Instead, their role needs to be shifting toward working as one team, which means that data scientists must work and think like software developers and vice versa. Indeed, this looks very good on paper: on the one hand, data scientists will benefit from tried-and-true software development methodologies such as Agile—with its rapid iterations and frequent feedback approach—but also from a rigorous software development life cycle that brings compliance with enterprise needs, such as security, code reviews, source control, and so on. On the other hand, developers will start thinking about data in a new way: as analytics meant to discover insights instead of just a persistence layer with queries and <strong>CRUD</strong> (short for, <strong>create</strong>, <strong>read</strong>, <strong>update</strong>, <strong>delete</strong>) APIs.</p></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Putting these concepts into practice</h1></div></div></div><p>After 4 years as the Watson Core Tooling lead architect building self-service tooling for the Watson Question Answering system, I joined the Developer Advocacy team of the Watson Data Platform <a id="id13" class="indexterm"/>organization which has the expanded mission of creating a platform that brings the portfolio of data and cognitive services to the IBM public cloud. Our mission was rather simple: win the hearts and minds of developers and help them be successful with their data and AI projects.</p><p>The work had multiple dimensions: education, evangelism, and activism. The first two are pretty straightforward, but the concept of activism is relevant to this discussion and worth explaining in more details. As the name implies, activism is about bringing change where change is needed. For our team of 15 developer advocates, this meant walking in the shoes of developers as they try to work with data—whether they're only getting started or already operationalizing advanced algorithms—feel their pain and identify the gaps that should be addressed. To that end, we built and made open source numerous sample data pipelines with real-life use cases.</p><p>At a minimum, each of these projects needed to satisfy three requirements:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The raw data used as input must be publicly available</li><li class="listitem" style="list-style-type: disc">Provide clear instructions for deploying the data pipeline on the cloud in a reasonable amount of time</li><li class="listitem" style="list-style-type: disc">Developers should be able to use the project as a starting point for similar scenarios, that is, the code must be highly customizable and reusable</li></ul></div><p>The experience and insights we gained from these exercises were invaluable:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Understanding which data <a id="id14" class="indexterm"/>science tools are best suited for each task</li><li class="listitem" style="list-style-type: disc">Best practice frameworks and languages</li><li class="listitem" style="list-style-type: disc">Best practice architectures for deploying and operationalizing analytics</li></ul></div><p>The metrics that guided our choices were multiple: accuracy, scalability, code reusability, but most importantly, improved collaboration between data scientists and developers.</p></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Deep diving into a concrete example</h1></div></div></div><p>Early on, we wanted to build a data pipeline that extracted insights from Twitter by doing sentiment analysis of tweets <a id="id15" class="indexterm"/>containing specific hashtags and to deploy the results to a real-time dashboard. This application was a perfect starting point for us, because the data science analytics were not too complex, and the application covered many aspects of a real-life scenario:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">High volume, high throughput streaming data</li><li class="listitem" style="list-style-type: disc">Data enrichment with sentiment analysis NLP</li><li class="listitem" style="list-style-type: disc">Basic data aggregation</li><li class="listitem" style="list-style-type: disc">Data visualization</li><li class="listitem" style="list-style-type: disc">Deployment into a real-time dashboard</li></ul></div><p>To try things out, the first implementation was a simple Python application that used the tweepy library (the official Twitter library for Python: <a class="ulink" href="https://pypi.python.org/pypi/tweepy">https://pypi.python.org/pypi/tweepy</a>) to connect to Twitter and get a stream of tweets and textblob (the simple Python library for basic NLP: <a class="ulink" href="https://pypi.python.org/pypi/textblob">https://pypi.python.org/pypi/textblob</a>) for sentiment analysis enrichment.</p><p>The results were then saved into a JSON file for analysis. This prototype was a great way to getting things started and experiment quickly, but after a few iterations we quickly realized that we needed to get serious and build an architecture that satisfied our enterprise requirements.</p></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Data pipeline blueprint</h1></div></div></div><p>At a high level, data pipelines can be described using the following generic blueprint:</p><div><img src="img/B09699_01_01.jpg" alt="Data pipeline blueprint" width="837" height="479"/><div><p>Data pipeline workflow</p></div></div><p>The main objective of a data pipeline is to operationalize (that is, <em>provide direct business value</em>) the data science <a id="id16" class="indexterm"/>analytics outcome in a scalable, repeatable process, and with a high degree of automation. Examples of analytics could be a recommendation engine to entice consumers to buy more products, for example, the Amazon recommended list, or a dashboard showing <strong>Key Performance Indicators</strong> (<strong>KPIs</strong>) that can help a CEO make <a id="id17" class="indexterm"/>future decisions for the company.</p><p>There are multiple persons involved in the building of a data pipeline:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Data engineers</strong>: They are responsible for designing and operating information systems. In other words, data <a id="id18" class="indexterm"/>engineers are responsible for interfacing with data sources to acquire the data in its raw form and then massage it (some call this data wrangling) until it is ready to be analyzed. In the Amazon recommender system example, they would implement a streaming processing pipeline that captures and aggregates specific consumer transaction events from the e-commerce system of records and stores them into a data warehouse.</li><li class="listitem" style="list-style-type: disc"><strong>Data scientists</strong>: They analyze the data and build the analytics that extract insight. In our Amazon recommender system example, they could use a Jupyter Notebook that connects to the data warehouse to load the dataset and build a recommendation <a id="id19" class="indexterm"/>engine using, for example, collaborative filtering algorithm (<a class="ulink" href="https://en.wikipedia.org/wiki/Collaborative_filtering">https://en.wikipedia.org/wiki/Collaborative_filtering</a>).</li><li class="listitem" style="list-style-type: disc"><strong>Developers</strong>: They are responsible for operationalizing the analytics into an application targeted at line of business users (business analysts, C-Suite, end users, and so on). Again, in the Amazon recommender system, the developer will present the list of recommended products after the user has completed a purchase or via a periodic email.</li><li class="listitem" style="list-style-type: disc"><strong>Line of business users</strong>: This encompasses all users that consume the output of data science analytics, for example, business analysts analyzing dashboards to monitor the health of a business or the end user using an application that provides a recommendation as to what to buy next.</li></ul></div><div><div><h3 class="title"><a id="note03"/>Note</h3><p>In real-life, it is not uncommon that the same person plays more than one of the roles described here; this may mean that one person has multiple, different needs when interacting with a data pipeline.</p></div></div><p>As the preceding diagram suggests, building a data science pipeline is iterative in nature and adheres to a well-defined process:</p><div><ol class="orderedlist arabic"><li class="listitem"><strong>Acquire Data</strong>: This step includes acquiring the <a id="id20" class="indexterm"/>data in its raw form from a variety of sources: structured (RDBMS, system of records, and so on) or unstructured (web pages, reports, and so on):<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Data cleansing</strong>: Check for integrity, fill missing data, fix incorrect data, and data munging</li><li class="listitem" style="list-style-type: disc"><strong>Data prep</strong>: Enrich, detect/remove outliers, and apply business rules</li></ul></div></li><li class="listitem"><strong>Analyze</strong>: This step combines descriptive (understand the data) and prescriptive (build models) activities:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Explore</strong>: Find statistical properties, for example, central tendency, standard deviation, distribution, and variable identification, such as univariate and bivariate analysis, the correlation between variables, and so on.</li><li class="listitem" style="list-style-type: disc"><strong>Visualization</strong>: This step is extremely important to properly analyze the data and form hypotheses. Visualization tools should provide a reasonable level of interactivity to facilitate understanding of the data.</li><li class="listitem" style="list-style-type: disc"><strong>Build model</strong>: Apply inferential statistics to form hypotheses, such as selecting features for the models. This step usually requires expert domain knowledge and is subject to a lot of interpretation.</li></ul></div></li><li class="listitem"><strong>Deploy</strong>: Operationalize the output of the analysis phase:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Communicate</strong>: Generate reports and dashboards that communicate the analytic output clearly for consumption by the line of business user (C-Suite, business analyst, and so on)</li><li class="listitem" style="list-style-type: disc"><strong>Discover</strong>: Set a business outcome objective that focuses on discovering new insights and business opportunities that can lead to a new source of revenue</li><li class="listitem" style="list-style-type: disc"><strong>Implement</strong>: Create applications for end-users</li></ul></div></li><li class="listitem"><strong>Test</strong>: This activity should <a id="id21" class="indexterm"/>really be included in every step, but here we're talking about creating a feedback loop from field usage:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Create metrics that measure the accuracy of the models</li><li class="listitem" style="list-style-type: disc">Optimize the models, for example, get more data, find new features, and so on</li></ul></div></li></ol></div></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec18"/>What kind of skills are required to become a data scientist?</h1></div></div></div><p>In the industry, the reality is that <a id="id22" class="indexterm"/>data science is so new that companies do not yet have a well-defined career path for it. How do you get hired for a data scientist position? How many years of experience is required? What skills do you need to bring to the table? Math, statistics, machine learning, information technology, computer science, and what else?</p><p>Well, the answer is probably a little bit of everything plus one more critical skill: domain-specific expertise.</p><p>There is a debate going on around whether applying generic data science techniques to any dataset without an intimate understanding of its meaning, leads to the desired business outcome. Many companies are leaning toward making sure data scientists have substantial amount of domain expertise, the rationale being that without it you may unknowingly introduce bias at any steps, such as when filling the gaps in the data cleansing phase or during the feature selection process, and ultimately build models that may well fit a given dataset but still end up being worthless. Imagine a data scientist working with no chemistry background, studying unwanted molecule interactions for a pharmaceutical company developing new drugs. This is also probably why we're seeing a multiplication of statistics courses specialized in a particular domain, such as biostatistics for biology, or supply chain analytics for analyzing operation management related to supply chains, and so on.</p><p>To summarize, a data scientist should be in theory somewhat proficient in the following areas:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Data engineering / information retrieval</li><li class="listitem" style="list-style-type: disc">Computer science</li><li class="listitem" style="list-style-type: disc">Math and statistics</li><li class="listitem" style="list-style-type: disc">Machine learning</li><li class="listitem" style="list-style-type: disc">Data visualization</li><li class="listitem" style="list-style-type: disc">Business intelligence</li><li class="listitem" style="list-style-type: disc">Domain-specific expertise</li></ul></div><div><div><h3 class="title"><a id="note04"/>Note</h3><p>If you are thinking about acquiring these skills but don't have the time to attend traditional classes, I strongly recommend using online courses.</p><p>I particularly recommend this course: <a class="ulink" href="https://www.coursera.org/">https://www.coursera.org/</a>: <a class="ulink" href="https://www.coursera.org/learn/data-science-course">https://www.coursera.org/learn/data-science-course</a>.</p></div></div><p>The classic Drew's Conway Venn Diagram <a id="id23" class="indexterm"/>provides an excellent visualization of what is data science and why data scientists are a bit of a unicorn:</p><div><img src="img/B09699_01_02.jpg" alt="What kind of skills are required to become a data scientist?" width="379" height="357"/><div><p>Drew's Conway Data Science Venn Diagram</p></div></div><p>By now, I hope it becomes pretty clear that the perfect data scientist that fits the preceding description is more an exception than the norm and that, most often, the role involves multiple personas. Yes, that's right, the point I'm <a id="id24" class="indexterm"/>trying to make is that <em>data science is a team sport</em> and this idea will be a recurring theme throughout this book.</p></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec19"/>IBM Watson DeepQA</h1></div></div></div><p>One project that exemplifies the idea that data science is a <a id="id25" class="indexterm"/>team sport is the IBM DeepQA research project which originated as an IBM grand challenge to build an artificial intelligence system capable of answering natural language questions against predetermined <a id="id26" class="indexterm"/>domain knowledge. The <strong>Question Answering</strong> (<strong>QA</strong>) system should be good enough to be able to compete with human contestants at the <em>Jeopardy!</em> popular television game show.</p><p>As is widely known, this system dubbed IBM Watson went on to win the competition in 2011 against two of the most seasoned <em>Jeopardy!</em> champions: Ken Jennings and Brad Rutter. The following photo was taken from the actual game that aired on February 2011:</p><div><img src="img/B09699_01_03.jpg" alt="IBM Watson DeepQA" width="424" height="238"/><div><p>IBM Watson battling Ken Jennings and Brad Rutter at Jeopardy!</p><p>Source: https://upload.wikimedia.org/wikipedia/e</p></div></div><p>It was during the time that I was interacting with the research team that built the IBM Watson QA computer system that I <a id="id27" class="indexterm"/>got to take a closer look at the DeepQA project architecture and realized first-hand how many data science fields were actually put to use.</p><p>The following diagram depicts a high-level architecture of the DeepQA data pipeline:</p><div><img src="img/B09699_01_04.jpg" alt="IBM Watson DeepQA" width="532" height="277"/><div><p>Watson DeepQA architecture diagram</p><p>Source: https://researcher.watson.ibm.com/researcher/files/us-mi</p></div></div><p>As the preceding diagram shows, the <a id="id28" class="indexterm"/>data pipeline for answering a question is composed of the following high-level steps:</p><div><ol class="orderedlist arabic"><li class="listitem"><strong>Question &amp; Topic Analysis (natural language processing)</strong>: This step uses a deep parsing component which detects dependency and hierarchy between the words that compose the question. The goal is to have a deeper understanding of the question and extracts fundamental properties, such as the following:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Focus</strong>: What is the question about?</li><li class="listitem" style="list-style-type: disc"><strong>Lexical Answer Type</strong> (<strong>LAT</strong>): What is the type of the expected answer, for example, a person, a place, and so on. This information is very important during the scoring of candidate answers as it provides an early filter for answers that don't match the LAT.</li><li class="listitem" style="list-style-type: disc"><strong>Named-entity resolution</strong>: This resolves an entity into a standardized name, for example, "Big Apple" to "New York".</li><li class="listitem" style="list-style-type: disc"><strong>Anaphora resolution</strong>: This links pronouns to previous terms in the question, for example, in the sentence "On Sept. 1, 1715 Louis XIV died in this city, site of a fabulous palace <strong>he</strong> built," the pronoun "he" refers to Louis XIV.</li><li class="listitem" style="list-style-type: disc"><strong>Relations detection</strong>: This detects relations within the question, for example, "She divorced Joe DiMaggio in 1954" where the relation is "Joe DiMaggio Married X." These type of relations (Subject-&gt;Predicate-&gt;Object) can be used to query triple stores and yield high-quality candidate answers.</li><li class="listitem" style="list-style-type: disc"><strong>Question class</strong>: This maps the question to one of the predefined types used in <em>Jeopardy!</em>, for example, factoid, multiple-choice, puzzle, and so on.</li></ul></div></li><li class="listitem"><strong>Primary search and Hypothesis Generation (information retrieval)</strong>: This step relies heavily on the results of the question analysis step to assemble a set of queries adapted to the different answer sources available. Some example of answer sources <a id="id29" class="indexterm"/>include a variety of full-text search engines, such as Indri (<a class="ulink" href="https://www.lemurproject.org/indri.php">https://www.lemurproject.org/indri.php</a>) and Apache Lucene/Solr (<a class="ulink" href="http://lucene.apache.org/solr">http://lucene.apache.org/solr</a>), document-oriented and title-oriented search (Wikipedia), triple stores, and so on. The search <a id="id30" class="indexterm"/>results are then used to generate candidate answers. For example, title-oriented results will be directly used as candidates while document searches will require more detailed analysis of the passages (again using NLP techniques) to extract possible candidate answers.</li><li class="listitem"><strong>Hypothesis and Evidence scoring (NLP and information retrieval)</strong>: For each candidate answer, another round of search is performed to find additional supporting evidence using different scoring techniques. This step also acts as a prescreening test <a id="id31" class="indexterm"/>where some of the candidate answers are eliminated, such as the answers that do not match the LAT computed from step 1. The output of this step is a set of machine learning features corresponding to the supporting evidence found. These features will be used as input to a set of machine learning models for scoring the candidate answers.</li><li class="listitem"><strong>Final merging and scoring (machine learning)</strong>: During this final step, the system identifies variants of the same answer and merges them together. It also uses machine learning models to select the best answers ranked by their respective scores, using the features generated in step 3. These machine learning models have been trained on a set of representative questions with the correct answers against a corpus of documents that has been pre-ingested.</li></ol></div><p>As we continue the discussion on how data science and AI are changing the field of computer science, I thought it was important to look at the state of the art. IBM Watson is one of these flagship projects that has paved the way to more advances we've seen since it beats Ken Jennings and Brad Rutter at the game of <em>Jeopardy!</em>.</p></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec20"/>Back to our sentiment analysis of Twitter hashtags project</h1></div></div></div><p>The quick data pipeline prototype we built gave us a good understanding of the data, but then we needed to design a more robust architecture and make our application enterprise ready. Our primary goal was still to gain experience in building data analytics, and not spend too much time on the data engineering part. This is why we tried to leverage open source tools and frameworks as much as possible:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Apache Kafka</strong> (<a class="ulink" href="https://kafka.apache.org">https://kafka.apache.org</a>): This is a scalable streaming platform for processing the high <a id="id32" class="indexterm"/>volume of tweets in a reliable and fault-tolerant way.</li><li class="listitem" style="list-style-type: disc"><strong>Apache Spark</strong> (<a class="ulink" href="https://spark.apache.org">https://spark.apache.org</a>): This is an in-memory cluster-computing framework. Spark <a id="id33" class="indexterm"/>provides a programming interface that abstracts a complexity of parallel computing.</li><li class="listitem" style="list-style-type: disc"><strong>Jupyter Notebooks</strong> (<a class="ulink" href="http://jupyter.org">http://jupyter.org</a>): These interactive web-based documents (Notebooks) let <a id="id34" class="indexterm"/>users remotely connect to a computing environment (Kernel) to create advanced data analytics. Jupyter Kernels support a variety of programming languages (Python, R, Java/Scala, and so on) as well as multiple computing frameworks (Apache Spark, Hadoop, and so on).</li></ul></div><p>For the sentiment analysis part, we decided to replace the code we wrote using the textblob Python library with the Watson Tone Analyzer service (<a class="ulink" href="https://www.ibm.com/watson/services/tone-analyzer">https://www.ibm.com/watson/services/tone-analyzer</a>), which is a cloud-based rest service that provides advanced <a id="id35" class="indexterm"/>sentiment analysis including detection of emotional, language, and social tone. Even though the Tone Analyzer is not open source, a free version that can be used for development and trial is available on IBM Cloud (<a class="ulink" href="https://www.ibm.com/cloud">https://www.ibm.com/cloud</a>).</p><p>Our architecture now looks like this:</p><div><img src="img/B09699_01_05.jpg" alt="Back to our sentiment analysis of Twitter hashtags project" width="1000" height="501"/><div><p>Twitter sentiment analysis data pipeline architecture</p></div></div><p>In the preceding diagram, we can break down the workflow in to the following steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Produce a stream of tweets and publish them into a Kafka topic, which can be thought of as a channel that <a id="id36" class="indexterm"/>groups events together. In turn, a receiver component can subscribe to this topic/channel to consume these events.</li><li class="listitem">Enrich the tweets with emotional, language, and social tone scores: use Spark Streaming to subscribe to Kafka topics from component <strong>1</strong> and send the text to the Watson Tone Analyzer service. The resulting tone scores are added to the data for further downstream processing. This component was implemented using Scala and, for convenience, was run using a Jupyter Scala Notebook.</li><li class="listitem">Data analysis and exploration: For this part, we decided to go with a Python Notebook simply because Python offer a more attractive ecosystem of libraries, especially around data visualizations.</li><li class="listitem">Publish results back to Kafka.</li><li class="listitem">Implement a real-time dashboard as a Node.js application.</li></ol></div><p>With a team of three people, it took us about 8 weeks to get the dashboard working with real-time Twitter sentiment data. There <a id="id37" class="indexterm"/>are multiple reasons for this seemingly long time:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Some of the frameworks and services, such as Kafka and Spark Streaming, were new to us and we had to learn how to use their APIs.</li><li class="listitem" style="list-style-type: disc">The dashboard frontend was built as a standalone Node.js application using the Mozaïk framework (<a class="ulink" href="https://github.com/plouc/mozaik">https://github.com/plouc/mozaik</a>), which made it easy to build powerful live dashboards. However, we found a few limitations with the code, which forced us to dive into the implementation and write patches, hence adding delays to the overall schedule.</li></ul></div><p>The results are shown in the following screenshot:</p><div><img src="img/B09699_01_06.jpg" alt="Back to our sentiment analysis of Twitter hashtags project" width="1000" height="828"/><div><p>Twitter sentiment analysis real-ime dashboard</p></div></div></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec21"/>Lessons learned from building our first enterprise-ready data pipeline</h1></div></div></div><p>Leveraging open source frameworks, libraries, and tools definitely helped us be more efficient in implementing our <a id="id38" class="indexterm"/>data pipeline. For example, Kafka and Spark were pretty straightforward to deploy and easy to use, and when we were stuck, we could always rely on the developer community for help by using, for example, question and answer sites, such as <a class="ulink" href="https://stackoverflow.com">https://stackoverflow.com</a>.</p><p>Using a cloud-based managed service for the sentiment analysis step, such as the IBM Watson Tone Analyzer (<a class="ulink" href="https://www.ibm.com/watson/services/tone-analyzer">https://www.ibm.com/watson/services/tone-analyzer</a>) was another positive. It allowed us to abstract out the complexity of training and deploying a model, making the whole step more reliable and certainly more accurate than if we had implemented it ourselves.</p><p>It was also super easy to integrate as we only needed to make a REST request (also known as an HTTP request, see <a class="ulink" href="https://en.wikipedia.org/wiki/Representational_state_transfer">https://en.wikipedia.org/wiki/Representational_state_transfer</a> for more information on REST architecture) to get our answers. Most of the modern web services now conform to the REST <a id="id39" class="indexterm"/>architecture, however, we still need to know the specification for each of the APIs, which can take a long time to get right. This step is usually made simpler by using an SDK library, which is often provided for free and in most popular languages, such as Python, R, Java, and Node.js. SDK libraries provide higher level programmatic access to the service by abstracting out the code that generates the REST requests. The SDK would typically provide a class to represent the service, where each method would encapsulate a REST API while taking care of user authentication and other headers.</p><p>On the tooling side, we were very impressed with Jupyter Notebooks, which provided excellent features, such as collaboration and full interactivity (we'll cover Notebooks in more detail later on).</p><p>Not everything was smooth though, as we struggled in a few key areas:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Which programming language to choose for some of the key tasks, such as data enrichment and data analysis. We ended up using Scala and Python, even though there was little experience on the team, mostly because they are very popular among data scientists and also because we wanted to learn them.</li><li class="listitem" style="list-style-type: disc">Creating visualizations for data exploration was taking too much time. Writing a simple chart with a visualization library, such as Matplotlib or Bokeh required writing too much code. This, in turn, slowed down our need for fast experimentation.</li><li class="listitem" style="list-style-type: disc">Operationalizing the analytics <a id="id40" class="indexterm"/>into a real-time dashboard was way too hard to be scalable. As mentioned before, we needed to write a full-fledged standalone Node.js application that consumes data from Kafka and needed to be deployed as a cloud-foundry application (<a class="ulink" href="https://www.cloudfoundry.org">https://www.cloudfoundry.org</a>) on the IBM Cloud. Understandably, this task required quite a long time to complete the first time, but we also found that it was difficult to update as well. Changes in the analytics that write data to Kafka needed to be synchronized with the changes on the dashboard application as well.</li></ul></div></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec22"/>Data science strategy</h1></div></div></div><p>If data science is to continue to grow and graduate into a core business activity, companies must find a way to <a id="id41" class="indexterm"/>scale it across all layers of the organization and overcome all the difficult challenges we discussed earlier. To get there, we identified three important pillars that architects planning a data science strategy should focus on, namely, data, services, and tools:</p><div><img src="img/B09699_01_07.jpg" alt="Data science strategy" width="653" height="311"/><div><p>Three pillars of dat science at scale</p></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Data is your most valuable resource</strong>: You need a proper data strategy to make sure data scientists have easy access to the curated contents they need. Properly classifying the data, set appropriate governance policies, and make the metadata searchable will reduce the time data scientists spend acquiring the data and then asking for permission to use it. This will not only increase their productivity, it will also improve their job satisfaction as they will spend more time working on doing actual data science.<p>
<em>Setting a data strategy that enables data scientists to easily access high-quality data that's relevant to them increases productivity and morale and ultimately leads to a higher rate of successful outcomes.</em>
</p></li><li class="listitem" style="list-style-type: disc"><strong>Services</strong>: Every architect planning for data science should be thinking about a <strong>service-oriented architecture</strong> (<strong>SOA</strong>). Contrary to traditional monolithic applications where all the features are bundled together into a single deployment, a service-oriented system breaks down functionalities into services which are designed to <a id="id42" class="indexterm"/>do a few things but to do it very well, with high performance and scalability. These systems are then deployed and maintained independently from each other giving scalability and reliability to the whole application infrastructure. For example, you could have a service that runs algorithms to create a deep learning model, another one would persist the models and let applications run it to make predictions on customer data, and so on.<p>The advantages are obvious: high reusability, easier maintenance, reduced time to market, scalability, and much more. In addition, this approach would fit nicely into a cloud strategy giving you a growth path as the size of your workload increases beyond existing capacities. You also want to prioritize open source technologies and standardize on open protocols as much as possible.</p><p>
<em>Breaking processes into smaller functions infuses scalability, reliability, and repeatability into the system.</em>
</p></li><li class="listitem" style="list-style-type: disc"><strong>Tools do matter!</strong> Without the proper tools, some tasks become extremely difficult to complete (at least that's the rationale I use to explain why I fail at fixing stuff around the house). However, you also want to keep the tools simple, standardized, and reasonably integrated so they can be used by less skilled users (even if I was given the right tool, I'm not sure I would have been able to complete the house fixing task unless it's simple enough to use). Once you decrease the learning curve to use these tools, non-data scientist users will feel more comfortable using them.<p>
<em>Making the tools simpler to use contributes to breaking the silos and increases collaboration between data science, engineering, and business teams.</em>
</p></li></ul></div></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec23"/>Jupyter Notebooks at the center of our strategy</h1></div></div></div><p>In essence, Notebooks are <a id="id43" class="indexterm"/>web documents composed of editable cells that let you run commands interactively against a backend engine. As their name indicates, we can think of them as the digital version of a paper scratch pad used to write notes and results about experiments. The concept is very powerful and simple at the same time: a user enters code in the language of his/her choice (most implementations of Notebooks support multiple languages, such as Python, Scala, R, and many more), runs the cell and gets the results interactively in an output area below the cell that becomes part of the document. Results could be of any type: text, HTML, and images, which is great for graphing data. It's like working <a id="id44" class="indexterm"/>with a traditional <strong>REPL</strong> (short for, <strong>Read-Eval-Print-Loop</strong>) program on steroids since the Notebook can be connected to powerful compute engines (such as Apache Spark (<a class="ulink" href="https://spark.apache.org">https://spark.apache.org</a>) or Python Dask (<a class="ulink" href="https://dask.pydata.org">https://dask.pydata.org</a>) clusters) allowing you to <a id="id45" class="indexterm"/>experiment with big data if needed.</p><p>Within Notebooks, any classes, functions, or variables created in a cell are visible in the cells below, enabling you to write complex analytics piece by piece, iteratively testing your hypotheses and fixing problems before moving on to the next phase. In addition, users can also write rich text using the <a id="id46" class="indexterm"/>popular Markdown language or mathematical expressions using LaTeX (<a class="ulink" href="https://www.latex-project.org/">https://www.latex-project.org/</a>), to describe their experiments for others to read.</p><p>The following figure shows parts of a sample Jupyter Notebook with a Markdown cell explaining what the experiment is about, a code cell written in Python to create 3D plots, and the actual 3D charts results:</p><div><img src="img/B09699_01_08.jpg" alt="Jupyter Notebooks at the center of our strategy" width="1000" height="756"/><div><p>ample Jupyter Notebook</p></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec05"/>Why are Notebooks so popular?</h2></div></div></div><p>In the last few years, Notebooks have seen a meteoric growth in popularity as the tool of choice for data science-related <a id="id47" class="indexterm"/>activities. There are multiple reasons that can explain it, but I believe the main one is its versatility, making it an indispensable tool not just for data scientists but also for most of the personas involved in building data pipelines, including business analysts and developers.</p><p>For data scientists, Notebooks are ideal for iterative experimentation because it enables them to quickly load, explore, and visualize data. Notebooks are also an excellent collaboration tool; they can be exported as JSON files and easily shared across the team, allowing experiments to be identically repeated and debugged when needed. In addition, because Notebooks are also web applications, they can be easily integrated into a multi-users cloud-based environment providing an even better collaborative experience. </p><p>These environments can also provide on-demand access to large compute resources by connecting the Notebooks with clusters of machines using frameworks such as Apache Spark. Demand for these cloud-based Notebook servers is rapidly growing and as a result, we're seeing an increasing number of <strong>SaaS</strong> (short for, <strong>Software as a Service</strong>) solutions, both commercial with, for <a id="id48" class="indexterm"/>example, IBM Data Science Experience (<a class="ulink" href="https://datascience.ibm.com">https://datascience.ibm.com</a>) or DataBricks (<a class="ulink" href="https://databricks.com/try-databricks">https://databricks.com/try-databricks</a>) and open source with JupyterHub (<a class="ulink" href="https://jupyterhub.readthedocs.io/en/latest">https://jupyterhub.readthedocs.io/en/latest</a>).</p><p>For business <a id="id49" class="indexterm"/>analysts, Notebooks can be used as presentation tools that in most cases provide <a id="id50" class="indexterm"/>enough capabilities with its Markdown support to replace traditional PowerPoints. Charts and tables generated can be directly used to effectively communicate results of complex analytics; there's no need to copy and paste anymore, plus changes in the algorithms are automatically reflected in the final presentation. For example, some Notebook implementations, such as Jupyter, provide an automated conversion of the cell layout to the slideshow, making the whole experience even more seamless.</p><div><div><h3 class="title"><a id="note05"/>Note</h3><p>For reference, here are the steps to produce these slides in Jupyter Notebooks:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Using the <strong>View</strong> | <strong>Cell Toolbar</strong> | <strong>Slideshow</strong>, first annotate each cell by choosing between <strong>Slide</strong>, <strong>Sub-Slide</strong>, <strong>Fragment</strong>, <strong>Skip</strong>, or <strong>Notes</strong>.</li><li class="listitem" style="list-style-type: disc">Use the <code class="literal">nbconvert jupyter</code> command to convert the Notebook into a Reveal.js-powered HTML slideshow:</li><li class="listitem" style="list-style-type: disc">Optionally, you can fire up a web application server to access these slides online:</li></ul></div><div><pre class="programlisting">
<strong>      </strong>
<strong>jupyter nbconvert &lt;pathtonotebook.ipynb&gt; --to slides</strong>
<strong>      jupyter nbconvert &lt;pathtonotebook.ipynb&gt; --to slides –post serve</strong>
</pre></div></div></div><p>For developers, the situation is much less clear-cut. On the one hand, developers love REPL programming, and Notebooks offer all the advantages of an interactive REPL with the added bonuses that it can be <a id="id51" class="indexterm"/>connected to a remote backend. By virtue of running in a browser, results can contain graphics and, since they can be saved, all or part of the Notebook can be reused in different scenarios. So, for a developer, provided that your language of choice is available, Notebooks offer a great way to try and test things out, such as fine-tuning an algorithm or integrating a new API. On the other hand, there is little Notebook adoption by developers for data science activities that can complement the work being done by data scientists, even though they are ultimately responsible for operationalizing the analytics into applications that address customer needs.</p><p>To improve the software development life cycle and reduce time to value, they need to start using the same tools, programming languages, and frameworks as data scientists, including Python with its rich ecosystem of libraries and Notebooks, which have become such an important data science tool. Granted that developers have to meet the data scientist in the middle and get up to speed on the theory and concept behind data science. Based on my experience, I highly <a id="id52" class="indexterm"/>recommend using <strong>MOOCs</strong> (short for, <strong>Massive Open Online Courses</strong>) such as Coursera (<a class="ulink" href="https://www.coursera.org">https://www.coursera.org</a>) or EdX (<a class="ulink" href="http://www.edx.org">http://www.edx.org</a>), which provide a wide variety of courses for every level.</p><p>However, having used Notebooks quite extensively, it is clear that, while being very powerful, they are primarily <a id="id53" class="indexterm"/>designed for data scientists, leaving developers with a steep learning curve. They also lack application development capabilities that are so critical for developers. As we've seen in the <em>Sentiment analysis of Twitter Hashtags</em> project, building an application or a dashboard based on the analytics created in a Notebook can be very difficult and require an architecture that can be difficult to implement and that has a heavy footprint on the infrastructure.</p><p>It is to address these gaps that I decided to create the PixieDust (<a class="ulink" href="https://github.com/ibm-watson-data-lab/pixiedust">https://github.com/ibm-watson-data-lab/pixiedust</a>) library and open source it. As we'll see in the next chapters, the main goal of PixieDust is to lower the <em>cost of entry</em> for new users (whether it be data <a id="id54" class="indexterm"/>scientists or developers) by providing simple APIs for loading and visualizing data. PixieDust also provides a developer framework with APIs for easily building applications, tools, and dashboards that can run directly in the Notebook and also be deployed as web applications.</p></div></div></div>



  
<div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec24"/>Summary</h1></div></div></div><p>In this chapter, I gave my perspective on data science as a developer, discussing the reasons why I think that data science along with AI and Cloud has the potential to define the next era of computing. I also discussed the many problems that must be addressed before it can fully realize its potential. While this book doesn't pretend to provide a magic recipe that solves all these problems, it does try to answer the difficult but critical question of democratizing data science and more specifically <em>bridging the gap between data scientists and developers</em>.</p><p>In the next few chapters, we'll dive into the PixieDust open source library and learn how it can help Jupyter Notebooks users be more efficient when working with data. We'll also deep dive on the PixieApp application development framework that enables developers to leverage the analytics implemented in the Notebook to build application and dashboards.</p><p>In the remaining chapters, we will deep dive into many examples that show how data scientists and developers can collaborate effectively to build end-to-end data pipelines, iterate on the analytics, and deploy them to end users at a fraction of the time. The sample applications will cover many industry use-cases, such as image recognition, social media, and financial data analysis which include data science use cases like descriptive analytics, machine learning, natural language processing, and streaming data.</p><p>We will not discuss deeply the theory behind all the algorithms covered in the sample applications (which is beyond the scope of this book and would take more than one book to cover), but we will instead emphasize how to leverage the open source ecosystem to rapidly complete the task at hand (model building, visualization, and so on) and operationalize the results into applications and dashboards.</p><div><div><h3 class="title"><a id="note06"/>Note</h3><p>The provided sample applications are written mostly in Python and come with complete source code. The code has been extensively tested and is ready to be re-used and customized in your own projects.</p></div></div></div></div>



  </body></html>