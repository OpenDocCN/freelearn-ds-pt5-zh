<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Data Visualization</h1>
                </header>
            
            <article>
                
<p>It is said that <em>a picture is worth a thousand words</em>. Through various pictures and graphical presentations, we can express many abstract concepts, theories, data patterns, or certain ideas much clearer. In this chapter, we first explain why we should care about data visualization. After that, we will discuss several techniques often used for data visualization in R, Python, and Julia. Several special topics will be introduced, such as how to generate a graph, pie chart, and bar chart, how to add a title, trend line, Greek letters, and how to output our graphs. An optional topic at the end of the chapter will discuss dynamic presentations and how to save them as HTML files.</p>
<p>In this chapter, the following topics will be covered:</p>
<ul>
<li>Importance of data visualization</li>
<li>Data visualization in R</li>
<li>Data visualization in Python</li>
<li>Data visualization in Julia</li>
<li>Drawing simple graphs</li>
<li>Visualization packages for R, Python, and Julia</li>
<li>Dynamic visualization</li>
</ul>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Importance of data visualization</h1>
                </header>
            
            <article>
                
<p>For learners, users, or researchers in the areas of data science and business analytics, using various types of graphs, pie charts, bar charts, and other visual means to show some underlying trend or pattern implied by data is vital to understand data and to help researchers present their data to their audience or clients better. There are several reasons for this. First, it is sometimes difficult to describe our findings, especially when we have several patterns or influencing factors. With several separate graphs and a joint one, complex relationships can be understood or explained better.</p>
<p>We can use graphs or pictures to explain certain algorithms, such as the Bisection method (see the section related to dynamic visual presentation, <em>Dynamic visualization</em>).</p>
<p>We can also use relative sizes to represent different meanings. In finance, a basic concept is called <strong>time value of money</strong> (<strong>TVM</strong>). It means that <em>a bird in the hand is worth two in the bush</em>. Today's $100 is more valuable than a future cash flow of the same amount. With different sizes of different circles representing the present value of cash flow occurring at different points in time in the future, learners can understand this concept much more clearly.</p>
<p>Lastly, our data might be quite messy, and simply showing the data points would confuse audiences further. If we could have a simple graph to show its main characteristics, properties, or patterns, it would help greatly.</p>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Data visualization in R</h1>
                </header>
            
            <article>
                
<p>Firstly, let's see the simplest graph for R. With the following one-line R code, we draw a cosine function from <em>-2π</em> to <em>2π</em>:</p>
<pre>&gt; plot(cos,-2*pi,2*pi) </pre>
<p>The related graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-680 image-border" src="Images/839d23c7-3044-486a-89ba-6421674d67ff.png" style="width:24.17em;height:21.08em;" width="514" height="448"/></div>
<p>Histograms could also help us understand the distribution of data points. The previous graph is a simple example of this. First, we generate a set of random numbers drawn from a standard normal distribution. For the purposes of illustration, the first line of <kbd>set.seed()</kbd> is actually redundant. Its existence would guarantee that all users would get the same set of random numbers if the same <kbd>seed</kbd> was used ( <kbd>333</kbd> in this case).</p>
<p>In other words, with the same set of input values, our histogram would look the same. In the next line, the <kbd>rnorm(n)</kbd> function draws <em>n</em> random numbers from a standard normal distribution. The last line then has the <kbd>hist()</kbd> function to generate a histogram:</p>
<pre>&gt; set.seed(333) 
&gt; data&lt;-rnorm(5000) 
&gt; hist(data) </pre>
<p>The associated histogram is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-681 image-border" src="Images/7323040d-a7ff-49e3-b805-46114bb6ffbf.png" style="width:23.33em;height:23.67em;" width="490" height="496"/></div>
<p>Note that the code of <kbd>rnorm(5000)</kbd> is the same as <kbd>rnorm(5000,mean=0,sd=1)</kbd>, which implies that the default value of the <kbd>mean</kbd> is <kbd>0</kbd> and the default value for <kbd>sd</kbd> is <kbd>1</kbd>. The next R program would shade the left-tail for a standard normal distribution:</p>
<pre>x&lt;-seq(-3,3,length=100) 
y&lt;-dnorm(x,mean=0,sd=1) 
title&lt;-"Area under standard normal dist &amp; x less than -2.33" 
yLabel&lt;-"standard normal distribution" 
xLabel&lt;-"x value" 
plot(x,y,type="l",lwd=3,col="black",main=title,xlab=xLabel,ylab=yLabel) 
x&lt;-seq(-3,-2.33,length=100) 
y&lt;-dnorm(x,mean=0,sd=1) 
polygon(c(-4,x,-2.33),c(0,y,0),col="red") </pre>
<p>The related graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-682 image-border" src="Images/a097376c-f347-4279-a899-e96bbecd467c.png" style="width:29.08em;height:28.08em;" width="536" height="518"/></div>
<p>Note that according to the last line in the preceding graph, the shaded area is red.</p>
<p>In terms of exploring the properties of various datasets, the R package called <kbd>rattle</kbd> is quite useful. If the <kbd>rattle</kbd> package is not preinstalled, we could run the following code to install it:</p>
<pre>&gt; install.packages("rattle") </pre>
<p>Then, we run the following code to launch it;</p>
<pre>&gt; library(rattle) 
&gt; rattle() </pre>
<p>After hitting the <em>Enter</em> key, we can see the following:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-683 image-border" src="Images/2a1d05f5-7af1-4785-8e4d-0d6d85eddee3.png" style="width:46.58em;height:24.92em;" width="743" height="398"/></div>
<p>As our first step, we need to import certain datasets. For the sources of data, we choose from seven potential formats, such as <span class="packt_screen">File</span>, <span class="packt_screen">ARFF</span>, <span class="packt_screen">ODBC</span>, <span class="packt_screen">R Dataset</span>, and <span class="packt_screen">RData File</span>, and we can load our data from there.</p>
<p>The simplest way is using the <kbd>Library</kbd> option, which would list all the embedded datasets in the <kbd>rattle</kbd> package. After clicking <span class="packt_screen">Library</span>, we can see a list of embedded datasets. Assume that we choose <kbd>acme:boot:Monthly Excess Returns</kbd> after clicking <span class="packt_screen">Execute</span> in the top left. We would then see the following:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-684 image-border" src="Images/35d7569b-5339-456d-8ccc-fee9eb631108.png" style="width:40.50em;height:21.58em;" width="678" height="361"/></div>
<p>Now, we can study the properties of the dataset. After clicking <span class="packt_screen">Explore</span>, we can use various graphs to view our dataset. Assume that we choose <span class="packt_screen">D<span class="packt_screen">i</span></span><span class="packt_screen">stribution</span> and select the <span class="packt_screen">Benford</span> check box. We can then refer to the following screenshot for more details:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-685 image-border" src="Images/e089dce7-2eb7-4307-a045-293ebdab2fee.png" style="width:39.67em;height:11.25em;" width="555" height="157"/></div>
<p>After clicking <span class="packt_screen">Execute</span>, the following would pop up. The top red line shows the frequencies for the <strong>Benford</strong> Law for each digits of 1 to 9, while the blue line at the bottom shows the properties of our data set. Note that if you don't have the <kbd>reshape</kbd> package already installed in your system, then this either won't run or will ask for permission to install the package to your computer:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-686 image-border" src="Images/fee5dae2-a0b6-430b-b89e-719d803903be.png" style="width:36.33em;height:34.83em;" width="519" height="498"/></div>
<p>The dramatic difference between those two lines indicates that our data does not follow a distribution suggested by the Benford Law. In our real world, we know that many people, events, and economic activities are interconnected, and it would be a great idea to use various graphs to show such a multi-node, interconnected picture. If the <kbd>qgraph</kbd> package is not preinstalled, users have to run the following to install it:</p>
<pre>&gt; install.packages("qgraph") </pre>
<p>The next program shows the connection from a to b, a to c, and the like:</p>
<pre>library(qgraph) 
stocks&lt;-c("IBM","MSFT","WMT") 
x&lt;-rep(stocks, each = 3) 
y&lt;-rep(stocks, 3) 
correlation&lt;-c(0,10,3,10,0,3,3,3,0) 
data &lt;- as.matrix(data.frame(from =x, to =y, width =correlation)) 
qgraph(data, mode = "direct", edge.color = rainbow(9)) </pre>
<p>If the data is shown, the meaning of the program will be much clearer. The correlation shows how strongly those stocks are connected. Note that all those values are randomly chosen with no real-world meanings:</p>
<pre>&gt; data 
<strong>      from   to     width 
 [1,] "IBM"  "IBM"  " 0"  
 [2,] "IBM"  "MSFT" "10"  
 [3,] "IBM"  "WMT"  " 3"  
 [4,] "MSFT" "IBM"  "10"  
 [5,] "MSFT" "MSFT" " 0"  
 [6,] "MSFT" "WMT"  " 3"  
 [7,] "WMT"  "IBM"  " 3"  
 [8,] "WMT"  "MSFT" " 3"  
 [9,] "WMT"  "WMT"  " 0"</strong> </pre>
<p>A high value for the third variable suggests a stronger correlation. For example, <kbd>IBM</kbd> is more strongly correlated with <kbd>MSFT</kbd>, with a value of <kbd>10</kbd>, than its correlation with <kbd>WMT</kbd>, with a value of <kbd>3</kbd>. The following graph shows how strongly those three stocks are correlated:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-687 image-border" src="Images/ffdb5baa-e96b-4dd6-bfa6-bac76d087f1c.png" style="width:24.67em;height:23.83em;" width="529" height="512"/></div>
<p>The following program shows the relationship or interconnection between five factors:</p>
<pre>library(qgraph) 
data(big5) 
data(big5groups) 
title("Correlations among 5 factors",line = 2.5) 
qgraph(cor(big5),minimum = 0.25,cut = 0.4,vsize = 1.5, 
    groups = big5groups,legend = TRUE, borders = FALSE,theme = 'gray') </pre>
<p>The related graph is shown here:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-688 image-border" src="Images/d7288546-4c01-43e3-b4b4-733be0ecf09c.png" style="width:31.00em;height:23.92em;" width="566" height="437"/></div>
<div class="packt_figure"/>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Data visualization in Python</h1>
                </header>
            
            <article>
                
<p>The most widely used Python package for graphs and images is called <kbd>matplotlib</kbd>. The following program can be viewed as the simplest Python program to generate a graph since it has just three lines:</p>
<pre>import matplotlib.pyplot as plt  
plt.plot([2,3,8,12]) 
plt.show() </pre>
<p>The first command line would upload a Python package called <kbd>matplotlib.pyplot</kbd> and rename it to <kbd>plt</kbd>.</p>
<p>Note that we could even use other short names, but it is conventional to use <kbd>plt</kbd> for the <kbd>matplotlib</kbd> package. The second line plots four points, while the last one concludes the whole process. The completed graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-689 image-border" src="Images/bebad0c7-7ce8-4c91-825e-fba2ea5949b5.png" style="width:32.92em;height:25.17em;" width="554" height="424"/></div>
<p>For the next example, we add labels for both <kbd>x</kbd> and <em><kbd>y</kbd></em>, and a title. The function is the cosine function with an input value varying from <em>-2π</em> to <em>2π</em>:</p>
<pre>import scipy as sp 
import matplotlib.pyplot as plt  
x=sp.linspace(-2*sp.pi,2*sp.pi,200,endpoint=True) 
y=sp.cos(x) 
plt.plot(x,y) 
plt.xlabel("x-value") 
plt.ylabel("Cosine function") 
plt.title("Cosine curve from -2pi to 2pi") 
plt.show() </pre>
<p>The nice-looking cosine graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-690 image-border" src="Images/212be63a-bd9f-4d4f-b930-432a67e7dc5b.png" style="width:35.42em;height:26.42em;" width="601" height="448"/></div>
<p>If we received $100 today, it would be more valuable than what would be received in two years. This concept is called the time value of money, since we could deposit $100 today in a bank to earn interest. The following Python program uses <kbd>size</kbd> to illustrate this concept:</p>
<pre>import matplotlib.pyplot as plt 
fig = plt.figure(facecolor='white') 
dd = plt.axes(frameon=False) 
dd.set_frame_on(False) 
dd.get_xaxis().tick_bottom() 
dd.axes.get_yaxis().set_visible(False) 
x=range(0,11,2) 
x1=range(len(x),0,-1) 
y = [0]*len(x); 
plt.annotate("$100 received today",xy=(0,0),xytext=(2,0.15),arrowprops=dict(facecolor='black',shrink=2)) 
plt.annotate("$100 received in 2 years",xy=(2,0),xytext=(3.5,0.10),arrowprops=dict(facecolor='black',shrink=2)) 
s = [50*2.5**n for n in x1];</pre>
<pre>plt.title("Time value of money ") 
plt.xlabel("Time (number of years)") 
plt.scatter(x,y,s=s); 
plt.show() </pre>
<p>The associated graph is shown here. Again, the different sizes show their present values in relative terms:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-691 image-border" src="Images/c137965f-6253-49a3-99e6-ee67ba541d29.png" style="width:33.42em;height:27.17em;" width="545" height="443"/></div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Data visualization in Julia</h1>
                </header>
            
            <article>
                
<p>For the following Julia program, we use a package called <kbd>Plots</kbd>. The command used to install the package is <kbd>Pkg.add("Plots")</kbd>. Here, we run Julia programs via a <span class="packt_screen">Jupyter</span> notebook. The Julia program is presented in the following screenshot:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-692 image-border" src="Images/30bef40c-6d51-4b5f-a036-9ac61011d782.png" style="width:37.17em;height:14.67em;" width="521" height="206"/></div>
<p class="mce-root CDPAlignLeft CDPAlign">After clicking <span class="packt_screen">Kernel</span> on the menu bar, and then <span class="packt_screen">Restart and Run All</span>, we get the following:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-693 image-border" src="Images/4e9c0945-9907-4f1f-b3dd-6c4f4ccdc1eb.png" style="width:39.67em;height:25.67em;" width="625" height="405"/></div>
<p>Again, the <kbd>srand(123)</kbd> command guarantees that any user who applies the same random seed will get the same set of random numbers. Because of this, he/she would get the same graph shown previously. The next example is a scatter plot using a Julia package called <kbd>PyPlot</kbd>:</p>
<pre>using PyPlot 
n=50 
srand(333) 
x = 100*rand(n) 
y = 100*rand(n) 
areas = 800*rand(n) 
fig = figure("pyplot_scatterplot",figsize=(10,10)) 
ax = axes() 
scatter(x,y,s=areas,alpha=0.5) 
title("using PyPlot: Scatter Plot") 
xlabel("X") 
ylabel("Y") 
grid("on") </pre>
<p>The related graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-694 image-border" src="Images/2f910387-03ce-442d-a545-077243e075bd.png" style="width:41.33em;height:40.67em;" width="581" height="572"/></div>
<p>The next Julia program is borrowed from <span class="MsoHyperlink"><em>Sargent and Stachursk</em>i (2017):</span></p>
<pre>using QuantEcon: meshgrid 
using PyPlot:surf 
using Plots 
n = 50 
x = linspace(-3, 3, n) 
y = x 
z = Array{Float64}(n, n) 
f(x, y) = cos(x^2 + y^2) / (1 + x^2 + y^2) 
for i in 1:n 
    for j in 1:n 
        z[j, i] = f(x[i], y[j]) 
    end 
end 
xgrid, ygrid = meshgrid(x, y) 
surf(xgrid, ygrid, z',alpha=0.7) </pre>
<p>The impressive graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-695 image-border" src="Images/22361ae3-3276-4a55-b933-3080de094b46.png" style="width:22.58em;height:18.08em;" width="493" height="395"/></div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Drawing simple graphs</h1>
                </header>
            
            <article>
                
<p>The simplest graph will be a straight line. For R, we have the following example:</p>
<pre>x&lt;-seq(-3,3,by=0.05) 
y&lt;-2+2.5*x 
plot(x,y,type="b") </pre>
<p>In this simple program, type would specify the format of the line, and <kbd>b</kbd> would specify both the spot and the line. The corresponding graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-696 image-border" src="Images/5d255665-d906-482d-bcf6-260a88862c41.png" style="width:24.58em;height:23.83em;" width="497" height="482"/></div>
<p>The possible values for type are given in the following table:</p>
<table style="border-collapse: collapse;width: 100%" class="MsoTableGrid" border="1">
<tbody>
<tr>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>Value</strong></div>
</td>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>Description</strong></div>
</td>
</tr>
<tr>
<td>
<p><kbd>p</kbd></p>
</td>
<td>
<p>for <strong>p</strong>oints</p>
</td>
</tr>
<tr>
<td>
<p><kbd>l</kbd></p>
</td>
<td>
<p>for <strong>l</strong>ines</p>
</td>
</tr>
<tr>
<td>
<p><kbd>b</kbd></p>
</td>
<td>
<p>for <strong>b</strong>oth</p>
</td>
</tr>
<tr>
<td>
<p><kbd>c</kbd></p>
</td>
<td>
<p>for the lines part, alone of <kbd>b</kbd></p>
</td>
</tr>
<tr>
<td>
<p><kbd>o</kbd></p>
</td>
<td>
<p>for both <strong>o</strong>verplotted</p>
</td>
</tr>
<tr>
<td>
<p><kbd>h</kbd></p>
</td>
<td>
<p>for <strong>h</strong>istogram-like (or high-density) vertical lines</p>
</td>
</tr>
<tr>
<td>
<p><kbd>s</kbd></p>
</td>
<td>
<p>for stair <strong>s</strong>teps</p>
</td>
</tr>
<tr>
<td>
<p><kbd>S</kbd></p>
</td>
<td>
<p>for other <strong>s</strong>teps <em>(see the following details)</em></p>
</td>
</tr>
<tr>
<td>
<p><kbd>n</kbd></p>
</td>
<td>
<p>for no plotting</p>
</td>
</tr>
</tbody>
</table>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Table 4.1 Possible values for type in the R function plot()</div>
<p>For Python, we have the following simple example for a future value, given the present value and interest rate:</p>
<pre>import numpy as np 
import matplotlib.pyplot as plt  
n=np.linspace(0,10,10) 
pv=100 
R=0.1 
fv=pv*(1+R)**n 
plt.plot(n,fv) 
plt.show() </pre>
<p>The formula used is given here, where <em>FV</em> is the future value, <em>PV</em> is the present value, <em>R</em> is the interest rate, and <em>n</em> is the number of periods:</p>
<div class="mce-root CDPAlignCenter CDPAlign"><img class="fm-editor-equation" src="Images/ceeb3ffd-961a-4a27-824f-8eb2820b1dd8.png" style="width:12.67em;height:1.83em;" width="1520" height="220"/></div>
<p>The associated line is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-697 image-border" src="Images/4e1d9758-e80b-45a5-886a-4f02774a7f52.png" style="width:29.50em;height:19.25em;" width="384" height="250"/></div>
<p>For Julia, one simple example is drawing the sine function. The input variable for the sine function varies from <em>0</em> to <em>2π</em>:</p>
<pre>using PyPlot 
x = linspace(0,2*pi,1000) 
y = sin.(x) 
plot(x, y, color="green", linewidth=2.0) </pre>
<p>The corresponding graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-698 image-border" src="Images/592cf355-bb04-4b68-9606-0a7bf0252b57.png" style="width:33.00em;height:23.58em;" width="570" height="407"/></div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Various bar charts, pie charts, and histograms</h1>
                </header>
            
            <article>
                
<p>For the next R program, we show a pie chart based on the percentage of each input value:</p>
<pre>results &lt;- c(10,8,7,4,6) 
names&lt;-c("1st","2nd","3rd","4th","5th") 
pct&lt;-round(results/sum(results)*100) 
pct2&lt;-rev(sort(pct)) 
name&lt;-"Pie Chart of results" 
colors&lt;-seq(0.4, 1.0, length = length(results)) 
pie(results, labels = names, col = gray(colors),main=name) </pre>
<p>The related graph is shown here:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-889 image-border" src="Images/99d92293-71d7-4e46-9215-3e75a86ae43b.png" style="width:16.33em;height:18.00em;" width="292" height="322"/></div>
<p>The next Python program shows the histogram for a standard normal distribution:</p>
<pre>import numpy as np 
import matplotlib.pyplot as plt 
data = np.random.RandomState(10)  
n=5000 
n2=1000 
x=data.normal(size=n) 
y=data.normal(loc=5, scale=2,size=n2) 
a=(x,y) 
b = np.hstack(a) 
plt.hist(b, bins='auto')  
plt.title("Histogram with 'auto bins'") 
plt.show() </pre>
<p>The associated graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-699 image-border" src="Images/a80873cc-b5fd-45ed-a7a2-39bb4df50a22.png" style="width:33.67em;height:26.17em;" width="545" height="423"/></div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Adding a trend</h1>
                </header>
            
            <article>
                
<p>In the following R program, we first generate a set of <kbd>x </kbd> and <kbd>y</kbd>  values. Then, we estimate the intercept and slope by running a linear regression. After that, we plot <kbd>(x,y)</kbd> values with a trend line, based on the result of our linear regression:</p>
<pre>x=seq(-4,4,by=0.05) 
n&lt;-length(x) 
y=2+3*x + rnorm(n) 
k&lt;-coef(lm(y~x)) 
intercept&lt;-k[1] 
slope&lt;-k[2] 
y2&lt;-intercept+slope*x <br/>#
plot(x,y,type="p",col="red") 
lines(x,y2,col="green") </pre>
<p>The graph associated with the previous program is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-700 image-border" src="Images/8990a877-dc3c-4cca-a570-37069c99d6ae.png" style="width:25.08em;height:26.08em;" width="451" height="469"/></div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Adding legends and other explanations</h1>
                </header>
            
            <article>
                
<p>In the following Julia function, we add the legend <em>y=sin(x)</em> to the output graph:</p>
<pre>using PyPlot 
x = linspace(0, 10, 100) 
y = sin.(x) 
name=L"$y = sin(x)$"  
fig, ax = subplots() 
ax[:plot](x, y, "b-", linewidth=2, label=name,alpha=0.6) 
ax[:legend](loc="upper center") </pre>
<p>The associated graph is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-701 image-border" src="Images/1fb3b647-d4b1-4f88-af66-6dbeedfefbea.png" style="width:31.50em;height:23.08em;" width="608" height="445"/></div>
<p>In the R program, we add the following formula to the graph (the formula for the normal distribution):</p>
<div class="CDPAlignCenter CDPAlign"><img class="fm-editor-equation" src="Images/2123fb8a-cbd9-4988-83ab-a2325beda1e3.png" style="width:14.42em;height:3.08em;" width="2110" height="450"/> </div>
<p>The R code is given here:</p>
<pre>set.seed(12345)  
mu=4 
std=2 
nRandom=2000 
x &lt;- rnorm(mean =mu, sd =std, n =nRandom) 
name&lt;- "Normal Probability Density Function" 
curve(dnorm, from = -3, to = 3, n = 1000, main = name) 
formula&lt;-expression(f(x) ==paste(frac(1, sqrt(2 * pi * sigma^2))," ",e^{frac(-(x - mu)^2, 2 * sigma^2)})) 
text(2, 0.3, formula, cex = 1.3) </pre>
<p>Note that the command of <kbd>frac(1,2)</kbd> would generate <img class="fm-editor-equation" src="Images/ca923c71-001c-4ee7-abbc-a839a07fcb10.png" style="width:1.33em;height:3.33em;" width="160" height="400"/>. When included in the expression function, sigma would generate <em>σ</em> and <kbd>mu</kbd> would generate <em>μ</em>. In a sense, they are reserved words when included in the expression function. The related graph is given here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-702 image-border" src="Images/5bd92a6b-606e-47b3-b1b5-3f0dfe1e8663.png" style="width:26.67em;height:26.17em;" width="636" height="625"/></div>
<p>The next Python program generates the image for the famous <strong>Black-Scholes</strong> formula:</p>
<pre>import matplotlib<br/>import numpy as np<br/>import matplotlib.mathtext as mathtext<br/>import matplotlib.pyplot as plt<br/>matplotlib.rc('image', origin='upper')<br/>parser = mathtext.MathTextParser("Bitmap")<br/>#parser = mathtext.MathTextParser("Black")<br/>#<br/>x1=r'$d_2=\frac{ln(S_0/K)+(r-\sigma^2/2)T}{\sigma\sqrt{T}}=d_1-\sigma\sqrt{T}$'<br/>x2=r'$d_1=\frac{ln(S_0/K)+(r+\sigma^2/2)T}{\sigma\sqrt{T}}$'<br/>x3=r' $c=S_0N(d_1)- Ke^{-rT}N(d_2)$'<br/>rgba1, depth1 = parser.to_rgba(x1, color='blue',fontsize=12, dpi=200)<br/>rgba2, depth2 = parser.to_rgba(x2, color='blue', fontsize=12, dpi=200)<br/>rgba3, depth3 = parser.to_rgba(x3, color='red',fontsize=14, dpi=200)<br/>fig = plt.figure()</pre>
<pre>fig.figimage(rgba1.astype(float)/255., 100, 100)<br/>fig.figimage(rgba2.astype(float)/255., 100, 200)<br/>fig.figimage(rgba3.astype(float)/255., 100, 300)<br/>plt.show()</pre>
<p>The associated image is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-703 image-border" src="Images/1f0e5577-3d73-4ace-b0d8-38ab634bcf86.png" style="width:20.75em;height:10.58em;" width="499" height="255"/></div>
<p>In the preceding program, the backslash of <kbd>\</kbd> is used many times. For example, <kbd>\frac{}{}</kbd> indicates that this is a ratio, as shown in the following table:</p>
<table style="border-collapse: collapse;width: 100%" class="MsoTableGrid" border="1">
<tbody>
<tr>
<td>
<p><strong>Symbol</strong></p>
</td>
<td>
<p><strong>Meanings (example)</strong></p>
</td>
</tr>
<tr>
<td>
<p><kbd>\frac{a}{b}</kbd></p>
</td>
<td>
<p><img class="fm-editor-equation" src="Images/338c28e8-ebfa-42c8-8248-81663fe2e6d8.png" style="width:0.92em;height:2.00em;" width="170" height="370"/></p>
</td>
</tr>
<tr>
<td>
<p><kbd>\sigma</kbd></p>
</td>
<td>
<p>σ</p>
</td>
</tr>
<tr>
<td>
<p><kbd>\sqrt{T}</kbd></p>
</td>
<td>
<p><img class="fm-editor-equation" src="Images/b92f81c4-3541-46fd-8c36-00341cd504bf.png" style="width:1.33em;height:1.00em;" width="290" height="220"/></p>
</td>
</tr>
<tr>
<td>
<p><kbd>a_1</kbd></p>
</td>
<td>
<p>a1</p>
</td>
</tr>
<tr>
<td>
<p><kbd>s_0</kbd></p>
</td>
<td>
<p>s0</p>
</td>
</tr>
</tbody>
</table>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Table 4.2 Meanings of a few notations</div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Visualization packages for R</h1>
                </header>
            
            <article>
                
<p>To find out about some packages written in R, you can go to the home page for the R software at <a href="http://r-project.org"><span class="URLPACKT">http://r-project.org</span></a> and click <span class="packt_screen">CRAN</span> on the left-hand side. Then, you can choose a mirror location (close to you). After clicking <span class="packt_screen">Packages </span>on the left-hand side, you will find two lists. One is sorted by date while the second one is sorted alphabetically. To search for useful packages, we can use both lists.</p>
<p>There are many R packages associated with data visualization (see the partial list that follows):</p>
<table style="border-collapse: collapse;width: 100%" class="MsoTableGrid" border="1">
<tbody>
<tr>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>Name of R package</strong></div>
</td>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>Description</strong></div>
</td>
</tr>
<tr>
<td>
<p><kbd>showtext</kbd></p>
</td>
<td>
<p>Use fonts more easily in R graphs</p>
</td>
</tr>
<tr>
<td>
<p><kbd>shinyaframe</kbd></p>
</td>
<td>
<p>WebVR Data Visualizations with RStudio Shiny and Mozilla A-Frame</p>
</td>
</tr>
<tr>
<td>
<p><kbd>moveVis</kbd></p>
</td>
<td>
<p>Movement Data Visualization</p>
</td>
</tr>
<tr>
<td>
<p><kbd>sjPlot</kbd></p>
</td>
<td>
<p>Data Visualization for Statistics in Social Science</p>
</td>
</tr>
<tr>
<td>
<p><kbd>qgraph</kbd></p>
</td>
<td>
<p>Graph Plotting methods, Psychometric Data Visualization, and Graphical Model Estimation</p>
</td>
</tr>
<tr>
<td>
<p><kbd>statquotes</kbd></p>
</td>
<td>
<p>Quotes on Statistics, Data Visualization, and Science</p>
</td>
</tr>
<tr>
<td>
<p><kbd>HistData</kbd></p>
</td>
<td>
<p>Datasets from the History of Statistics and Data Visualization</p>
</td>
</tr>
<tr>
<td>
<p><kbd>loon</kbd></p>
</td>
<td>
<p>Interactive Statistical Data Visualization</p>
</td>
</tr>
<tr>
<td>
<p><kbd>Bdvis</kbd></p>
</td>
<td>
<p>Biodiversity Data Visualizations</p>
</td>
</tr>
<tr>
<td>
<p><kbd>Visdat</kbd></p>
</td>
<td>
<p>Preliminary Data Visualization</p>
</td>
</tr>
<tr>
<td>
<p><kbd>Ggfortify</kbd></p>
</td>
<td>
<p>Data Visualization Tools for Statistical Analysis Results</p>
</td>
</tr>
<tr>
<td>
<p><kbd>ggplot2</kbd></p>
</td>
<td>
<p>Create Elegant Data Visualizations Using the Grammar of Graphics</p>
</td>
</tr>
<tr>
<td>
<p><kbd>RcmdrPlugin.KMggplot2</kbd></p>
</td>
<td>
<p>R Commander Plugin for Data Visualization with ggplot2</p>
</td>
</tr>
<tr>
<td>
<p><kbd>hierarchicalSets</kbd></p>
</td>
<td>
<p>Set Data Visualization Using Hierarchies</p>
</td>
</tr>
<tr>
<td>
<p><kbd>Dashboard</kbd></p>
</td>
<td>
<p>Interactive Data Visualization with D3.js</p>
</td>
</tr>
<tr>
<td>
<p><kbd>Mapplots</kbd></p>
</td>
<td>
<p>Data Visualization on Maps</p>
</td>
</tr>
<tr>
<td>
<p><kbd>Zoom</kbd></p>
</td>
<td>
<p>A spatial data visualization tool</p>
</td>
</tr>
</tbody>
</table>
<div class="packt_figure CDPAlignCenter CDPAlign packt_figref">Table 4.3 A partial list of R packages</div>
<p>Here, we use <kbd>ggplot2</kbd> as an example to show you how to get information about this specific package. Note that when uploading an R package, if we want to eliminate package startup messages, we could use <kbd>suppressPackageStartupMessages()</kbd>. To get more information about this package, we could issue the following two lines:</p>
<pre>&gt; library(ggplot2) 
&gt; help(package=ggplot2) </pre>
<p>The first R command line would upload the package while the second one would go to a specific website related to this package (see the first part in the following screenshot):</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-704 image-border" src="Images/cd09ff83-85ee-4f32-ae58-c16feb9e5e2f.png" style="width:39.92em;height:17.50em;" width="1062" height="466"/></div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Visualization packages for Python</h1>
                </header>
            
            <article>
                
<p>The most widely used Python package is <kbd>matplotlib</kbd>. To find all its functions, we could issue the following three lines:</p>
<pre>import matplotlib as mat 
x=dir(mat) 
print(x) </pre>
<p>The output is shown here:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-705 image-border" src="Images/9f785014-e767-4d01-8989-fceeffa6a09c.png" style="width:73.17em;height:28.17em;" width="878" height="338"/></div>
<p>To find out about all Python packages associated with data visualization, we can go to <a href="https://pypi.python.org"><span class="URLPACKT">https://pypi.python.org</span></a>. The following table shows the first several packages when we search <kbd>data visualization</kbd>, where <em>W</em> is the weight (in terms of popularity):</p>
<table style="border-collapse: collapse;width: 100%" class="MsoTableGrid" border="1">
<tbody>
<tr>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>Package</strong></div>
</td>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>W</strong></div>
</td>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>Description</strong></div>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/PyQtDataVisualization/5.9.2">PyQtDataVisualization 5.9.2</a></p>
</td>
<td>
<p>11</p>
</td>
<td>
<p>Python bindings for the Qt Data Visualization library</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/data-utilities/1.2.8">data-utilities 1.2.8</a></p>
</td>
<td>
<p>10</p>
</td>
<td>
<p>A data analysis and visualization helper module</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/DataEnvironment/0.0.0">DataEnvironment 0.0.0</a></p>
</td>
<td>
<p>10</p>
</td>
<td>
<p>Data environment is for data analysis, visualization, and management</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/dataswim/0.4.10">dataswim 0.4.10</a></p>
</td>
<td>
<p>10</p>
</td>
<td>
<p>Utilities to swim in a data lake</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/datashader/0.4">datashader 0.4</a></p>
</td>
<td>
<p>9</p>
</td>
<td>
<p>Data visualization tool chain based on aggregating data into a grid</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/scikit-data/0.1.3">scikit-data 0.1.3</a></p>
</td>
<td>
<p>9</p>
</td>
<td>
<p>The purpose of this library is to allow the data analysis process to be more easy and automatic</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/DataSpyre/0.2.7">DataSpyre 0.2.7</a></p>
</td>
<td>
<p>8</p>
</td>
<td>
<p>Spyre makes it easy to build interactive web applications and requires no knowledge of HTML, CSS, or JavaScript</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/Khooshe/0.2">Khooshe 0.2</a></p>
</td>
<td>
<p>8</p>
</td>
<td>
<p>Big GeoSptial Data Points Visualization Tool</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/lolviz/1.3.1">lolviz 1.3.1</a></p>
</td>
<td>
<p>8</p>
</td>
<td>
<p>A simple Python data structure visualization tool for lists of lists, lists, and dictionaries</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/bitjet/0.2.1">bitjet 0.2.1</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Binary visualization using IPython widgets</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/ckanext-wirecloud_view/1.0.0">ckanext-wirecloud_view 1.0.0</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Provides visualization dashboards on CKAN using WireCloud</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/Data-viz/0.13">Data-viz 0.13</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Represents your high-dimensional data in a 2D space and plays with it</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/datapusher/0.0.12">datapusher 0.0.12</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>A standalone web service that parses the contents of a CKAN site's data files and pushes them into its DataStore</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/datatank_py/0.71">datatank_py 0.71</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Module for reading and writing DataTank files</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/gmane/0.1.dev25">gmane 0.1.dev25</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Utilities for the analysis of the GMANE email list database</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/gviz_data_table/1.0.2">gviz_data_table 1.0.2</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Python API for Google visualization</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/lightning-python/1.2.1">lightning-python 1.2.1</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>A Python client library for the Lightning data visualization server</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/Orange3-Network/1.3.0">Orange3-Network 1.3.0</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Network add-on for the Orange 3 data mining software package</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/phovea_data_hdf/0.1.0">phovea_data_hdf 0.1.0</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Data provider plugin for loading data stored in hierarchical data format (HDF)</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/phovea_data_mongo/0.1.0">phovea_data_mongo 0.1.0</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Data provider plugin for loading graph data stored in a MongoDB</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/phovea_data_redis/0.1.0">phovea_data_redis 0.1.0</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Data provider plugin for loading data stored in a Redis in-memory database</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/phovea_data_sql/0.1.0">phovea_data_sql 0.1.0</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Data provider plugin for loading tabular data stored in an SQLite database</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/psyplot/1.0.0.post1">psyplot 1.0.0.post1</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Python package for interactive data visualization</p>
</td>
</tr>
<tr>
<td>
<p><a href="https://pypi.python.org/pypi/scikit-dataaccess/1.9.9">scikit-dataaccess 1.9.9</a></p>
</td>
<td>
<p>7</p>
</td>
<td>
<p>Scikit Data Access Package for accessing scientific datasets</p>
</td>
</tr>
</tbody>
</table>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Table 4.4 A partial list of Python packages associated with data visualization</div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Visualization packages for Julia</h1>
                </header>
            
            <article>
                
<p>Similarly, we can go to <a href="https://pkg.julialang.org"><span class="URLPACKT">https://pkg.julialang.org</span></a> to find out about all the packages written in Julia for data visualization:</p>
<table style="border-collapse: collapse;width: 100%" class="MsoTableGrid" border="1">
<tbody>
<tr>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>Package</strong></div>
</td>
<td>
<div class="CDPAlignCenter CDPAlign"><strong>Description</strong></div>
</td>
</tr>
<tr>
<td>
<p><kbd>ExperimentalAnalysis</kbd></p>
</td>
<td>
<p>A package for creating scatter matrix plots and visualizing linear models and DataFrames</p>
</td>
</tr>
<tr>
<td>
<p><kbd>GLBooks</kbd></p>
</td>
<td>
<p>GLVisualize used as a notebook</p>
</td>
</tr>
<tr>
<td>
<p><kbd>GLVisualize</kbd></p>
</td>
<td>
<p>Visualization library written in Julia and OpenGL</p>
</td>
</tr>
<tr>
<td>
<p><kbd>GR</kbd></p>
</td>
<td>
<p>Plotting for Julia based on GR, a framework for visualization applications</p>
</td>
</tr>
<tr>
<td>
<p><kbd>GraphPlot</kbd></p>
</td>
<td>
<p>Graph visualization for Julia</p>
</td>
</tr>
<tr>
<td>
<p><kbd>NetworkViz</kbd></p>
</td>
<td>
<p>Julia interface to visualize graphs</p>
</td>
</tr>
<tr>
<td>
<p><kbd>Plots</kbd></p>
</td>
<td>
<p>Powerful convenience for Julia visualizations and data analysis</p>
</td>
</tr>
<tr>
<td>
<p><kbd>ProfileView</kbd></p>
</td>
<td>
<p>Visualization of Julia profiling data</p>
</td>
</tr>
<tr>
<td>
<p><kbd>D3Trees</kbd></p>
</td>
<td>
<p>Flexible interactive visualization for large trees in Julia using D3.js</p>
</td>
</tr>
</tbody>
</table>
<div class="packt_figure packt_figref CDPAlignCenter CDPAlign">Table 4.5 A partial list of packages written in Julia for data visualization</div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Dynamic visualization</h1>
                </header>
            
            <article>
                
<p>Dynamic visualization means that we can see the concept or theory vividly, just like a video or movie. For example, in the Monte Carlo simulation, we could generate a set of random numbers from certain distributions, such as a uniform or a normal distribution. If we could show how particles moved within a range, learners would understand the concept of randomness better. This is like dropping red ink into a basin of water and observing how the ink diffuses. Another example is related to the so-called bisection method or bisection search. Assume that we have a database that contains daily trading data for over 5,000 stocks. There are many ways to retrieve one specific stock's information. One is called sequential search. In a sequential search, we pick up the first stock and compare it with our target. If it doesn't match, we go to the next stock. Since it uses too much computational power, it is not efficient. The bisection method is much more efficient.</p>
<p>In this section, we illustrate several examples based on the R package called <kbd>animation</kbd>. The first example is to dynamically show the random movement called <kbd>Brownian motion</kbd>, shown in this code:</p>
<pre>library(animation) 
ani.options(interval = 0.05, nmax = 30) 
a&lt;- c(3,3,2,0.5) 
b&lt;-c(2,0.5,0) 
name&lt;-"Brownian Motion" 
par(mar=a,mgp=b,tcl=-0.3,cex.axis=0.8,cex.lab=0.8,cex.main=1) 
brownian.motion(pch=21,cex=5,col="red",bg="yellow",main=name) </pre>
<p>One static picture is shown here. Again, the preceding code would show the Brownian moving dynamically ( just like watching a short movie):</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-706 image-border" src="Images/001ab4c0-0e78-4bd1-87e2-61865653602a.png" style="width:32.08em;height:31.67em;" width="647" height="638"/></div>
<p>The next R program shows the logic behind the <kbd>Bisection method</kbd> dynamically:</p>
<pre>library(animation) 
par(mar = c(4, 4, 1, 2)) 
myFunction&lt;-function(x) x^2 - 4 
title&lt;-"Bisection method" 
bisection.method(FUN=myFunction,main =title) </pre>
<p>Since this is a dynamic picture, we can just show you a diagram. Note that we use <em>Ctrl + Shift + PrintScrn</em> to capture it:</p>
<div class="packt_figure CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-707 image-border" src="Images/3dee7adf-c975-4ddd-9c20-9f4afbfac89d.png" style="width:30.17em;height:29.58em;" width="591" height="579"/></div>
<p>We know that if we toss a coin, we could end up with either a head or a tail. The following R program shows the process:</p>
<pre>library(animation) 
myProb&lt;-c(0.5,0.5) 
ani.options(interval=0.2,nmax = ifelse(interactive(), 100, 2)) 
flip.coin(bg = "grey",col=c("black","grey")) </pre>
<p>A diagram is shown here:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-890 image-border" src="Images/16387b33-f09f-4704-bd30-845d37c9ef7b.png" style="width:25.83em;height:24.00em;" width="538" height="501"/></div>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Saving pictures as pdf</h1>
                </header>
            
            <article>
                
<p>There are several ways to generate a picture. We can summarize them into the following four methods:</p>
<ul>
<li>Method #1: Using the Snipping Tool</li>
<li>Method #2: Saving the picture by clicking it</li>
<li>Method #3: Using <em>Ctrl + Shift + PrintScrn</em> and the Paint software</li>
<li>Method #4: Using our programs</li>
</ul>
<p>The easiest way to save our picture is to use the Snipping Tool. After a picture is generated, launch the Snipping Tool and choose an appropriate area to save. The following example shows the simplest output to a PDF file in R. Let's use the previous example code of drawing a cosine function from <em>-2π</em> to <em>2π</em>, shown here:</p>
<pre>pdf("c:/temp/myGraph.pdf") 
plot(cos,-2*pi,2*pi) 
dev.off() </pre>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Saving dynamic visualization as HTML file</h1>
                </header>
            
            <article>
                
<p>In the previous section, it was shown that we could use the R package called <kbd>animation</kbd> to generate dynamic pictures, such as a YouTube video. Actually, we could generate HTML for our students or audience to watch, shown here:</p>
<pre>library(animation) 
a&lt;- c(3, 3, 1, 0.5) 
b&lt;- c(2, 0.5, 0) 
part1&lt;-"Random walk on the 2D plane: for each point" 
part2&lt;-"(x, y), x = x + rnorm(1) and y = y + rnorm(1)." 
des&lt;-c(part1,part2) 
titleName&lt;-"Demonstration of Brownian Motion" 
# 
saveHTML({ par(mar =a, mgp =b, tcl = -0.3,cex.axis = 0.8, cex.lab = 0.8, cex.main = 1) 
  ani.options(interval = 0.05, nmax = ifelse(interactive(),150, 10)) 
  brownian.motion(pch = 21, cex = 5, col = "red", bg = "yellow") 
  },description =des,title = titleName) </pre>
<p><span class="MsoHyperlink">The following code is to save the dynamic motion for the bisection method:</span></p>
<pre>library(animation) 
a&lt;- c(4, 4, 1, 2) 
part1&lt;-"The bisection method is a root-finding algorithm" 
part2&lt;-"which works by repeatedly dividing an interval in half and then" 
part3&lt;-"selecting the subinterval in which a root exists." 
des&lt;-c(part1,part2,part3) 
titleName&lt;-"The Bisection Method for Root-finding on an Interval" 
# 
saveHTML({ par(mar = a) 
    bisection.method(main = "") 
    },img.name = "bisection.method",htmlfile = "bisection.method.html",  
    ani.height = 400, ani.width = 600, interval = 1,  
    title = titleName, description =des) </pre>
<p><span class="MsoHyperlink">The website</span> <a href="http://canisius.edu/~yany/visual/bisection.shtml"><span class="URLPACKT">http://canisius.edu/~yany/visual/bisection.shtml</span></a> <span class="MsoHyperlink">is related to the preceding program,</span> which generated a moving image<span class="MsoHyperlink">.</span></p>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p style="font-weight: 400">In this chapter, we have discussed various types of visual presentation, which included simple graphs, bar charts, pie charts, and histograms written in different languages such as R, Python, and Julia. Visual presentations can help our audience understand our data better. For many complex concepts or theories, we can use visual presentations to help explain their logic and complexity. A typical example is the so-called bisection method or bisection search.</p>
<p style="font-weight: 400">In the next chapter, we will explain many important issues related to statistics, such as the T-distribution, F-distribution, T-test, F-test, and other hypothesis tests. We will also discuss how to run a linear regression, how to deal with missing data, how to treat outliers, how to detect collinearity and its treatments, and how to run a multi-variable linear regression.</p>


            </article>

            
        </section>
    </div>
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Review questions and exercises</h1>
                </header>
            
            <article>
                
<ol>
<li>Why should we care about data visualization?</li>
<li>Where can we find lists of R, Python, and Julia packages associated with data visualization?</li>
<li>Draw a graph using R and Python for the following formula:</li>
</ol>
<div class="mce-root CDPAlignCenter CDPAlign"> <img class="fm-editor-equation" src="Images/e1d58bfd-8f91-42fd-bc0b-50a71a2d722e.png" style="width:6.92em;height:1.33em;" width="1190" height="230"/></div>
<ol start="4">
<li>Based on R programming, put the following two graphs together: 
<div class="CDPAlignCenter CDPAlign"><img class="fm-editor-equation" src="Images/b9274665-7333-4d15-b8f3-c92f12cc23a3.png" style="width:8.92em;height:3.00em;" width="1450" height="490"/></div>
</li>
<li>Download the R dataset related to the Fama-French monthly factor time series at <a href="http://canisius.edu/~yany/RData/ff3monthly.RData"><span class="URLPACKT">http://canisius.edu/~yany/RData/ff3monthly.RData</span></a>. Then, draw the histograms for these three factors: Market, SMB, and HML.</li>
<li>Write an R program to generate 1,000 random numbers from a uniform distribution. Then, estimate their mean and standard deviation. Finally, draw a histogram. Note that the R function for drawing <em>n</em> random numbers from a uniform distribution is <kbd>runif(n)</kbd>.</li>
<li>Repeat the previous exercise using Python and Julia.</li>
</ol>
<p> </p>
<ol start="8">
<li>Use Python to draw both the sine and cosine functions together.</li>
<li>From a beta distribution, generate 1,000 random numbers, estimate their mean and standard deviation, and draw a histogram. Note that the related R function is <kbd>rbeta(n)</kbd>.</li>
<li>From Yahoo!Finance ( <a href="http://finance.yahoo.com"><span class="URLPACKT">http://finance.yahoo.com</span></a>), download the latest 5 years of monthly data for Walmart, with a ticker symbol of WMT. Generate a histogram from the monthly returns.</li>
<li>Find more information about the <kbd>HistData</kbd> R package. Show a few typical examples by using embedded functions.</li>
<li>Find all the embedded functions of the <kbd>dataswim</kbd> Python package. Show a few examples from the package.</li>
<li>Do the same things as in the previous two exercises for the <kbd>GraphPlot</kbd> Julia module.</li>
<li>Write an R program to show the following formula for the present value of annuity, where <em>PV(annuity)</em> is the present value of annuity, <em>R</em> is the period rate, and <em>n</em> is the number of periods:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="fm-editor-equation" src="Images/1e8b1719-2997-4e23-af33-8648063ac944.png" style="width:16.83em;height:2.83em;" width="2730" height="460"/></div>
<ol start="15">
<li>Write a Python program to print the following formula, where <em>FV(growing annuity)</em> is the future value of a growing annuity, <em>R</em> is the period rate, <em>n</em> is the number of periods, and <em>g</em> is the growth rate per period:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img class="fm-editor-equation" src="Images/d5a0482f-9a71-4a24-9749-3a84e581960b.png" style="width:26.00em;height:2.75em;" width="4250" height="450"/></div>
<ol start="16">
<li>For the famous Black-Scholes call option model, we have the following formula, where s is the underlying security price today, x is the exercise price, <em>T</em> is maturity day (in years), r is a continuously compounded risk-free rate, and sigma is the volatility:</li>
</ol>
<pre style="padding-left: 90px">bsCall_&lt;-function(s,x,T,r,sigma){ 
   d1 = (log(s/x)+(r+sigma*sigma/2.)*T)/(sigma*sqrt(T)) 
   d2 = d1-sigma*sqrt(T) 
   call&lt;-s*pnorm(d1)-x*exp(-r*T)*pnorm(d2) 
   return(call) 
} 
 </pre>
<p style="padding-left: 60px">For example, in the following set of values, the call option is 2.28, from <kbd>bsCall(40,42,0.5,0.1,0.2)</kbd>. Answer the following two questions:</p>
<ul>
<li>Graphically show that the call option price is an increasing function of volatility</li>
<li>Dynamically show how to use the Bisection method to find the implied volatility</li>
</ul>
<p style="padding-left: 60px">Note that the implied volatility is the volatility implied by the price of a call with the same set of input values, except the last one of sigma. For example, for <em>s=40, x=42, T=0.5, r=0.1,</em> and <em>c=3</em>, where c is the market call value we observed, what is the implied volatility?</p>
<ol start="17">
<li>Download the IBM, WMT, and MSFT historical monthly stock data from Yahoo!Finance at <a href="http://finance.yahoo.com"><span class="URLPACKT">http://finance.yahoo.com</span></a>. Estimate their correlation and show how strongly or weakly they are interconnected.</li>
<li>Find a way to save the following R program as HTML:</li>
</ol>
<pre style="padding-left: 90px">library(animation) 
myProb&lt;-c(0.45,0.1, 0.45) 
ani.options(interval=0.2,nmax = ifelse(interactive(), 100, 2)) 
flip.coin(bg = "yellow") </pre>
<ol start="19">
<li>Find out how to save a JPG file in the R package called <kbd>animation</kbd>.</li>
<li>Find out how to run a stock price simulation in the R package called <kbd>animation</kbd>.</li>
</ol>
<p> </p>


            </article>

            
        </section>
    </div></body></html>