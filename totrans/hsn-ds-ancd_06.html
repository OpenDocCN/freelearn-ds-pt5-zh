<html><head></head><body><div><h1 class="header-title">Managing Packages</h1>
                
            
            
                
<p>In the preface, we mentioned that this book is for readers who are looking for tools in the area of data science. For the researchers or practitioners working in the area of data science, there are several important issues. First, they need to understand their raw data, such as its purpose, structure, how reliable and complex it is, and how it is collected. Second, researchers and practitioners should have a good method of processing that data. In other words, they should master at least one computer language, such as R, Python, or Julia. After learning a language's basics, they should turn to some related packages, since understanding these packages might determine how far they can go in the area of data science. In this chapter, the following topics will be covered:</p>
<ul>
<li>Introduction to packages, modules, or toolboxes</li>
<li>Two examples of using packages</li>
<li>Finding all packages in R, Python, Julia, and Octave</li>
<li>Task views for R</li>
<li>Finding manuals</li>
<li>Package dependencies</li>
<li>Package management in R, Python, Julia, and Octave</li>
<li>Conda-the package manager</li>
<li>Creating a set of programs in R and Python</li>
<li>Finding environmental variables</li>
</ul>


            

            
        
    </div>
<div><h1 class="header-title">Introduction to packages, modules, or toolboxes</h1>
                
            
            
                
<p>Over the years, researchers or users have generated many packages around different specific tasks for various programming languages. For this book, we treat <em>module</em> or <em>toolbox</em> as a synonym for <em>package.</em> For the analyses in the area of data science, it is very important to use various packages to achieve our goals. There are several advantages in using various packages. First, we don't have to write our code from scratch if we can find some relevant programs contained in certain packages. This would save us a huge amount of time. In other words, we don't have to reinvent the wheel, and this is especially true for developers. Second, packages are usually developed by people who have certain expertise in relevant areas. Because of this, the quality of a package is usually higher than the programs written by a, relatively speaking, new user. Third, for beginners, the knowledge of packaging and related skill sets would help them speed up their learning process.</p>


            

            
        
    </div>
<div><h1 class="header-title">Two examples of using packages</h1>
                
            
            
                
<p>It is always a good idea to use examples to illustrate how useful or important it is to understand some closely related packages. The first example is extremely simple: generate a QR code for the CNN website. It has just two lines. Note that you need to run <kbd>install.packages("qrcode")</kbd> if the package is not preinstalled:</p>
<pre>&gt; library(qrcode) 
&gt; qrcode_gen("https://www.cnn.com") </pre>
<p>The generated QR code is shown here. Users can use the QR scanner installed on their cell phone to go to the CNN website:</p>
<div><img class="alignnone size-full wp-image-721 image-border" src="img/6470e0a7-a4c1-491a-a6d9-5e429c3d185a.png" style="width:12.25em;height:12.25em;" width="270" height="269"/></div>
<p>For the second example, we believe the best example for the researchers and users in the area of data science is an R package called <kbd>rattle</kbd>. If a user hasn't preinstalled the package, they can type the following line of R code:</p>
<pre>&gt;install.packages("rattle")</pre>
<p>To launch the package, type the following two lines of R code:</p>
<pre>&gt;library(rattle)<strong><br/>Rattle: A free graphical interface for data science with R</strong><br/><strong>Version 5.1.0 Copyright (c) 2006-2017 Togaware Pty Ltd</strong><br/><strong>Type rattle() to shake, rattle, and roll your data</strong><br/>&gt;rattle()<strong> </strong></pre>
<p>Once the application is opened follow these steps: </p>
<ol>
<li>After you hit the <em>Enter</em> key, the screen displays the following:</li>
</ol>
<div><img class="alignnone size-full wp-image-722 image-border" src="img/857a8a46-2c84-4be7-a3b8-10ce066a4704.png" style="width:60.42em;height:33.00em;" width="725" height="396"/></div>
<p style="padding-left: 60px">This is a powerful package for users in the area of data science. If we take the Project, Tools, Settings, and Help tabs as the first row, then the default location after we launch the package is on the Data tab (see the third row). Under Data, we can see that there are eight ways to retrieve data. Assume that we choose R Dataset. The advantage of this choice is that we can generate our own dataset with a data frame format. The following line of R code will retrieve the historical data for IBM. Users can also go to Yahoo! finance at <a href="https://finance.yahoo.com">https://finance.yahoo.com</a> to download a more updated dataset:</p>
<pre style="padding-left: 90px">&gt; x&lt;-read.csv("http://canisius.edu/~yany/data/ibmDaily.csv") </pre>
<ol start="2">
<li>After clicking R Dataset, followed by the down arrow key to the right of Data Name, we will see x. Select it and click Execute – we will see the following result:</li>
</ol>
<div><img class="alignnone size-full wp-image-723 image-border" src="img/ce9c6f64-5dc9-4643-b592-1a728e9f1a6b.png" style="width:39.75em;height:28.08em;" width="644" height="455"/></div>
<ol start="3">
<li>After clicking Explore, we can see several options on how to look at this specific dataset. For the Summary of the dataset, we have the following result:</li>
</ol>
<div><img class="alignnone size-full wp-image-724 image-border" src="img/e59e39db-5cc7-40d0-aeb7-d06066a85087.png" style="width:52.42em;height:33.92em;" width="997" height="645"/></div>
<p style="padding-left: 60px">The following is our third example. Click Data | Library, and then choose the Titanic dataset, as shown:</p>
<div><img src="img/3efdb22a-3214-4ca9-905c-f8def0c8f33d.png" style="width:43.67em;height:13.33em;" width="803" height="246"/></div>
<ol start="4">
<li>After clicking Execute, the screen will display the following:</li>
</ol>
<div><img src="img/ebc4cade-0842-4425-816c-7cde82712aef.png" style="width:37.50em;height:8.25em;" width="783" height="172"/></div>
<p style="padding-left: 60px">Now, let's try to use a decision tree to find out the impacts of <strong>Sepal.Length</strong>, <strong>Sepal.width</strong>, <strong>Petal.Length</strong>, and <strong>Petal.width</strong> on the classification of <strong>Species</strong>.</p>
<ol start="5">
<li>Choose <strong>Species </strong>as our target variable as shown in the previous screenshot.</li>
<li>Click Model | Tree | Execute. From that, we will get the following result. To make our presentation better, the final output is divided into two parts. The top part is shown here:</li>
</ol>
<div><img src="img/7af1b79e-b470-4265-a399-1c07b93b7852.png" style="width:40.83em;height:9.42em;" width="884" height="204"/></div>
<ol start="7">
<li>The second part is shown next. On the right-hand side of the previous screenshot, we can see Draw, which can be used to draw a decision tree:</li>
</ol>
<div><img src="img/f31bdbc6-4507-469f-86cb-b39b878316ce.png" style="width:35.17em;height:14.92em;" width="799" height="339"/></div>
<ol start="8">
<li>On the other hand, we can draw a decision tree based on the previous result by clicking on Draw (see the following diagram):</li>
</ol>
<div><img src="img/cf74d646-03c8-48b3-a3f7-b1275a7d5d6e.png" style="width:22.00em;height:23.50em;" width="509" height="544"/></div>
<p>From the previous tree, the first layer or question is whether the <strong>Petal.Length</strong> is smaller than <strong>2.6</strong> or not. From the green box, we know that there were 100% change that it is <strong>setosa</strong>. If the answer is <strong>no</strong> (that is, the <strong>Petal.Length</strong> is bigger than <strong>2.6</strong>), we have another question: is the <strong>Petal.Length</strong> is longer than <strong>4.8</strong>.</p>
<p>After clicking on Rules, we will see several layers of rules, as shown:</p>
<pre><strong>Tree as rules: </strong><br/><br/><strong> Rule number: 2 [Species=setosa cover=33 (31%) prob=1.00]</strong><br/><strong>   Petal.Length&lt; 2.6</strong><br/><br/><strong> Rule number: 7 [Species=virginica cover=35 (33%) prob=0.00]</strong><br/><strong>   Petal.Length&gt;=2.6</strong><br/><strong>   Petal.Length&gt;=4.85</strong><br/><br/><strong> Rule number: 6 [Species=versicolor cover=37 (35%) prob=0.00]</strong><br/><strong>   Petal.Length&gt;=2.6</strong><br/><strong>   Petal.Length&lt; 4.85</strong><br/><br/><strong>[1] 2 1 5 4 3</strong></pre>
<p>Another great thing is that we can recover the R program or R scripts to run the previous decision tree model, after clicking on Log. To save space, the related graph and script will not be shown here. The related code can be found at the bottom of the log file, where users can save it or copy and paste it to generate their own program. Readers will find it at <a href="http://.canisius.edu/~yany/R/iris02.txt">http://.canisius.edu/~yany/R/iris02.txt</a> (This link will be active from June 2018).<a href="http://.canisius.edu/~yany/R/iris02.txt"/></p>


            

            
        
    </div>
<div><h1 class="header-title">Finding all R packages</h1>
                
            
            
                
<p>For R-related packages, go to <a href="http://r-project.org">http://r-project.org</a> first. Click on CRAN and choose a mirror location, then click Packages on the left-hand side. We can see two lists, as shown here:  </p>
<div><img class="alignnone size-full wp-image-733 image-border" src="img/eebc1e16-8ff2-47a4-a5a0-b6a6fd1f27ef.png" style="width:29.33em;height:7.33em;" width="543" height="136"/></div>
<p>On February 22, 2018, there are 12,173 R packages available. The first list contains all available packages sorted by their publication dates (that is, the dates they updated, or published if they were never updated). The second list is sorted by their names. If we just want to find relevant packages, either list will be fine. For example, for the first list, here is a snapshot of a few lines:</p>
<div><img class="alignnone size-full wp-image-734 image-border" src="img/05c693e8-6578-45df-959c-00d2ad1e3c08.png" style="width:67.92em;height:22.33em;" width="815" height="268"/></div>
<p>The first column shows when the packages were last updated, or published if no updates were available. The second column shows the names of the packages, while the last column offers a short description of the usage for each package. We can use keywords to find the packages we want. Later in the chapter, we will discuss <strong>task views</strong>, which is a summary of all the related R packages around a topic.</p>


            

            
        
    </div>
<div><h1 class="header-title">Finding all Python packages</h1>
                
            
            
                
<p>To find all Python packages, we can go to <a href="https://pypi.python.org/">https://pypi.python.org/</a>. The following screenshot shows the top part of the website. As of February 22, 2018, there are 130,230 packages available:</p>
<div><img class="alignnone size-full wp-image-735 image-border" src="img/a8c13db3-9e5f-4156-a3d7-bf5864440eb5.png" style="width:58.92em;height:43.75em;" width="707" height="525"/></div>
<p>To find the packages we want, just click Browse packages and use keywords. For example, after entering <kbd>Data Science</kbd>, we will see the following results:</p>
<div><img class="alignnone size-full wp-image-736 image-border" src="img/c5925270-9473-402d-91ed-658d5d3f7066.png" style="width:44.42em;height:33.75em;" width="767" height="583"/></div>
<p>From the previous screenshot, we can see three columns: the first one gives the name of the package; the second one is called Weight, which can be viewed as the popularity index; and the last one offers a short description. The related URL is <a href="https://pypi.python.org/pypi?%3Aaction=search&amp;term=data+science&amp;submit=search">https://pypi.python.org/pypi?%3Aaction=search&amp;term=data+science&amp;submit=search</a>.</p>


            

            
        
    </div>
<div><h1 class="header-title">Finding all Julia packages</h1>
                
            
            
                
<p>For the packages written in Julia, we can go to <a href="https://pkg.julialang.org/">https://pkg.julialang.org/</a>. As of February 22, 2018, there are 1,725 packages available, as shown here:</p>
<div><img class="alignnone size-full wp-image-737 image-border" src="img/ca4a4ed4-57f8-4dbb-b426-43f9f5e3ab25.png" style="width:59.17em;height:20.83em;" width="710" height="250"/></div>
<p>Again, we can use keywords to search this list. For example, if we use <kbd>data</kbd> as our keyword, we will find 94 locations – the first one is shown in the following screenshot:</p>
<div><img class="alignnone size-full wp-image-738 image-border" src="img/19000b7f-80d5-47b7-8275-ca8d39ad1b0f.png" style="width:59.83em;height:13.50em;" width="718" height="162"/></div>


            

            
        
    </div>
<div><h1 class="header-title">Finding all Octave packages</h1>
                
            
            
                
<p class="mce-root">At <a href="https://octave.sourceforge.io/packages.php">https://octave.sourceforge.io/packages.php</a>, we can find a list of all available packages for Octave:</p>
<div><img class="alignnone size-full wp-image-739 image-border" src="img/ed830aff-6d9a-48bd-be93-701f691fbe35.png" style="width:86.75em;height:42.33em;" width="1041" height="508"/></div>
<p>Again, we can search for keywords. If the word  <kbd>data</kbd> is used, we will find 10 locations – the first few are shown here:</p>
<div><img class="alignnone size-full wp-image-740 image-border" src="img/7ade8641-e758-4fc3-a0b4-bb4e695fa68f.png" style="width:82.75em;height:20.42em;" width="993" height="245"/></div>


            

            
        
    </div>
<div><h1 class="header-title">Task views for R</h1>
                
            
            
                
<p>A task view is a set of R packages grouped by one or more experts around a specific topic. For example, for data visualization, we could choose the task view called Graphics. For a text analysis, we could choose the NaturalLanguageAnalysis task view. To find a list of all these task views, we can go to the R home page at <a href="http://r-project.org">http://r-project.org</a>. After clicking CRAN, choose a mirror server, then click Task Views on the left-hand side. The following screen will be displayed:</p>
<div><img class="alignnone size-full wp-image-741 image-border" src="img/f19bddd2-c7d8-4b90-a9a1-8aa7b4cdcbda.png" style="width:43.75em;height:38.67em;" width="710" height="628"/></div>
<p>If we are interested in data visualization, then we can click on Graphics (see the following screenshot):</p>
<div><img class="alignnone size-full wp-image-742 image-border" src="img/45168e36-cc4e-4a6a-9175-31ac514124cd.png" style="width:28.58em;height:16.75em;" width="593" height="347"/></div>
<p>To save space, only the top part is shown. The task view gives many R-related packages around the topics of <strong>Graphic Display &amp; Visualization</strong>. Another great benefit is installing all related packages by issuing just three lines of R code. Assume that we are interested in the task view related to finance. We can install all R packages listed with the task view by issuing the following commands:</p>
<pre>&gt;install.packages("ctv") 
&gt;library("ctv") 
&gt;install.views("Finance") </pre>
<p>To update a specific view, we use the R function <kbd>update.views()</kbd>:</p>
<pre>&gt;install.packages("ctv") 
&gt;library("ctv") 
&gt;update.views("Finance")</pre>


            

            
        
    </div>
<div><h1 class="header-title">Finding manuals</h1>
                
            
            
                
<p>For an R package, the best way to find the manual is to find the location of the installed R package. In the following example, we use the R package called <kbd>rattle</kbd> as an example:</p>
<pre>&gt; library(rattle) 
&gt; path.package('rattle') 
<strong>[1] "C:/Users/yany/Documents/R/win-library/3.3/rattle"</strong> </pre>
<p>Note that different readers will definitively get different paths. Our result is shown in the following screenshot:</p>
<div><img class="alignnone size-full wp-image-743 image-border" src="img/ad343331-59d8-4720-9283-c988b011a2e7.png" style="width:34.75em;height:18.42em;" width="599" height="318"/></div>
<p>The PDF manual and HTML manuals are located under the <kbd>doc</kbd> subdirectory. It is a great idea to explore these subdirectories. To save space, we will not show the detailed files contained under the subdirectories. The second best way is to go to <a href="http://r-project.org">http://r-project.org</a>, click <kbd>CRAN</kbd>, choose a nearby mirror location and click packages on the left-hand side. Then, from one of the two lists, search for the package. After clicking on the package, we will find the PDF file. For Python documentation, we can visit two websites  <a href="https://www.python.org/doc/">https://www.python.org/doc/</a> and <a href="https://packaging.python.org/">https://packaging.python.org/</a>. The second one is shown in the following screenshot:</p>
<div><img class="alignnone size-full wp-image-744 image-border" src="img/47ad178c-8441-443d-bdfe-1495060ead4e.png" style="width:39.00em;height:12.75em;" width="727" height="237"/></div>
<p class="mce-root">To find related manuals for Julia and Octave, we can go to the website of the related package and find more information. Again, the two related websites are <a href="https://pkg.julialang.org/">https://pkg.julialang.org/</a> and <a href="https://octave.sourceforge.io/packages.php">https://octave.sourceforge.io/packages.php</a>.</p>


            

            
        
    </div>
<div><h1 class="header-title">Package dependencies</h1>
                
            
            
                
<p>There are two types of package dependencies. The first one is the package depending on the version of underlying software. For example, take the Octave package called <kbd>statistics</kbd>, available at <a href="https://octave.sourceforge.io/statistics">https://octave.sourceforge.io/statistics</a>. On February 22, 2018, it has a version of <strong>1.3.0</strong> and it requires an underlying Octave with a version of at least <strong>4.0.0</strong>, as shown in the last line of the following screenshot:</p>
<div><img class="alignnone size-full wp-image-745 image-border" src="img/3cbc000b-8527-4c47-9cd6-086dd368a186.png" style="width:36.75em;height:22.75em;" width="767" height="475"/></div>
<p>The second type of dependency is between packages. Developers of various packages use many functions embedded in other developed packages. Not only does this save time, but it also means they don't have to reinvent the wheel. From the last line of the previous screenshot, we know that this package depends on another Octave package called <kbd>io</kbd>.</p>
<p>In the following, we show the process of installation. First, we download the ZIP file from <a href="https://octave.sourceforge.io/statistics/">https://octave.sourceforge.io/statistics/</a>. After using the correct path directing us to the ZIP file, we issue the following command:</p>
<pre>&gt;&gt; pkg install statistics-1.3.0.tar.gz<br/><strong>error: the following dependencies were unsatisfied:</strong><br/><strong>   statistics needs io &gt;= 1.0.18</strong></pre>
<p class="mce-root">The <kbd>error</kbd> message indicates that we have to install another package first. After installing the <kbd>io</kbd> package, the problem is solved, and here is the result after issuing the previous command the second time:</p>
<pre class="mce-root">  &gt;&gt; pkg install statistics-1.3.0.tar.gz</pre>
<p class="mce-root">For information about changes from previous versions of the <kbd>statistics</kbd> package, run  <kbd>news statistics</kbd>. Most of the time, users should not worry about package dependencies since many packages will update those packages automatically when we install them.</p>


            

            
        
    </div>
<div><h1 class="header-title">Package management in R</h1>
                
            
            
                
<p>There are three ways to install an R package. The first way is to use the <kbd>install.packages()</kbd> function. For example, assume that we plan to install an R package called <kbd>rattle</kbd>. We can use the following code to do this:</p>
<pre class="mce-root">   &gt;install.packages("rattle")</pre>
<p class="mce-root">The second way is to click Packages on the menu bar, choose a mirror location, then find the R package from a list (see the following screenshot showing the top part of the list):</p>
<div><img class="alignnone size-full wp-image-746 image-border" src="img/0a343207-84b1-4fa3-9445-efb590b97d89.png" style="width:16.42em;height:13.50em;" width="228" height="187"/></div>
<p class="mce-root">The third way to install an R package is to install it from a local ZIP file. To do so, first, manually download a ZIP file to your computer. Then click Packages on the menu bar and choose Install package(s) from local files..., as shown here: </p>
<div><img class="alignnone size-full wp-image-747 image-border" src="img/23a7ffd4-df99-46ea-8f34-5022cce98fea.png" style="width:15.92em;height:12.08em;" width="221" height="168"/></div>
<p class="mce-root">To update a package, click Packages on the menu bar, then choose Update packages... from the drop-down menu (that is, the fifth entry in the previous screenshot). Another way to update is to use the update.packages() function, shown here:</p>
<pre class="mce-root"><strong> &gt;update.packages("rattle")</strong> </pre>
<p class="mce-root">The following table lists the most frequently used commands related to handling R packages:</p>
<table style="border-collapse: collapse;width: 100%" class="MsoTableGrid" border="1">
<tbody>
<tr>
<td>
<div><strong>Action</strong></div>
</td>
<td>
<div><strong>R command</strong></div>
</td>
</tr>
<tr>
<td>
<p>Load an R package</p>
</td>
<td>
<p><kbd>&gt;library(rattle)</kbd></p>
<p><kbd>&gt;require(rattle)</kbd></p>
</td>
</tr>
<tr>
<td>
<p>Install a package</p>
</td>
<td>
<p><kbd>&gt;install.packages("rattle")</kbd></p>
</td>
</tr>
<tr>
<td>
<p>Update a package</p>
</td>
<td>
<p><kbd>&gt;update.packages("rattle")</kbd></p>
</td>
</tr>
<tr>
<td>
<p>List all loaded packages</p>
</td>
<td>
<p><kbd>&gt;search()</kbd></p>
</td>
</tr>
<tr>
<td>
<p>List all preinstall packages</p>
</td>
<td>
<p><kbd>&gt;library()</kbd></p>
</td>
</tr>
<tr>
<td>
<p>XML package loaded or not</p>
</td>
<td>
<p><kbd>&gt;"package:XML" %in% search()</kbd></p>
</td>
</tr>
<tr>
<td>
<p>XML package installed or not</p>
</td>
<td>
<p><kbd>&gt;"package:XML" %in% .packages(all.available=T)</kbd></p>
</td>
</tr>
<tr>
<td>
<p>Unload a package</p>
</td>
<td>
<p><kbd>detach(package:rattle)</kbd></p>
<p><kbd>&gt;detach("package:rattle",unload=TRUE)</kbd></p>
</td>
</tr>
<tr>
<td>
<p>Find more information</p>
</td>
<td>
<p><kbd>help(package=rattle)</kbd></p>
<p><kbd>&gt;library(help="rattle")</kbd></p>
</td>
</tr>
</tbody>
</table>
<p>Table 6.1 R commands for handling packages</p>
<p>As mentioned before, we could install all R packages listed within a specific task view by issuing just three lines of code. Since machine learning is one of the most important areas for data science, the related task view will be used as an example:</p>
<pre>&gt;install.packages("ctv") 
&gt;library("ctv") 
&gt;install.views("MachineLearning") </pre>
<p>As of February 22, 2018, there are about 168 R packages (see a list at <a href="http://canisius.edu/~yany/doc/taskViewMachineLearning.txt">http://canisius.edu/~yany/doc/taskViewMachineLearning.txt</a>). We can also update its specific view:</p>
<pre>&gt;install.packages("ctv") 
&gt;library("ctv") 
&gt;update.views("MachineLearning") </pre>


            

            
        
    </div>
<div><h1 class="header-title">Package management in Python</h1>
                
            
            
                
<p>We can use conda to install Python-related packages (see the related section later in the chapter). If we have various Python compilers, we can install Python packages easily. For example, if we use the Canopy compiler by <kbd>Enthought</kbd>, we can use Package Manager, as shown in the following screenshot:</p>
<div><img class="alignnone size-full wp-image-748 image-border" src="img/c4f448bf-2449-451d-91c7-7fd5f634a70f.png" style="width:66.58em;height:30.83em;" width="799" height="370"/></div>
<p>From this, we can find out how many packages were installed and how many are available.</p>
<p>It's quite simple to install or update a package. For example, to install a package, we simply choose one from the list. The same logic applies when we update one. To find all embedded functions within a package, we can use the following command:</p>
<pre>&gt;import matplotlib as mat 
&gt;x=dir(mat) 
&gt;print(x) </pre>
<p>The related screenshot is shown here:</p>
<div><img class="alignnone size-full wp-image-749 image-border" src="img/579e9b75-1810-4505-90ad-6159ab5398ac.png" style="width:73.50em;height:40.67em;" width="882" height="488"/></div>


            

            
        
    </div>
<div><h1 class="header-title">Package management in Julia</h1>
                
            
            
                
<p>To see a list of installed packages, we use the <kbd>Pkg.status()</kbd> function, as shown:</p>
<div><img class="alignnone size-full wp-image-750 image-border" src="img/384dd845-a6d3-4d8a-8db5-11e1ec3cd5da.png" style="width:22.50em;height:10.17em;" width="326" height="148"/></div>
<p>To save space, only the first several lines are shown. Alternatively, we can issue <kbd>Pkg.installed()</kbd>, which returns a dictionary, mapping installed package names to the versions of those which are installed, as shown here:</p>
<div><img class="alignnone size-full wp-image-751 image-border" src="img/b3c07f10-e576-4ca5-aa2b-c801799960f6.png" style="width:22.92em;height:18.17em;" width="355" height="282"/></div>
<p>To add or remove a package, we apply the <kbd>Pkg.add()</kbd> and <kbd>Pkg.rm()</kbd> functions, as shown in this example:</p>
<pre class="mce-root">Julia&gt;Pkg.add("AbstractTable") <br/>Julia&gt;Pkg.rm("AbstractTable")</pre>
<p class="mce-root">To get all the latest versions, we issue the following command:</p>
<pre class="mce-root">Julia&gt;Pkg.update() </pre>


            

            
        
    </div>
<div><h1 class="header-title">Package management in Octave</h1>
                
            
            
                
<p>We will use the Octave package called <kbd>statistics</kbd> as an example. First, we find the ZIP file for the package at <a href="https://octave.sourceforge.io/statistics/">https://octave.sourceforge.io/statistics/</a>, as shown in the following screenshot:</p>
<div><img class="alignnone size-full wp-image-752 image-border" src="img/3d410c3a-5434-440b-8010-b9385e66b001.png" style="width:35.00em;height:22.33em;" width="794" height="506"/></div>
<p>Second, we set up our path to the directory containing the previously downloaded ZIP file. Third, we issue <kbd>pkg install package_name</kbd>, as shown:</p>
<pre class="mce-root"><strong>&gt; pkg install statistics-1.3.0.tar.gz</strong> </pre>
<p class="mce-root">For information about changes from previous versions of the <kbd>statistics</kbd> package, run <kbd>news statistics</kbd>. To get more information about the new version, we type <kbd>news statistics</kbd> as mentioned previously:</p>
<div><img class="alignnone size-full wp-image-753 image-border" src="img/f41c3c8f-dc16-4e6f-8e14-e4e97f17362d.png" style="width:26.75em;height:11.17em;" width="504" height="211"/></div>
<p>To load and unload a package, we have the following code:</p>
<pre class="mce-root"><strong>&gt;pkg load statistics 
&gt;&gt;pkg unload statistics </strong></pre>
<p class="mce-root">As for all the other functions included in the <kbd>statistics</kbd> package, see <a href="https://octave.sourceforge.io/statistics/overview.html">https://octave.sourceforge.io/statistics/overview.html</a>.</p>


            

            
        
    </div>
<div><h1 class="header-title">Conda – the package manager</h1>
                
            
            
                
<p>After we launch Anaconda Prompt and issue <kbd>conda help</kbd>, we will see the following output:</p>
<div><img class="alignnone size-full wp-image-754 image-border" src="img/5bb6556a-d35f-4ab9-a67e-17fdc29e88d2.png" style="width:35.00em;height:34.50em;" width="656" height="648"/></div>
<p>From the previous help menu, we know that we can install, update, and uninstall a package. Usually, we can use <kbd>conda</kbd> to install a package. However, we may receive an error message (see the following example):</p>
<div><img class="alignnone size-full wp-image-755 image-border" src="img/32bbc595-8a56-40ed-80ab-8dfaf41cd484.png" style="width:41.00em;height:16.33em;" width="640" height="255"/></div>
<p>To update conda itself, we use <kbd>conda update -n base conda</kbd> command, as shown here:</p>
<div><img class="alignnone size-full wp-image-756 image-border" src="img/25b12823-2fc3-445a-8abc-4bf719a1e5e8.png" style="width:28.00em;height:10.92em;" width="407" height="159"/></div>
<p>We could find more information about specific Python packages by using the search function, as shown here:</p>
<div><img class="alignnone size-full wp-image-757 image-border" src="img/456f341a-4ef9-463d-9dc0-79b9e6f1ae8e.png" style="width:38.33em;height:9.67em;" width="548" height="138"/></div>
<p>The following table lists several of the most used commands:</p>
<table style="border-collapse: collapse;width: 100%" class="MsoTableGrid" border="1">
<tbody>
<tr>
<td>
<div><strong>Command</strong></div>
</td>
<td>
<div><strong>Explanation</strong></div>
</td>
</tr>
<tr>
<td>
<p><kbd>Conda help</kbd></p>
<p><kbd>Conda info</kbd></p>
</td>
<td>
<p>Get help about the usages of <kbd>conda</kbd></p>
</td>
</tr>
<tr>
<td>
<p><kbd>conda update -n base conda</kbd></p>
</td>
<td>
<p>Get information related to <kbd>conda</kbd>, such as the current version, base environment and the related websites</p>
</td>
</tr>
<tr>
<td>
<p><kbd>conda search matplotlib</kbd></p>
</td>
<td>
<p>Find all versions about this specific Python package</p>
</td>
</tr>
<tr>
<td>
<p><kbd>conda install matploblit</kbd></p>
</td>
<td>
<p>Install the Python package called <kbd>matplotlib</kbd></p>
</td>
</tr>
<tr>
<td>
<p><kbd>conda update matploblit</kbd></p>
</td>
<td>
<p>Update the Python packaged called <kbd>matplotlib</kbd></p>
</td>
</tr>
<tr>
<td>
<p><kbd>conda remove matploblit</kbd></p>
</td>
<td>
<p>Remove the Python package called <kbd>matplotlib</kbd></p>
</td>
</tr>
</tbody>
</table>
<p>Table 6.2 Most used Conda commands</p>


            

            
        
    </div>
<div><h1 class="header-title">Creating a set of programs in R and Python</h1>
                
            
            
                
<p>On numerous occasions, for a specific research topic, researchers will collect many datasets and write many programs. Why not write a big program? There are several reasons for not doing so. First, we might need several steps to finish the project. Second, the project might be too complex, so we have divided the whole project into several small portions. Each researcher will be responsible for one or a few portions. Third, according to the flow of the whole process, we might want to have several parts, such as devoting a part to processing data, a part to running various regressions, and a part to summarizing the results. Because of this, we need a way of putting all the programs together. In the following example, we will show you how to achieve this in both R and Python. For R, assume that we have the following functions:</p>
<pre>pv_f&lt;-function(fv,r,n) fv/(1+r)^n 
fv_f&lt;-function(pv,r,n)pv*(1+r)^n 
pv_annuity&lt;-function(c,r,n)c/r*(1-1/(1+r)^n) 
fv_annuity&lt;-function(c,r,n)c/r*((1+r)^n-1) 
pv_perptuity&lt;-function(c,r)c/r 
pv_perptuityDue&lt;-function(c,r)c/r*(1+r) </pre>
<p>To make our task easy, we deliberately chose these one-line functions. Assume that the file is called <kbd>financalCalculator.R</kbd> under <kbd>c:/temp</kbd>. We use the <kbd>source()</kbd> command to activate them and use the <kbd>ls()</kbd> function to list all contained functions:</p>
<pre>&gt; source("c:/temp/financalCalculator.R")<br/>&gt; ls()<br/>  [1] "fv_annuity" "fv_f" "pv_annuity" <br/>  [4] "pv_f" "pv_perptuity" "pv_perptuityDue"mp/fincalCalculator.R")</pre>
<p class="mce-root">For Python, we can generate a file containing all related functions. Then we can use an import function to load them all. First, download a Python program at <a href="http://canisius.edu/~yany/python/myPackage.py">http://canisius.edu/~yany/python/myPackage.py</a>. Assume that it is saved under <kbd>c:/temp</kbd>/. We type the following two lines:</p>
<pre>import py_compile<br/>py_compile.compile('c:/temp/myPackage.py')</pre>
<p class="mce-root">After entering these two lines, we have generated a file with an extension of <kbd>pyc</kbd>, as shown here:</p>
<div><img class="alignnone size-full wp-image-758 image-border" src="img/a81a1722-a13e-4717-96c7-fcd4c70d77c6.png" style="width:35.25em;height:3.92em;" width="609" height="68"/></div>
<p>Now, we can use the import function to import the contained functions, as shown in the following command:</p>
<pre class="mce-root">&gt;&gt;&gt;sys.path.append("c:/temp/")<br/>&gt;&gt;&gt;import myPackage as my<br/>&gt;&gt;&gt;x=dir(my)<br/>&gt;&gt;&gt;print(x)</pre>
<p class="mce-root">Note that the first command adds <kbd>c:/temp/</kbd> to the path, while the second one imports our package. The following screenshot shows the output:</p>
<div><img class="alignnone size-full wp-image-759 image-border" src="img/fca015e0-0ec3-4b22-b2f5-ef5d4eeee01b.png" style="width:41.17em;height:11.50em;" width="777" height="217"/></div>


            

            
        
    </div>
<div><h1 class="header-title">Finding environmental variables</h1>
                
            
            
                
<p>For R, we can use the <kbd>Sys.getenv()</kbd> function to find all environmental variables:</p>
<div><img class="alignnone size-full wp-image-760 image-border" src="img/a55d650a-fe07-4eee-9f84-b0e71deb3967.png" style="width:28.50em;height:9.92em;" width="596" height="208"/></div>
<p>To save space, only the top part is shown. Again, different users will get different results. For Python, we use the following commands:</p>
<pre class="mce-root">import sys<br/>sys.path </pre>
<p class="mce-root">The top part of the output is shown here:</p>
<div><img class="alignnone size-full wp-image-761 image-border" src="img/4b79931f-e13e-4929-ade6-7fd15a45c2ac.png" style="width:44.17em;height:7.92em;" width="903" height="162"/></div>
<p>For Julia, we use the <kbd>ENV</kbd> function, as in the following:</p>
<div><img class="alignnone size-full wp-image-762 image-border" src="img/458f07ec-19f7-4b92-b47c-75bd396ca010.png" style="width:33.75em;height:15.58em;" width="640" height="295"/></div>
<p>For Octave, we can use the <kbd>getenv()</kbd> function, as shown:</p>
<pre>&gt;&gt; getenv('path') 
<strong>ans = C:OctaveOctave-4.0.0bin;C:Program FilesSilverfrostFTN95;C:Perlsitebin;C:Perlbin;C:windowssystem32;C:windows;C: 
windowsSystem32Wbem;C:windowsSystem32WindowsPowerShellv1.0;C:Program FilesIntelOpenCL SDK2.0binx86;C:Program Files 
Common FilesRoxio SharedDLLShared;C:Program FilesCommon FilesRoxio Shared10.0DLLShared;C:Program FilesMATLABR2013abin 
;C:Anaconda;C:AnacondaScripts;C:Program FilesWindows Kits8.1Windows Performance Toolkit;C:Program FilesSkypePhone;;C: 
OctaveOctave-4.0.0bin;C:OctaveOctave-4.0.0notepad++;C:OctaveOctave-4.0.0libexecoctave4.0.0siteexeci686-w64-mingw32;C: 
OctaveOctave-4.0.0libexecoctaveapi-v50+siteexeci686-w64-mingw32;C:OctaveOctave-4.0.0libexecoctavesiteexeci686-w64-m 
ingw32;C:OctaveOctave-4.0.0libexecoctave4.0.0execi686-w64-mingw32;C:OctaveOctave-4.0.0bin</strong> 
&gt;&gt; </pre>


            

            
        
    </div>
<div><h1 class="header-title">Summary</h1>
                
            
            
                
<p>In this chapter, we have first discussed the importance of managing packages. Then, we have shown how to find all the available packages for R, Python, Julia, and Octave, how to install and update individual packages, and how to find the manual for teaching the packages. In addition, we have explained the issue of package dependencies and how to make our programming a little easier when dealing with packages. The topic of systematic environment was touched on as well.</p>
<p>In <a href="d21074f6-dd03-4801-bd06-995b58b56947.xhtml" target="_blank">Chapter 7</a>, <em>Optimization in Anaconda</em>, we will discuss several topics around optimization, such as general issues for optimization problems and expressing various kinds of optimization problems (for example, LP and quadratic optimization). Several examples are offered to make our discussion more practice-oriented, such as how to choose an optimal stock portfolio and how to optimize wealth and resources to promote sustainable development and how much the government should tax. In addition, we will introduce several packages for optimization in R, Python, Julia, and Octave, such as <kbd>optimization</kbd>, <kbd>MlBayesOpt</kbd>, <kbd>rgenoud</kbd>, <kbd>colf</kbd>, and <kbd>mize</kbd>.</p>


            

            
        
    </div>
<div><h1 class="header-title">Review questions and exercises</h1>
                
            
            
                
<ol start="1">
<li>Why is understanding various packages important?</li>
<li>What are package dependencies?</li>
<li>For R, Python, Julia, and Octave, find out how many packages are available for each of them, today.</li>
<li>How do we install a package in R, Python, and Julia?</li>
<li>How do we update a package in R, Python, and Julia?</li>
<li>What is the task view for R?</li>
<li>How do we install all R packages included in a task view?</li>
<li>After an R package is installed, how do you find its related directory? What is the usage to find its related directory? You could use the R package called <kbd>healthcare</kbd> as an example. Note that the package is about tools for healthcare machine learning.</li>
<li>Find out more details about the task views related to the subject of Econometrics. Then install all related R packages. How many are there?</li>
<li>How do we update one R package? How would we do it for Octave?</li>
<li>How do we find the manual for a specific package written in R, Python, Julia, or Octave?</li>
<li>Choose a subject, such as graph, data visualization, find 10 packages for each language of R, Python, Julia, and Octave. Use machine learning as an example.</li>
<li>Write an R program to test if a specific R package is loaded or not. If it is not loaded but preinstalled, then load the R package. Also, if the R package is not installed, then remind users to install it.</li>
<li>How do we use conda to install a Python package called <kbd>Matplotlib</kbd>?</li>
<li>Where can we find the manual related to a Python package called <kbd>Matplotlib</kbd>? How do we find all the embedded functions?</li>
<li>How do we find the manual for an R package called Stats?</li>
<li>For exchanging data between Excel and R, we can use an R package called <kbd>XLConnect</kbd>. Install the package and issue the following two lines. Comment on your result:</li>
</ol>
<pre style="padding-left: 90px">&gt;library(XLConnect) 
&gt;vignette("XLConnect") </pre>
<p style="padding-left: 60px">Try about a dozen R packages to see if the function is valid for all of them.</p>
<ol start="18">
<li>How do we find the so-called environment variables in R, Python, Julia, and Octave?</li>
<li>Generate two dozen R programs around a topic, such as text mining. Save them within one file. Activate them and use them.</li>
<li>Repeat the previous exercise for the Python language.</li>
</ol>


            

            
        
    </div></body></html>